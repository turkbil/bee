<div x-show="isLoggedIn" x-data="{
            timeLeft: '',
            memberType: '',
            memberIcon: '',
            hasDate: false,
            isExpired: false,
            init() {
                this.updateMemberStatus();
                setInterval(() =&gt; this.updateMemberStatus(), 60000);
            },
            updateMemberStatus() {
                const lang = window.muzibuPlayerConfig?.frontLang?.sidebar || {};

                // 1. Ucretsiz uye (is_premium = false)
                if (!this.currentUser?.is_premium) {
                    this.memberType = lang.free_member || 'Free Member';
                    this.memberIcon = '';
                    this.hasDate = false;
                    return;
                }

                // 2. Trial mi Premium mi? (is_trial flag'i kullan)
                const isTrial = this.currentUser?.is_trial === true;
                const endDate = isTrial
                    ? this.currentUser?.trial_ends_at
                    : this.currentUser?.subscription_ends_at;

                if (isTrial) {
                    this.memberType = lang.trial_member || 'Trial Member';
                    this.memberIcon = 'fa-gift';
                } else {
                    this.memberType = lang.premium_member || 'Premium Member';
                    this.memberIcon = 'fa-crown';
                }

                // Tarih yoksa sadece badge goster
                if (!endDate) {
                    this.hasDate = false;
                    return;
                }

                this.hasDate = true;
                const now = new Date();
                const expiry = new Date(endDate);
                const diff = expiry - now;

                if (diff &lt;= 0) {
                    this.timeLeft = lang.membership_expired || 'Membership expired';
                    this.isExpired = true;
                    return;
                }

                this.isExpired = false;
                const days = Math.floor(diff / (1000 * 60 * 60 * 24));
                const hours = Math.floor((diff % (1000 * 60 * 60 * 24)) / (1000 * 60 * 60));
                const minutes = Math.floor((diff % (1000 * 60 * 60)) / (1000 * 60));

                if (days &gt; 0) {
                    this.timeLeft = (lang.days_hours_left || ':days days :hours hours left').replace(':days', days).replace(':hours', hours);
                } else if (hours &gt; 0) {
                    this.timeLeft = (lang.hours_minutes_left || ':hours hours :minutes min left').replace(':hours', hours).replace(':minutes', minutes);
                } else {
                    this.timeLeft = (lang.minutes_left || ':minutes minutes left').replace(':minutes', minutes);
                }
            },
            get currentUser() {
                return window.muzibuPlayerConfig?.currentUser || null;
            }
        }" class="mt-4 bg-gradient-to-br from-[#ff6b6b] via-[#ff5252] to-[#e91e63] rounded-2xl p-4 shadow-xl relative overflow-hidden group" data-alpine-initialized="true">
        
        <div class="absolute inset-0 opacity-10">
            <div class="absolute inset-0 bg-[radial-gradient(circle_at_50%_120%,rgba(255,255,255,0.3),transparent_50%)]"></div>
        </div>

        
        <div class="relative z-10">
            
            <div class="flex items-center gap-3 mb-3">
                <div class="w-12 h-12 rounded-full bg-white/20 backdrop-blur-sm flex items-center justify-center text-2xl border-2 border-white/30">
                    <template x-if="currentUser?.is_premium">
                        <i class="fas fa-crown text-yellow-300"></i>
                    </template><i class="fas fa-crown text-yellow-300"></i>
                    <template x-if="!currentUser?.is_premium">
                        <i class="fas fa-user text-white/80"></i>
                    </template>
                </div>
                <div class="flex-1 min-w-0">
                    <h3 class="text-white font-bold text-sm break-words" x-text="currentUser?.name || (window.muzibuPlayerConfig?.frontLang?.user?.user || 'User')">Nurullah</h3>

                    
                    <div class="text-white/90 text-xs">
                        <div class="flex items-center gap-1">
                            <template x-if="memberIcon">
                                <i class="fas text-yellow-300" :class="memberIcon"></i>
                            </template><i class="fas text-yellow-300 fa-crown" :class="memberIcon"></i>
                            <span x-text="memberType">Premium Üye</span>
                        </div>
                        
                        <template x-if="hasDate">
                            <p class="text-[10px] mt-0.5" :class="isExpired ? 'text-red-300 animate-pulse' : 'text-white/70'">
                                <i class="fas fa-clock mr-1"></i>
                                <span x-text="timeLeft"></span>
                            </p>
                        </template><p class="text-[10px] mt-0.5 text-white/70" :class="isExpired ? 'text-red-300 animate-pulse' : 'text-white/70'">
                                <i class="fas fa-clock mr-1"></i>
                                <span x-text="timeLeft">362 gün 0 saat kaldı</span>
                            </p>
                    </div>
                </div>
            </div>

            
            <template x-if="!currentUser?.is_premium">
                <a href="/subscription/plans" class="block w-full mb-3 bg-gradient-to-r from-yellow-500 to-orange-500 hover:from-yellow-400 hover:to-orange-400 text-white px-4 py-2.5 rounded-lg text-sm font-bold text-center transition-all duration-300 shadow-lg hover:shadow-xl transform hover:scale-[1.02]">
                    <i class="fas fa-crown mr-2"></i>
                    Premium'a Geç
                </a>
            </template>

            
            <template x-if="currentUser?.is_premium">
                <a href="/subscription/plans" class="block w-full mb-3 bg-gradient-to-r from-yellow-500/80 to-orange-500/80 hover:from-yellow-400 hover:to-orange-400 text-white px-4 py-2.5 rounded-lg text-sm font-bold text-center transition-all duration-300 shadow-lg hover:shadow-xl transform hover:scale-[1.02]">
                    <i class="fas fa-sync-alt mr-2"></i>
                    Üyeliğini Uzat
                </a>
            </template><a href="/subscription/plans" class="block w-full mb-3 bg-gradient-to-r from-yellow-500/80 to-orange-500/80 hover:from-yellow-400 hover:to-orange-400 text-white px-4 py-2.5 rounded-lg text-sm font-bold text-center transition-all duration-300 shadow-lg hover:shadow-xl transform hover:scale-[1.02]">
                    <i class="fas fa-sync-alt mr-2"></i>
                    Üyeliğini Uzat
                </a>

            
            <button @click="logout()" class="w-full bg-black/30 hover:bg-black/50 backdrop-blur-sm text-white px-4 py-2 rounded-lg text-sm font-semibold transition-all duration-300 border border-white/20 hover:border-white/40">
                <i class="fas fa-sign-out-alt mr-2"></i>
                Çıkış Yap
            </button>
        </div>
    </div>
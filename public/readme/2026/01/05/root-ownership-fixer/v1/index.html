<!DOCTYPE html>
<html lang="tr">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Root Ownership Fixer - Otomatik DÃ¼zeltme AracÄ±</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <script>
        tailwind.config = {
            darkMode: 'class',
            theme: {
                extend: {
                    colors: {
                        slate: {
                            850: '#1a2332',
                            950: '#0f1419'
                        }
                    }
                }
            }
        }
    </script>
    <style>
        body { font-family: 'Inter', -apple-system, BlinkMacSystemFont, sans-serif; }
        .gradient-bg { background: linear-gradient(135deg, #667eea 0%, #764ba2 100%); }
        .code-block { background: #1e293b; border-left: 4px solid #3b82f6; }
    </style>
</head>
<body class="bg-slate-950 text-slate-100 dark">

    <!-- Header -->
    <header class="gradient-bg border-b border-slate-700/50 sticky top-0 z-50 backdrop-blur-sm bg-opacity-90">
        <div class="max-w-6xl mx-auto px-6 py-4">
            <div class="flex items-center justify-between">
                <div class="flex items-center gap-3">
                    <div class="w-10 h-10 bg-white/10 rounded-lg flex items-center justify-center">
                        <span class="text-2xl">ğŸ”§</span>
                    </div>
                    <div>
                        <h1 class="text-xl font-bold text-white">Root Ownership Fixer</h1>
                        <p class="text-sm text-white/70">Otomatik DÃ¼zeltme AracÄ±</p>
                    </div>
                </div>
                <div class="text-right">
                    <div class="text-sm text-white/90 font-mono">tuufi.com</div>
                    <div class="text-xs text-white/60">5 Ocak 2026</div>
                </div>
            </div>
        </div>
    </header>

    <!-- Ana Ä°Ã§erik -->
    <main class="max-w-6xl mx-auto px-6 py-8">

        <!-- Sorun AÃ§Ä±klamasÄ± -->
        <section class="mb-8">
            <div class="bg-red-900/20 border border-red-800 rounded-lg p-6">
                <div class="flex items-start gap-3">
                    <span class="text-3xl">ğŸš¨</span>
                    <div class="flex-1">
                        <h2 class="text-xl font-bold text-red-400 mb-2">Sorun: Root-Owned Dosyalar</h2>
                        <p class="text-slate-300 mb-3">
                            Laravel uygulamasÄ±nda Claude Code ile yapÄ±lan dosya iÅŸlemleri (Write/Edit tool)
                            <strong class="text-red-400">root:root</strong> ownership ile oluÅŸturuluyor.
                            Bu da PHP-FPM'in bu dosyalara eriÅŸememesine neden oluyor.
                        </p>
                        <div class="grid grid-cols-1 md:grid-cols-2 gap-4 mt-4">
                            <div class="bg-slate-800/50 rounded p-3">
                                <div class="text-red-400 font-semibold mb-1">âŒ Sorunlar</div>
                                <ul class="text-sm text-slate-300 space-y-1">
                                    <li>â€¢ Permission Denied hatalarÄ±</li>
                                    <li>â€¢ Composer autoload eriÅŸilemiyor</li>
                                    <li>â€¢ Config cache oluÅŸturulamÄ±yor</li>
                                    <li>â€¢ Console komutlarÄ± Ã§alÄ±ÅŸmÄ±yor</li>
                                </ul>
                            </div>
                            <div class="bg-slate-800/50 rounded p-3">
                                <div class="text-green-400 font-semibold mb-1">âœ… Ã‡Ã¶zÃ¼m</div>
                                <ul class="text-sm text-slate-300 space-y-1">
                                    <li>â€¢ TÃ¼m dosyalar â†’ tuufi.com_:psaserv</li>
                                    <li>â€¢ Dosya izinleri â†’ 644</li>
                                    <li>â€¢ KlasÃ¶r izinleri â†’ 755</li>
                                    <li>â€¢ Storage Ã¶zel izinler â†’ 777</li>
                                </ul>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </section>

        <!-- Basit AnlatÄ±m -->
        <section class="mb-8">
            <div class="bg-green-900/20 border border-green-800 rounded-lg p-6">
                <h3 class="text-lg font-bold text-green-400 mb-3 flex items-center gap-2">
                    <span>ğŸ“</span> Basit AnlatÄ±m (Herkes Ä°Ã§in)
                </h3>
                <div class="text-slate-300 space-y-3">
                    <p>
                        <strong class="text-green-400">Ne yapÄ±yor bu script?</strong><br>
                        Sistemde "root" kullanÄ±cÄ±sÄ± tarafÄ±ndan oluÅŸturulmuÅŸ dosyalarÄ± bulup,
                        doÄŸru kullanÄ±cÄ±ya (tuufi.com_) Ã§eviriyor. BÃ¶ylece web sunucusu ve PHP
                        bu dosyalara sorunsuz eriÅŸebiliyor.
                    </p>
                    <p>
                        <strong class="text-green-400">Neden Ã¶nemli?</strong><br>
                        Root kullanÄ±cÄ±sÄ±nÄ±n dosyalarÄ±na normal kullanÄ±cÄ± (PHP) eriÅŸemez.
                        Bu da sitenin bazÄ± Ã¶zelliklerinin Ã§alÄ±ÅŸmamasÄ±na neden olur.
                        Bu script sayesinde tek komutla tÃ¼m izinler dÃ¼zeltilebiliyor.
                    </p>
                    <p>
                        <strong class="text-green-400">Ne zaman kullanmalÄ±?</strong><br>
                        Claude Code ile dosya oluÅŸturduktan sonra veya "Permission Denied"
                        hatasÄ± aldÄ±ÄŸÄ±nÄ±zda Ã§alÄ±ÅŸtÄ±rÄ±n. Script otomatik olarak sorunlarÄ± tespit
                        edip dÃ¼zeltir.
                    </p>
                </div>
            </div>
        </section>

        <!-- Teknik Detaylar -->
        <section class="mb-8">
            <div class="bg-blue-900/20 border border-blue-800 rounded-lg p-6">
                <h3 class="text-lg font-bold text-blue-400 mb-3 flex items-center gap-2">
                    <span>ğŸ”§</span> Teknik Detaylar (GeliÅŸtiriciler Ä°Ã§in)
                </h3>
                <div class="space-y-4">
                    <div>
                        <div class="text-blue-300 font-semibold mb-2">Script Ã–zellikleri:</div>
                        <ul class="text-slate-300 space-y-2 text-sm">
                            <li>âœ… <strong>Otomatik KullanÄ±cÄ± Tespiti:</strong> composer.json dosyasÄ±nÄ±n owner'Ä±ndan doÄŸru kullanÄ±cÄ±yÄ± bulur</li>
                            <li>âœ… <strong>Manuel KullanÄ±cÄ± DesteÄŸi:</strong> Ä°steÄŸe baÄŸlÄ± kullanÄ±cÄ±:grup parametresi</li>
                            <li>âœ… <strong>Git KorumasÄ±:</strong> .git klasÃ¶rÃ¼ hiÃ§ dokunulmaz (git iÃ§in root gerekli)</li>
                            <li>âœ… <strong>Paralel Ä°ÅŸlem:</strong> xargs -P 4 ile hÄ±zlÄ± toplu dÃ¼zeltme</li>
                            <li>âœ… <strong>Ä°zin DÃ¼zeltme:</strong> Dosya 644, klasÃ¶r 755, storage 777</li>
                            <li>âœ… <strong>Renkli Ã‡Ä±ktÄ±:</strong> Terminal'de gÃ¶rsel feedback</li>
                            <li>âœ… <strong>Onay MekanizmasÄ±:</strong> Ä°ÅŸlem Ã¶ncesi kullanÄ±cÄ± onayÄ±</li>
                        </ul>
                    </div>
                    <div>
                        <div class="text-blue-300 font-semibold mb-2">Script Konumu:</div>
                        <div class="code-block rounded p-3 font-mono text-sm text-slate-300">
                            /var/www/vhosts/tuufi.com/httpdocs/public/readme/2026/01/05/root-ownership-fixer/v1/fix-root-ownership.sh
                        </div>
                    </div>
                    <div>
                        <div class="text-blue-300 font-semibold mb-2">Ä°ÅŸlem AdÄ±mlarÄ±:</div>
                        <ol class="text-slate-300 space-y-2 text-sm list-decimal list-inside">
                            <li>DoÄŸru kullanÄ±cÄ±yÄ± tespit et (composer.json owner'Ä±)</li>
                            <li>Root-owned dosyalarÄ± say (.git hariÃ§)</li>
                            <li>KullanÄ±cÄ±dan onay al</li>
                            <li>TÃ¼m dosya ownership'lerini dÃ¼zelt (tuufi.com_:psaserv)</li>
                            <li>TÃ¼m klasÃ¶r ownership'lerini dÃ¼zelt</li>
                            <li>Dosya izinlerini dÃ¼zelt (644)</li>
                            <li>KlasÃ¶r izinlerini dÃ¼zelt (755)</li>
                            <li>Storage Ã¶zel izinleri uygula (777/775)</li>
                            <li>Symlink ownership dÃ¼zelt</li>
                            <li>SonuÃ§ raporu gÃ¶ster</li>
                        </ol>
                    </div>
                </div>
            </div>
        </section>

        <!-- KullanÄ±m KÄ±lavuzu -->
        <section class="mb-8">
            <div class="bg-purple-900/20 border border-purple-800 rounded-lg p-6">
                <h3 class="text-lg font-bold text-purple-400 mb-4 flex items-center gap-2">
                    <span>ğŸ“–</span> KullanÄ±m KÄ±lavuzu
                </h3>

                <!-- YÃ¶ntem 1: Otomatik -->
                <div class="mb-6">
                    <div class="bg-slate-800/50 rounded-lg p-4">
                        <div class="flex items-center gap-2 mb-3">
                            <span class="text-2xl">ğŸ¤–</span>
                            <h4 class="text-lg font-semibold text-purple-300">YÃ¶ntem 1: Otomatik KullanÄ±cÄ± Tespiti (Ã–nerilen)</h4>
                        </div>
                        <p class="text-slate-300 mb-3 text-sm">
                            Script otomatik olarak doÄŸru kullanÄ±cÄ±yÄ± tespit eder (composer.json owner'Ä±).
                        </p>
                        <div class="code-block rounded p-4 font-mono text-sm">
                            <div class="text-slate-500 mb-2"># Script'i Ã§alÄ±ÅŸtÄ±rÄ±labilir yap</div>
                            <div class="text-green-400">chmod +x public/readme/2026/01/05/root-ownership-fixer/v1/fix-root-ownership.sh</div>

                            <div class="text-slate-500 mt-4 mb-2"># Script'i Ã§alÄ±ÅŸtÄ±r</div>
                            <div class="text-green-400">./public/readme/2026/01/05/root-ownership-fixer/v1/fix-root-ownership.sh</div>
                        </div>
                    </div>
                </div>

                <!-- YÃ¶ntem 2: Manuel KullanÄ±cÄ± -->
                <div class="mb-6">
                    <div class="bg-slate-800/50 rounded-lg p-4">
                        <div class="flex items-center gap-2 mb-3">
                            <span class="text-2xl">ğŸ‘¤</span>
                            <h4 class="text-lg font-semibold text-purple-300">YÃ¶ntem 2: Manuel KullanÄ±cÄ± Belirtme</h4>
                        </div>
                        <p class="text-slate-300 mb-3 text-sm">
                            KullanÄ±cÄ± ve grubu manuel olarak belirlemek isterseniz:
                        </p>
                        <div class="code-block rounded p-4 font-mono text-sm">
                            <div class="text-green-400">./public/readme/2026/01/05/root-ownership-fixer/v1/fix-root-ownership.sh tuufi.com_ psaserv</div>
                        </div>
                    </div>
                </div>

                <!-- YÃ¶ntem 3: KÄ±sa Yol -->
                <div>
                    <div class="bg-slate-800/50 rounded-lg p-4">
                        <div class="flex items-center gap-2 mb-3">
                            <span class="text-2xl">âš¡</span>
                            <h4 class="text-lg font-semibold text-purple-300">YÃ¶ntem 3: KÄ±sa Yol (Alias)</h4>
                        </div>
                        <p class="text-slate-300 mb-3 text-sm">
                            HÄ±zlÄ± kullanÄ±m iÃ§in alias oluÅŸturun:
                        </p>
                        <div class="code-block rounded p-4 font-mono text-sm">
                            <div class="text-slate-500 mb-2"># .bashrc veya .zshrc dosyanÄ±za ekleyin</div>
                            <div class="text-yellow-400">alias fix-root='sudo /var/www/vhosts/tuufi.com/httpdocs/public/readme/2026/01/05/root-ownership-fixer/v1/fix-root-ownership.sh'</div>

                            <div class="text-slate-500 mt-4 mb-2"># KullanÄ±m</div>
                            <div class="text-green-400">fix-root</div>
                        </div>
                    </div>
                </div>
            </div>
        </section>

        <!-- Ã–rnek Ã‡Ä±ktÄ± -->
        <section class="mb-8">
            <div class="bg-slate-800/50 border border-slate-700 rounded-lg p-6">
                <h3 class="text-lg font-bold text-slate-300 mb-4 flex items-center gap-2">
                    <span>ğŸ“º</span> Ã–rnek Ã‡Ä±ktÄ±
                </h3>
                <div class="bg-slate-950 rounded p-4 font-mono text-xs overflow-x-auto">
                    <div class="text-blue-400">â•”â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•—</div>
                    <div class="text-blue-400">â•‘         Root Ownership Fixer - Laravel Multi-Tenant           â•‘</div>
                    <div class="text-blue-400">â•šâ•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•</div>
                    <div class="mt-2"></div>
                    <div class="text-yellow-400">ğŸ” Otomatik kullanÄ±cÄ± tespiti yapÄ±lÄ±yor...</div>
                    <div class="text-green-400">âœ… Tespit edilen kullanÄ±cÄ±: tuufi.com_:psaserv</div>
                    <div class="mt-2"></div>
                    <div class="text-yellow-400">ğŸ“Š Root-owned dosyalar taranÄ±yor...</div>
                    <div class="text-red-400">ğŸ”´ Toplam 4442 root-owned dosya bulundu!</div>
                    <div class="mt-2"></div>
                    <div class="text-yellow-400">TÃ¼m root-owned dosyalar tuufi.com_:psaserv olarak deÄŸiÅŸtirilsin mi? [E/h]: </div>
                    <div class="text-white">E</div>
                    <div class="mt-2"></div>
                    <div class="text-blue-400">â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”</div>
                    <div class="text-yellow-400">ğŸ”§ DÃœZELTÄ°LÄ°YOR...</div>
                    <div class="text-blue-400">â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”</div>
                    <div class="mt-2"></div>
                    <div class="text-yellow-400">ğŸ“ [1/6] Dosya ownership dÃ¼zeltiliyor...</div>
                    <div class="text-green-400">âœ… Dosyalar dÃ¼zeltildi</div>
                    <div class="text-yellow-400">ğŸ“‚ [2/6] KlasÃ¶r ownership dÃ¼zeltiliyor...</div>
                    <div class="text-green-400">âœ… KlasÃ¶rler dÃ¼zeltildi</div>
                    <div class="text-yellow-400">ğŸ” [3/6] Dosya izinleri dÃ¼zeltiliyor (644)...</div>
                    <div class="text-green-400">âœ… Dosya izinleri dÃ¼zeltildi</div>
                    <div class="text-yellow-400">ğŸ”“ [4/6] KlasÃ¶r izinleri dÃ¼zeltiliyor (755)...</div>
                    <div class="text-green-400">âœ… KlasÃ¶r izinleri dÃ¼zeltildi</div>
                    <div class="text-yellow-400">ğŸ’¾ [5/6] Storage klasÃ¶rÃ¼ Ã¶zel izinleri...</div>
                    <div class="text-green-400">âœ… Storage izinleri dÃ¼zeltildi</div>
                    <div class="text-yellow-400">ğŸ”— [6/6] Symlink ownership dÃ¼zeltiliyor...</div>
                    <div class="text-green-400">âœ… Symlink'ler dÃ¼zeltildi</div>
                    <div class="mt-2"></div>
                    <div class="text-blue-400">â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”</div>
                    <div class="text-green-400">âœ… TÃœM Ä°ÅLEMLER TAMAMLANDI!</div>
                    <div class="text-blue-400">â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”</div>
                    <div class="mt-2"></div>
                    <div class="text-green-400">ğŸ‰ HiÃ§ root-owned dosya kalmadÄ±!</div>
                </div>
            </div>
        </section>

        <!-- Ä°ÅŸlem SonrasÄ± -->
        <section class="mb-8">
            <div class="bg-amber-900/20 border border-amber-800 rounded-lg p-6">
                <h3 class="text-lg font-bold text-amber-400 mb-3 flex items-center gap-2">
                    <span>âš™ï¸</span> Ä°ÅŸlem SonrasÄ± Ã–neriler
                </h3>
                <div class="text-slate-300 space-y-3">
                    <p>
                        <strong class="text-amber-400">1. Cache Temizleme:</strong>
                    </p>
                    <div class="code-block rounded p-3 font-mono text-sm">
                        <div class="text-green-400">composer dump-autoload</div>
                        <div class="text-green-400">php artisan config:clear</div>
                        <div class="text-green-400">php artisan cache:clear</div>
                        <div class="text-green-400">php artisan view:clear</div>
                    </div>

                    <p class="pt-3">
                        <strong class="text-amber-400">2. Site Testi:</strong>
                    </p>
                    <div class="code-block rounded p-3 font-mono text-sm">
                        <div class="text-green-400">curl -I https://ixtif.com/</div>
                        <div class="text-green-400">curl -I https://muzibu.com.tr/</div>
                    </div>

                    <p class="pt-3">
                        <strong class="text-amber-400">3. Log KontrolÃ¼:</strong>
                    </p>
                    <div class="code-block rounded p-3 font-mono text-sm">
                        <div class="text-green-400">tail -50 storage/logs/laravel.log | grep -i error</div>
                    </div>
                </div>
            </div>
        </section>

        <!-- Ã–nemli Notlar -->
        <section class="mb-8">
            <div class="bg-slate-800 border border-slate-700 rounded-lg p-6">
                <h3 class="text-lg font-bold text-slate-300 mb-4 flex items-center gap-2">
                    <span>âš ï¸</span> Ã–nemli Notlar
                </h3>
                <div class="space-y-3 text-sm text-slate-300">
                    <div class="flex gap-3">
                        <span class="text-yellow-400 text-lg">ğŸ’¡</span>
                        <div>
                            <strong>Git KlasÃ¶rÃ¼ Korunur:</strong> .git klasÃ¶rÃ¼ hiÃ§ dokunulmaz.
                            Git komutlarÄ± iÃ§in root ownership gerekli olabilir.
                        </div>
                    </div>
                    <div class="flex gap-3">
                        <span class="text-blue-400 text-lg">ğŸ”’</span>
                        <div>
                            <strong>GÃ¼venli Ä°ÅŸlem:</strong> Script sadece ownership ve izinleri deÄŸiÅŸtirir,
                            hiÃ§bir dosya iÃ§eriÄŸi deÄŸiÅŸtirilmez veya silinmez.
                        </div>
                    </div>
                    <div class="flex gap-3">
                        <span class="text-green-400 text-lg">âš¡</span>
                        <div>
                            <strong>Paralel Ä°ÅŸlem:</strong> xargs -P 4 ile 4 paralel process Ã§alÄ±ÅŸÄ±r,
                            bÃ¼yÃ¼k projelerde hÄ±zlÄ± sonuÃ§ alÄ±rsÄ±nÄ±z.
                        </div>
                    </div>
                    <div class="flex gap-3">
                        <span class="text-purple-400 text-lg">ğŸ”„</span>
                        <div>
                            <strong>Tekrar Ã‡alÄ±ÅŸtÄ±rÄ±labilir:</strong> Ä°stediÄŸiniz kadar Ã§alÄ±ÅŸtÄ±rabilirsiniz,
                            zarar vermez. Her Claude Code iÅŸleminden sonra Ã§alÄ±ÅŸtÄ±rmanÄ±z Ã¶nerilir.
                        </div>
                    </div>
                </div>
            </div>
        </section>

        <!-- HÄ±zlÄ± BaÅŸvuru -->
        <section class="mb-8">
            <div class="bg-gradient-to-r from-indigo-900/30 to-purple-900/30 border border-indigo-700/50 rounded-lg p-6">
                <h3 class="text-lg font-bold text-indigo-300 mb-4 flex items-center gap-2">
                    <span>âš¡</span> HÄ±zlÄ± BaÅŸvuru KomutlarÄ±
                </h3>
                <div class="grid grid-cols-1 md:grid-cols-2 gap-4">
                    <div class="bg-slate-900/50 rounded p-4">
                        <div class="text-indigo-400 font-semibold mb-2">ğŸ”§ Tek Komutla DÃ¼zelt</div>
                        <div class="code-block rounded p-2 font-mono text-xs">
                            <div class="text-green-400">chmod +x public/readme/2026/01/05/root-ownership-fixer/v1/fix-root-ownership.sh && ./public/readme/2026/01/05/root-ownership-fixer/v1/fix-root-ownership.sh</div>
                        </div>
                    </div>
                    <div class="bg-slate-900/50 rounded p-4">
                        <div class="text-indigo-400 font-semibold mb-2">ğŸ“Š Root Dosya SayÄ±sÄ±</div>
                        <div class="code-block rounded p-2 font-mono text-xs">
                            <div class="text-green-400">find . -user root -not -path "*/.git/*" | wc -l</div>
                        </div>
                    </div>
                    <div class="bg-slate-900/50 rounded p-4">
                        <div class="text-indigo-400 font-semibold mb-2">ğŸ‘¤ Mevcut KullanÄ±cÄ±</div>
                        <div class="code-block rounded p-2 font-mono text-xs">
                            <div class="text-green-400">stat -c '%U:%G' composer.json</div>
                        </div>
                    </div>
                    <div class="bg-slate-900/50 rounded p-4">
                        <div class="text-indigo-400 font-semibold mb-2">ğŸ§¹ Cache Temizle</div>
                        <div class="code-block rounded p-2 font-mono text-xs">
                            <div class="text-green-400">php artisan optimize:clear</div>
                        </div>
                    </div>
                </div>
            </div>
        </section>

    </main>

    <!-- Footer -->
    <footer class="border-t border-slate-800 mt-12 py-6">
        <div class="max-w-6xl mx-auto px-6 text-center text-slate-500 text-sm">
            <p>ğŸ¤– Generated with <a href="https://claude.com/claude-code" class="text-blue-400 hover:text-blue-300">Claude Code</a></p>
            <p class="mt-1">Co-Authored-By: Claude Sonnet 4.5</p>
        </div>
    </footer>

</body>
</html>

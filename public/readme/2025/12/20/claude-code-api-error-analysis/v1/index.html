<!DOCTYPE html>
<html lang="tr" class="scroll-smooth dark">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Claude Code API HatasÄ± - KapsamlÄ± Analiz ve Ã‡Ã¶zÃ¼m</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <style>
        * { margin: 0; padding: 0; box-sizing: border-box; }
        body {
            background: linear-gradient(135deg, #0f172a 0%, #1e293b 100%);
            color: #e2e8f0;
            font-family: 'Segoe UI', system-ui, sans-serif;
            line-height: 1.6;
        }
        .container-custom { max-width: 1200px; margin: 0 auto; padding: 2rem; }
        .section-header {
            border-bottom: 2px solid #475569;
            padding-bottom: 1rem;
            margin-bottom: 2rem;
            margin-top: 2rem;
        }
        .problem-box {
            background: rgba(248, 113, 113, 0.1);
            border: 2px solid #dc2626;
            border-radius: 0.75rem;
            padding: 1.5rem;
            margin: 1.5rem 0;
        }
        .solution-box {
            background: rgba(34, 197, 94, 0.1);
            border: 2px solid #22c55e;
            border-radius: 0.75rem;
            padding: 1.5rem;
            margin: 1.5rem 0;
        }
        .info-box {
            background: rgba(59, 130, 246, 0.1);
            border: 2px solid #3b82f6;
            border-radius: 0.75rem;
            padding: 1.5rem;
            margin: 1.5rem 0;
        }
        .tech-box {
            background: rgba(168, 85, 247, 0.1);
            border: 2px solid #a855f7;
            border-radius: 0.75rem;
            padding: 1.5rem;
            margin: 1.5rem 0;
        }
        .card {
            background: #1e293b;
            border: 1px solid #475569;
            border-radius: 0.75rem;
            padding: 1.5rem;
            margin-bottom: 1.5rem;
        }
        .badge {
            display: inline-block;
            padding: 0.25rem 0.75rem;
            border-radius: 9999px;
            font-size: 0.875rem;
            font-weight: 600;
            margin-right: 0.5rem;
        }
        .badge-error { background: rgba(239, 68, 68, 0.2); color: #fca5a5; border: 1px solid #dc2626; }
        .badge-warning { background: rgba(251, 146, 60, 0.2); color: #fdba74; border: 1px solid #f97316; }
        .badge-success { background: rgba(34, 197, 94, 0.2); color: #86efac; border: 1px solid #22c55e; }
        .badge-info { background: rgba(59, 130, 246, 0.2); color: #93c5fd; border: 1px solid #3b82f6; }
        .code-block {
            background: #0f172a;
            border: 1px solid #475569;
            border-radius: 0.5rem;
            padding: 1rem;
            overflow-x: auto;
            font-family: 'Monaco', 'Courier New', monospace;
            font-size: 0.875rem;
            margin: 1rem 0;
        }
        .checklist { list-style: none; }
        .checklist li {
            padding: 0.5rem 0;
            padding-left: 1.5rem;
            position: relative;
        }
        .checklist li:before {
            content: "âœ“";
            position: absolute;
            left: 0;
            color: #22c55e;
            font-weight: bold;
        }
        .error-list { list-style: none; }
        .error-list li {
            padding: 0.5rem 0;
            padding-left: 1.5rem;
            position: relative;
        }
        .error-list li:before {
            content: "âœ—";
            position: absolute;
            left: 0;
            color: #dc2626;
            font-weight: bold;
        }
        h1 { font-size: 2.5rem; font-weight: 700; margin-bottom: 0.5rem; color: #f1f5f9; }
        h2 { font-size: 2rem; font-weight: 600; margin-top: 2rem; margin-bottom: 1rem; color: #cbd5e1; }
        h3 { font-size: 1.5rem; font-weight: 600; margin-top: 1.5rem; margin-bottom: 0.75rem; color: #cbd5e1; }
        h4 { font-size: 1.25rem; font-weight: 600; margin-top: 1rem; margin-bottom: 0.5rem; color: #cbd5e1; }
        p { margin-bottom: 1rem; color: #cbd5e1; }
        a { color: #60a5fa; text-decoration: none; transition: color 0.2s; }
        a:hover { color: #93c5fd; }
        .highlight { background: rgba(251, 191, 36, 0.2); padding: 0.1rem 0.3rem; border-radius: 0.25rem; }
        .priority-high { color: #f87171; font-weight: 600; }
        .priority-medium { color: #fbbf24; font-weight: 600; }
        .priority-low { color: #86efac; font-weight: 600; }
        .header-section {
            background: linear-gradient(135deg, #1e293b 0%, #0f172a 100%);
            padding: 3rem 2rem;
            border-bottom: 2px solid #475569;
            margin-bottom: 2rem;
            border-radius: 0.75rem;
        }
        .stats {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));
            gap: 1.5rem;
            margin: 2rem 0;
        }
        .stat-item {
            background: #1e293b;
            border: 1px solid #475569;
            border-radius: 0.75rem;
            padding: 1.5rem;
            text-align: center;
        }
        .stat-number { font-size: 2rem; font-weight: 700; color: #60a5fa; margin-bottom: 0.5rem; }
        .stat-label { color: #94a3b8; font-size: 0.875rem; }
        .table-wrapper { overflow-x: auto; margin: 1.5rem 0; }
        table {
            width: 100%;
            border-collapse: collapse;
            background: #1e293b;
            border: 1px solid #475569;
            border-radius: 0.5rem;
            overflow: hidden;
        }
        th {
            background: #0f172a;
            padding: 1rem;
            text-align: left;
            font-weight: 600;
            border-bottom: 2px solid #475569;
            color: #cbd5e1;
        }
        td {
            padding: 0.75rem 1rem;
            border-bottom: 1px solid #475569;
        }
        tr:hover { background: rgba(59, 130, 246, 0.05); }
        .footer {
            text-align: center;
            padding: 2rem;
            border-top: 2px solid #475569;
            margin-top: 3rem;
            color: #64748b;
        }
        .two-column { display: grid; grid-template-columns: 1fr 1fr; gap: 2rem; }
        @media (max-width: 768px) { .two-column { grid-template-columns: 1fr; } }
    </style>
</head>
<body>
    <div class="container-custom">
        <!-- HEADER -->
        <div class="header-section">
            <div class="flex items-center gap-3 mb-4">
                <div style="font-size: 2rem;">âš ï¸</div>
                <div>
                    <h1>Claude Code API HatasÄ± Analizi</h1>
                    <p style="margin: 0.5rem 0; color: #94a3b8;">10 Deneme SonrasÄ± API Error - KapsamlÄ± Ã‡Ã¶zÃ¼m Rehberi</p>
                </div>
            </div>
            <div class="stats">
                <div class="stat-item">
                    <div class="stat-number">7</div>
                    <div class="stat-label">OlasÄ± Sebep</div>
                </div>
                <div class="stat-item">
                    <div class="stat-number">12</div>
                    <div class="stat-label">Kontrol NoktasÄ±</div>
                </div>
                <div class="stat-item">
                    <div class="stat-number">5</div>
                    <div class="stat-label">Ã‡Ã¶zÃ¼m AdÄ±mÄ±</div>
                </div>
            </div>
        </div>

        <!-- BASIT ANLATIM -->
        <div class="info-box">
            <h3 style="margin-top: 0; color: #93c5fd;">ğŸ“ Basit AnlatÄ±m (Herkes Ä°Ã§in)</h3>
            <p>
                Claude Code baÅŸÄ±nda dÃ¼zgÃ¼n Ã§alÄ±ÅŸÄ±yor ancak birkaÃ§ iÅŸlem (10 deneme) sonrasÄ± API hatasÄ± veriyor.
                Bu sorun, Claude Code ile Anthropic sunucularÄ± arasÄ±ndaki iletiÅŸimde bir problem olduÄŸu anlamÄ±na geliyor.
            </p>
            <p style="margin: 1rem 0;">
                <strong>Basit aÃ§Ä±klama:</strong> Telefon gÃ¶rÃ¼ÅŸmesini dÃ¼ÅŸÃ¼n. BaÅŸta konuÅŸma iyi gidiyor, ancak 10 dakika sonra
                hattÄ±n diÄŸer tarafÄ± konuÅŸmayÄ± kapatÄ±yor veya yanÄ±t vermiyor. Bu olmasÄ± gereken bir ÅŸey deÄŸil.
            </p>
            <p style="margin: 1rem 0;">
                <strong>Neden Ã¶nemli?</strong> Bu hata nedeniyle Claude Code ile Ã§alÄ±ÅŸamÄ±yorsunuz. Her 10 deneme sonrasÄ±
                baÅŸtan baÅŸlamanÄ±z gerekiyor, bu da verimliliÄŸi ciddi oranda dÃ¼ÅŸÃ¼rÃ¼yor.
            </p>
        </div>

        <!-- TEKNIK DETAYLAR BAÅLANGICI -->
        <div class="tech-box">
            <h3 style="margin-top: 0; color: #d8b4fe;">ğŸ”§ Teknik Detaylar (GeliÅŸtiriciler Ä°Ã§in)</h3>
            <p>
                Claude Code 10 deneme yapÄ±yor ve sonra "API Error" dÃ¶ndÃ¼rÃ¼yor. Bu genellikle ÅŸu kaynaklardan birinden geliyor:
            </p>
            <ul class="error-list" style="margin: 1rem 0; color: #cbd5e1;">
                <li><strong>429 Rate Limit Error:</strong> Ã‡ok hÄ±zlÄ± Ã§ok istek gÃ¶nderiyorsunuz</li>
                <li><strong>401 Authentication Error:</strong> API anahtarÄ± geÃ§ersiz veya sÃ¼resi dolmuÅŸ</li>
                <li><strong>529 Overloaded Error:</strong> API sunucularÄ± aÅŸÄ±rÄ± yÃ¼klÃ¼</li>
                <li><strong>500 API Error:</strong> Sunucu tarafÄ±nda beklenmedik hata</li>
                <li><strong>Token Limit:</strong> Context window dolmuÅŸ veya token limiti aÅŸÄ±ldÄ±</li>
            </ul>
        </div>

        <!-- OLASI SEBEPLER -->
        <h2 style="margin-top: 3rem;">ğŸ¯ OlasÄ± Sebepler (7 Kategori)</h2>

        <!-- 1. API RATE LIMITING -->
        <div class="card">
            <div class="flex justify-between items-start mb-3">
                <h3 style="margin: 0; color: #fbbf24;">1ï¸âƒ£ API Rate Limiting (HÄ±z Limitleri)</h3>
                <span class="badge badge-warning"><span class="priority-high">YÃœKSEK</span> Ä°htimal</span>
            </div>
            <p style="margin-top: 0;">
                Claude Code Ã§ok hÄ±zlÄ± ardÄ±ÅŸÄ±k istekler gÃ¶nderiyorsa, Anthropic API "429 Rate Limit Error" dÃ¶ndÃ¼rÃ¼yor.
            </p>
            <h4>Sebepleri:</h4>
            <ul class="error-list" style="margin: 1rem 0; color: #cbd5e1;">
                <li>Arka planda otomatik Ã§alÄ±ÅŸan iÅŸlemler (auto-refresh, auto-check)</li>
                <li>Paralel session'lar Ã§alÄ±ÅŸÄ±yor</li>
                <li>Aggressive retry mekanizmasÄ± (10 denemeden sonra baÅŸarÄ±sÄ±z oluyor)</li>
                <li>AynÄ± anda birden fazla Claude Code instance aÃ§Ä±k</li>
                <li>Settings'te agresif timeout deÄŸerleri</li>
            </ul>
            <h4>Kontrol NoktalarÄ±:</h4>
            <div class="code-block">
# 1. AÃ§Ä±k session sayÄ±sÄ±nÄ± kontrol et
ps aux | grep -i claude

# 2. AÄŸ trafiÄŸini izle (hangi porttan istek gidiyor?)
netstat -tlnp | grep -i -E 'claude|api'

# 3. API istatistiklerini kontrol et
claude /cost

# 4. Timeout ayarlarÄ±nÄ± kontrol et
cat ~/.claude/settings.json | grep -i timeout
            </div>
        </div>

        <!-- 2. API KEY / AUTHENTICATION -->
        <div class="card">
            <div class="flex justify-between items-start mb-3">
                <h3 style="margin: 0; color: #fbbf24;">2ï¸âƒ£ API Key / Authentication SorunlarÄ±</h3>
                <span class="badge badge-warning"><span class="priority-high">YÃœKSEK</span> Ä°htimal</span>
            </div>
            <p style="margin-top: 0;">
                API anahtarÄ±nÄ±z geÃ§ersiz, sÃ¼resi dolmuÅŸ veya kÄ±sÄ±tlÄ± eriÅŸim izni var olabilir.
            </p>
            <h4>Sebepleri:</h4>
            <ul class="error-list" style="margin: 1rem 0; color: #cbd5e1;">
                <li>API anahtarÄ± yanlÄ±ÅŸ kopyalandÄ± (boÅŸluk, karakter kesik)</li>
                <li>API anahtarÄ± rotated (yeni anahtar ile deÄŸiÅŸtirildi)</li>
                <li>Token sÃ¼resi dolmuÅŸ (OAuth token'Ä± refresh gerekiyor)</li>
                <li>KÄ±sÄ±tlÄ± model eriÅŸimi (belirli modellere eriÅŸim yok)</li>
                <li>Hesap suspended veya deactivate edilmiÅŸ</li>
            </ul>
            <h4>Kontrol NoktalarÄ±:</h4>
            <div class="code-block">
# 1. Kimlik doÄŸrulamayÄ± sÄ±fÄ±rla
claude /logout

# 2. Yeniden giriÅŸ yap
claude

# 3. Auth bilgilerini temizle ve sÄ±fÄ±rla
rm -rf ~/.config/claude-code/auth.json
claude

# 4. Settings'te API key var mÄ± kontrol et
cat ~/.claude/settings.json | grep -i api
cat .claude/settings.json | grep -i api
            </div>
        </div>

        <!-- 3. NETWORK/CONNECTION SORUNLARI -->
        <div class="card">
            <div class="flex justify-between items-start mb-3">
                <h3 style="margin: 0; color: #fbbf24;">3ï¸âƒ£ Network/Connection SorunlarÄ±</h3>
                <span class="badge badge-warning"><span class="priority-medium">ORTA</span> Ä°htimal</span>
            </div>
            <p style="margin-top: 0;">
                Ä°nternet baÄŸlantÄ±nÄ±z stabil deÄŸil veya Proxy/Firewall API isteklerini engelliyor olabilir.
            </p>
            <h4>Sebepleri:</h4>
            <ul class="error-list" style="margin: 1rem 0; color: #cbd5e1;">
                <li>Wifi/network baÄŸlantÄ±sÄ± kesintili (10. deneme sÄ±rasÄ±nda baÄŸlantÄ± kapanÄ±yor)</li>
                <li>Kurumsal Firewall API port'larÄ±nÄ± engelliyor</li>
                <li>Proxy yapÄ±landÄ±rmasÄ± yanlÄ±ÅŸ</li>
                <li>DNS resolution sorunlarÄ±</li>
                <li>VPN ile Anthropic API'ye eriÅŸim kÄ±sÄ±tlanmÄ±ÅŸ</li>
            </ul>
            <h4>Kontrol NoktalarÄ±:</h4>
            <div class="code-block">
# 1. Network baÄŸlantÄ±sÄ±nÄ± test et
ping -c 5 8.8.8.8

# 2. API endpoint'ine ulaÅŸabildiÄŸini test et
curl -I https://api.anthropic.com

# 3. DNS ayarlarÄ±nÄ± kontrol et
nslookup api.anthropic.com

# 4. Aktif network adapter'larÄ± listele
ip link show

# 5. Proxy ayarlarÄ±nÄ± kontrol et
echo $HTTP_PROXY $HTTPS_PROXY
            </div>
        </div>

        <!-- 4. TOKEN LIMITLERI -->
        <div class="card">
            <div class="flex justify-between items-start mb-3">
                <h3 style="margin: 0; color: #fbbf24;">4ï¸âƒ£ Token Limitleri ve Context Window</h3>
                <span class="badge badge-warning"><span class="priority-high">YÃœKSEK</span> Ä°htimal</span>
            </div>
            <p style="margin-top: 0;">
                Ä°stek Ã§ok bÃ¼yÃ¼k veya context window dolmuÅŸ olabilir. 10. deneme sÄ±rasÄ±nda context window
                limitine ulaÅŸabilirsiniz.
            </p>
            <h4>Sebepleri:</h4>
            <ul class="error-list" style="margin: 1rem 0; color: #cbd5e1;">
                <li>Context window dolmuÅŸ (conversation Ã§ok uzun)</li>
                <li>max_tokens deÄŸeri Ã§ok yÃ¼ksek ayarlanmÄ±ÅŸ</li>
                <li>Ä°stek boyutu 32 MB'Ä± aÅŸÄ±yor (API limit)</li>
                <li>Large codebase'de Ã§alÄ±ÅŸÄ±lÄ±yor (compacting gerekli)</li>
                <li>Sistem prompt Ã§ok bÃ¼yÃ¼k (CLAUDE.md dosyasÄ± Ã§ok uzun)</li>
            </ul>
            <h4>Kontrol NoktalarÄ±:</h4>
            <div class="code-block">
# 1. Context boyutunu kontrol et
claude /compact

# 2. Token kullanÄ±mÄ±nÄ± gÃ¶ster
claude /cost

# 3. CLAUDE.md dosya boyutunu kontrol et
wc -l /var/www/vhosts/tuufi.com/httpdocs/CLAUDE.md
du -h /var/www/vhosts/tuufi.com/httpdocs/CLAUDE.md

# 4. Model'in max context window'unu kontrol et
claude --help | grep -i token
            </div>
        </div>

        <!-- 5. RETRY MEKANIZMASI AYARLARI -->
        <div class="card">
            <div class="flex justify-between items-start mb-3">
                <h3 style="margin: 0; color: #fbbf24;">5ï¸âƒ£ Retry MekanizmasÄ± AyarlarÄ±</h3>
                <span class="badge badge-warning"><span class="priority-medium">ORTA</span> Ä°htimal</span>
            </div>
            <p style="margin-top: 0;">
                Claude Code'un retry mekanizmasÄ± 10 denemeden sonra pes ediyor. Bu ayarlar yanlÄ±ÅŸ
                konfigÃ¼re edilmiÅŸ olabilir.
            </p>
            <h4>Sebepleri:</h4>
            <ul class="error-list" style="margin: 1rem 0; color: #cbd5e1;">
                <li>Retry count = 10 ayarlanmÄ±ÅŸ (max deÄŸer)</li>
                <li>Retry delay Ã§ok kÄ±sa (exponential backoff yok)</li>
                <li>Retry stratejisi agresif (hemen yeniden baÅŸlÄ±yor)</li>
                <li>Timeout deÄŸeri Ã§ok dÃ¼ÅŸÃ¼k (baÅŸarÄ±sÄ±z olmadan kesiyor)</li>
                <li>Connection pool exhausted (baÄŸlantÄ± yÃ¶netim sorunu)</li>
            </ul>
            <h4>Kontrol NoktalarÄ±:</h4>
            <div class="code-block">
# 1. Claude Code settings'ini kontrol et
cat ~/.claude/settings.json
cat .claude/settings.json

# 2. Timeout ayarlarÄ±nÄ± ara
grep -r "timeout\|retry\|attempt" ~/.claude/ 2>/dev/null

# 3. Environment variables'i kontrol et
env | grep -i -E 'claude|timeout|retry|api'

# 4. Network timeout'unu artÄ±r
export CLAUDE_TIMEOUT=60000  # 60 saniye
            </div>
        </div>

        <!-- 6. SETTINGS/CONFIGURATION SORUNLARI -->
        <div class="card">
            <div class="flex justify-between items-start mb-3">
                <h3 style="margin: 0; color: #fbbf24;">6ï¸âƒ£ Settings/Configuration SorunlarÄ±</h3>
                <span class="badge badge-warning"><span class="priority-medium">ORTA</span> Ä°htimal</span>
            </div>
            <p style="margin-top: 0;">
                Claude Code settings dosyalarÄ± (JSON) yanlÄ±ÅŸ konfigÃ¼re olmuÅŸ veya bozulmuÅŸ olabilir.
            </p>
            <h4>Sebepleri:</h4>
            <ul class="error-list" style="margin: 1rem 0; color: #cbd5e1;">
                <li>settings.json dosyasÄ± bozulmuÅŸ (geÃ§ersiz JSON)</li>
                <li>Model ayarÄ± yanlÄ±ÅŸ (eriÅŸim izni olmayan model)</li>
                <li>Permissions Ã§ok sÄ±kÄ± ayarlanmÄ±ÅŸ</li>
                <li>MCP sunucusu configuration'Ä± hatalÄ±</li>
                <li>Plugin configuration Ã§akÄ±ÅŸmasÄ±</li>
            </ul>
            <h4>Kontrol NoktalarÄ±:</h4>
            <div class="code-block">
# 1. Settings dosyasÄ±nÄ± valide et
cat ~/.claude/settings.json | jq . > /dev/null && echo "OK" || echo "INVALID JSON"
cat .claude/settings.json | jq . > /dev/null && echo "OK" || echo "INVALID JSON"

# 2. MCP configuration'Ä±nÄ± kontrol et
cat .mcp.json 2>/dev/null | jq . > /dev/null && echo "OK" || echo "INVALID"

# 3. Settings dosyalarÄ±nÄ± sÄ±fÄ±rla (BACKUP AL Ã–NCE!)
cp ~/.claude/settings.json ~/.claude/settings.json.backup
rm ~/.claude/settings.json

# 4. Claude doctor Ã§alÄ±ÅŸtÄ±r
claude /doctor
            </div>
        </div>

        <!-- 7. SERVER SIDE SORUNLARI -->
        <div class="card">
            <div class="flex justify-between items-start mb-3">
                <h3 style="margin: 0; color: #fbbf24;">7ï¸âƒ£ Anthropic Sunucu SorunlarÄ±</h3>
                <span class="badge badge-warning"><span class="priority-low">DÃœÅÃœK</span> Ä°htimal</span>
            </div>
            <p style="margin-top: 0;">
                Anthropic API'nin kendi sunucularÄ±nda sorun olabilir (nadirdir ancak mÃ¼mkÃ¼n).
            </p>
            <h4>Sebepleri:</h4>
            <ul class="error-list" style="margin: 1rem 0; color: #cbd5e1;">
                <li>529 Overloaded Error (sunucular aÅŸÄ±rÄ± yÃ¼klÃ¼)</li>
                <li>500 Internal Server Error (bug veya konfigÃ¼rasyon hatasÄ±)</li>
                <li>PlanlÄ± bakÄ±m veya downtime</li>
                <li>Region-specific sorunlar</li>
                <li>API versiyonu deprecated (eski endpoint kullanÄ±lÄ±yor)</li>
            </ul>
            <h4>Kontrol NoktalarÄ±:</h4>
            <div class="code-block">
# 1. API status'unu kontrol et
curl https://status.anthropic.com

# 2. Claude Code version'Ä±nÄ± kontrol et
claude --version

# 3. Anthropic docs'taki API change log'unu oku
# https://platform.claude.com/docs

# 4. Problemi report et
claude /bug
            </div>
        </div>

        <!-- Ã‡Ã–ZÃœM ADIMLARI -->
        <h2 style="margin-top: 3rem;">âœ… AdÄ±m AdÄ±m Ã‡Ã¶zÃ¼m (5 Seviye)</h2>

        <!-- LEVEL 1: BASIT KONTROLLER -->
        <div class="solution-box">
            <h3 style="margin-top: 0; color: #86efac;">Level 1: Basit Kontroller (2-5 dakika)</h3>
            <p><strong>BaÅŸla buradan! Bu sorunlarÄ±n %40'Ä± burada Ã§Ã¶zÃ¼lÃ¼yor.</strong></p>
            <h4>AdÄ±m 1.1: Claude Code'u Yeniden BaÅŸlat</h4>
            <div class="code-block">
# TÃ¼m Claude Code process'lerini kapat
pkill -f claude

# 2-3 saniye bekle
sleep 3

# Yeniden aÃ§
claude
            </div>
            <h4>AdÄ±m 1.2: AÃ§Ä±k Session'larÄ± Kapat</h4>
            <div class="code-block">
# AÃ§Ä±k session sayÄ±sÄ±nÄ± kontrol et
ps aux | grep -i claude | grep -v grep

# EÄŸer 1'den fazla varsa hepsini kapat
pkill -9 -f claude
            </div>
            <h4>AdÄ±m 1.3: AÄŸ BaÄŸlantÄ±sÄ±nÄ± Test Et</h4>
            <div class="code-block">
# Ä°nternet baÄŸlantÄ±sÄ±nÄ± test et
ping -c 3 google.com

# Anthropic API'ye eriÅŸimi test et
curl -s https://api.anthropic.com > /dev/null && echo "API OK" || echo "API ERR"
            </div>
            <h4>AdÄ±m 1.4: Claude Doctor Ã‡alÄ±ÅŸtÄ±r</h4>
            <div class="code-block">
claude /doctor

# Ã‡Ä±ktÄ±da kÄ±rmÄ±zÄ± iÅŸaretler varsa dikkate al
            </div>
            <p style="margin-top: 1rem; padding: 1rem; background: rgba(34, 197, 94, 0.1); border-radius: 0.5rem;">
                <strong>âœ… SonuÃ§:</strong> EÄŸer bu adÄ±mlardan sonra sorun Ã§Ã¶zÃ¼lmÃ¼ÅŸse, problem kapandÄ±.
                DeÄŸilse Level 2'ye geÃ§.
            </p>
        </div>

        <!-- LEVEL 2: AUTHENTICATION KONTROLLERI -->
        <div class="solution-box">
            <h3 style="margin-top: 2rem; color: #86efac;">Level 2: Authentication Reset (5-10 dakika)</h3>
            <p><strong>Bu adÄ±mlar %30 oranÄ±nda sorun Ã§Ã¶zer.</strong></p>
            <h4>AdÄ±m 2.1: Kimlik DoÄŸrulamayÄ± SÄ±fÄ±rla</h4>
            <div class="code-block">
# Claude Code'dan Ã§Ä±k
claude /logout

# Auth cache'i temizle
rm -rf ~/.config/claude-code/auth.json

# Yeniden giriÅŸ yap (fresh login)
claude

# GiriÅŸ talimatlarÄ±nÄ± takip et
            </div>
            <h4>AdÄ±m 2.2: API Key DoÄŸrulamasÄ±</h4>
            <div class="code-block">
# Settings'te API key var mÄ± kontrol et
cat ~/.claude/settings.json 2>/dev/null | grep -i "api_key\|apiKey"

# EÄŸer API key manuel olarak ayarlanmÄ±ÅŸsa sil
# (OAuth token daha gÃ¼venlidir)
# ArdÄ±ndan logout/login yap
            </div>
            <p style="margin-top: 1rem; padding: 1rem; background: rgba(34, 197, 94, 0.1); border-radius: 0.5rem;">
                <strong>âœ… SonuÃ§:</strong> Fresh login yapÄ±ldÄ±ktan sonra yeniden test et.
                Sorun Ã§Ã¶zÃ¼lmÃ¼ÅŸse bitti. DeÄŸilse Level 3'e geÃ§.
            </p>
        </div>

        <!-- LEVEL 3: CONFIGURATION TEMIZLIÄI -->
        <div class="solution-box">
            <h3 style="margin-top: 2rem; color: #86efac;">Level 3: Configuration TemizliÄŸi (10-15 dakika)</h3>
            <p><strong>Bu adÄ±mlar %20 oranÄ±nda sorun Ã§Ã¶zer. âš ï¸ BACKUP AL!</strong></p>
            <h4>AdÄ±m 3.1: Settings DosyasÄ±nÄ± Valide Et</h4>
            <div class="code-block">
# User settings
cat ~/.claude/settings.json | jq . > /dev/null 2>&1 && echo "âœ… User settings OK" || echo "âŒ User settings INVALID"

# Project settings
cat .claude/settings.json 2>/dev/null | jq . > /dev/null 2>&1 && echo "âœ… Project settings OK" || echo "âš ï¸ Project settings NOT FOUND or INVALID"

# MCP config
cat .mcp.json 2>/dev/null | jq . > /dev/null 2>&1 && echo "âœ… MCP config OK" || echo "âš ï¸ MCP config NOT FOUND or INVALID"
            </div>
            <h4>AdÄ±m 3.2: Bozuk Settings'i DÃ¼zelt</h4>
            <div class="code-block">
# Ã–NCE BACKUP AL!
cp ~/.claude/settings.json ~/.claude/settings.json.backup.$(date +%s)

# Settings dosyasÄ±nÄ± sil (sÄ±fÄ±rlanacak)
rm ~/.claude/settings.json

# Claude Code yeniden aÃ§Ä±lacak ve varsayÄ±lan settings oluÅŸturacak
claude

# Ä°htiyaÃ§ varsa backup'tan restore et
# cp ~/.claude/settings.json.backup.TIMESTAMP ~/.claude/settings.json
            </div>
            <h4>AdÄ±m 3.3: Problematic Plugins'i Devre DÄ±ÅŸÄ± BÄ±rak</h4>
            <div class="code-block">
# .claude/settings.json'Ä± aÃ§ ve kontrol et
cat .claude/settings.json

# EÄŸer enabledPlugins bÃ¶lÃ¼mÃ¼nde hata varsa:
# TÃ¼m plugin'leri devre dÄ±ÅŸÄ± bÄ±rak (test amacÄ±yla)
            </div>
            <p style="margin-top: 1rem; padding: 1rem; background: rgba(34, 197, 94, 0.1); border-radius: 0.5rem;">
                <strong>âœ… SonuÃ§:</strong> Fresh settings ile yeniden test et.
                Sorun Ã§Ã¶zÃ¼lmÃ¼ÅŸse bitti. DeÄŸilse Level 4'e geÃ§.
            </p>
        </div>

        <!-- LEVEL 4: ADVANCED DIAGNOSTICS -->
        <div class="solution-box">
            <h3 style="margin-top: 2rem; color: #86efac;">Level 4: Advanced Diagnostics (15-30 dakika)</h3>
            <p><strong>Bu adÄ±mlar %8 oranÄ±nda sorun Ã§Ã¶zer. Teknik derinlemesine kontrol.</strong></p>
            <h4>AdÄ±m 4.1: Network TrafiÄŸini Ä°zle</h4>
            <div class="code-block">
# Claude Code'u baÅŸlat (arka planda)
claude &

# Network trafiÄŸini izle (baÅŸka terminal'de)
# API request'lerini gÃ¶receksin
tcpdump -i any -n 'tcp port 443' | grep -i anthropic

# Veya curl ile test et
curl -v https://api.anthropic.com 2>&1 | head -20
            </div>
            <h4>AdÄ±m 4.2: API Response'Ä± AyrÄ±ntÄ±lÄ± Kontrol Et</h4>
            <div class="code-block">
# Request'in response code'unu kontrol et
curl -i -X POST https://api.anthropic.com/v1/messages \
  -H "Content-Type: application/json" \
  -H "anthropic-version: 2023-06-01" \
  -H "x-api-key: YOUR_API_KEY" \
  2>&1 | head -15

# Beklenen: HTTP 200 veya HTTP 400 (not 401/429/500/529)
            </div>
            <h4>AdÄ±m 4.3: Environment Variables'i Kontrol Et</h4>
            <div class="code-block">
# Claude Code'un kullandÄ±ÄŸÄ± environment variables
env | grep -i -E 'claude|anthropic|api|timeout|proxy' | sort

# Proxy ayarlanmÄ±ÅŸsa kontrol et
echo "HTTP_PROXY: $HTTP_PROXY"
echo "HTTPS_PROXY: $HTTPS_PROXY"
echo "NO_PROXY: $NO_PROXY"

# EÄŸer proxy sorunu varsa:
unset HTTP_PROXY
unset HTTPS_PROXY
unset NO_PROXY
            </div>
            <h4>AdÄ±m 4.4: Large Context Simulation</h4>
            <div class="code-block">
# Context boyutunu test et
claude /compact

# Token sayÄ±sÄ±nÄ± gÃ¶ster
claude /cost

# Model info'yu gÃ¶ster
claude --help | grep -i context
            </div>
            <p style="margin-top: 1rem; padding: 1rem; background: rgba(34, 197, 94, 0.1); border-radius: 0.5rem;">
                <strong>âœ… SonuÃ§:</strong> DetaylÄ± diagnostics ile root cause'u belirle.
                Sorun Ã§Ã¶zÃ¼lmÃ¼ÅŸse bitti. DeÄŸilse Level 5'e geÃ§.
            </p>
        </div>

        <!-- LEVEL 5: NÃœKLEER SEÃ‡ENEK -->
        <div class="solution-box">
            <h3 style="margin-top: 2rem; color: #86efac;">Level 5: NÃ¼kleer Reset (30-45 dakika)</h3>
            <p><strong>âš ï¸ KAPSAMLI RESET - Son Ã§are! %2 oranÄ±nda sorun Ã§Ã¶zer.</strong></p>
            <h4>AdÄ±m 5.1: TÃ¼m Claude Code DosyalarÄ±nÄ± SÄ±fÄ±rla</h4>
            <div class="code-block">
# Ã‡OK Ã–NEMLÄ°: TÃ¼m dosyalarÄ± BACKUP AL!
mkdir -p ~/claude-backup-$(date +%Y%m%d-%H%M%S)
cp -r ~/.claude ~/claude-backup-$(date +%Y%m%d-%H%M%S)/
cp -r ~/.config/claude-code ~/claude-backup-$(date +%Y%m%d-%H%M%S)/
cp ~/.claude.json ~/claude-backup-$(date +%Y%m%d-%H%M%S)/ 2>/dev/null

# TÃ¼m Claude Code state'ini sÄ±fÄ±rla
rm -rf ~/.claude
rm -rf ~/.config/claude-code
rm ~/.claude.json 2>/dev/null

# Claude Code'u temiz kurulumuyla baÅŸlat
claude

# GiriÅŸ talimatlarÄ±nÄ± takip et (fresh setup)
            </div>
            <h4>AdÄ±m 5.2: Claude Code'u Yeniden Kur</h4>
            <div class="code-block">
# Claude Code'u kaldÄ±r
npm uninstall -g @anthropic-ai/claude-code

# Veya native installation'Ä± kaldÄ±r
rm -rf ~/.local/bin/claude

# Yeniden kur (native recommended)
curl -fsSL https://claude.ai/install.sh | bash

# Verify
claude --version
            </div>
            <h4>AdÄ±m 5.3: Sistem BaÄŸlantÄ±sÄ±nÄ± Test Et</h4>
            <div class="code-block">
# System level network test
curl -v https://api.anthropic.com 2>&1 | grep -E "HTTP|Connected"

# DNS test
nslookup api.anthropic.com

# Firewall test
sudo iptables -L -n 2>/dev/null | grep -i 443

# Proxy test (eÄŸer kurumsal aÄŸda)
curl -v -x [PROXY]:PORT https://api.anthropic.com
            </div>
            <p style="margin-top: 1rem; padding: 1rem; background: rgba(248, 113, 113, 0.1); border-radius: 0.5rem;">
                <strong>âŒ Hala sorun yaÅŸÄ±yorsan:</strong> Anthropic Support'a baÅŸvur.
                <code>/bug</code> komutu ile hata bildir. Backup'larÄ±ndan restore et.
            </p>
        </div>

        <!-- TANILAMA TABLOSU -->
        <h2 style="margin-top: 3rem;">ğŸ“Š HÄ±zlÄ± TanÄ± Tablosu</h2>
        <div class="table-wrapper">
            <table>
                <thead>
                    <tr>
                        <th style="width: 15%;">Hata MesajÄ±</th>
                        <th style="width: 25%;">Muhtemel Sebep</th>
                        <th style="width: 30%;">Ä°lk Ã‡Ã¶zÃ¼m</th>
                        <th style="width: 30%;">DetaylÄ± Ã‡Ã¶zÃ¼m</th>
                    </tr>
                </thead>
                <tbody>
                    <tr>
                        <td><code>429 Rate Limit</code></td>
                        <td>Ã‡ok hÄ±zlÄ± istek</td>
                        <td>Bekleme</td>
                        <td>Level 1: Claude'u restart + AÃ§Ä±k session'larÄ± kapat</td>
                    </tr>
                    <tr>
                        <td><code>401 Unauthorized</code></td>
                        <td>API key geÃ§ersiz</td>
                        <td>/logout, /relogin</td>
                        <td>Level 2: Auth reset</td>
                    </tr>
                    <tr>
                        <td><code>500 Server Error</code></td>
                        <td>Anthropic sunucu hatasÄ±</td>
                        <td>Bir kaÃ§ dakika bekle</td>
                        <td>Level 4: Ä°nternet connection kontrol</td>
                    </tr>
                    <tr>
                        <td><code>529 Overloaded</code></td>
                        <td>API sunucularÄ± aÅŸÄ±rÄ± yÃ¼klÃ¼</td>
                        <td>Daha sonra yeniden dene</td>
                        <td>Peak hours'dan kaÃ§Ä±n (9-17 UTC)</td>
                    </tr>
                    <tr>
                        <td><code>Invalid JSON</code></td>
                        <td>Settings dosyasÄ± bozuk</td>
                        <td>Settings dosyasÄ±nÄ± sil</td>
                        <td>Level 3: Configuration temizliÄŸi</td>
                    </tr>
                    <tr>
                        <td><code>Connection Timeout</code></td>
                        <td>Network sorunlarÄ±</td>
                        <td>VPN/Proxy kontrol</td>
                        <td>Level 4: Network diagnostics</td>
                    </tr>
                    <tr>
                        <td><code>After 10 attempts</code></td>
                        <td>Retry limit aÅŸÄ±ldÄ±</td>
                        <td>Context window kontrol</td>
                        <td>Level 4: /compact yap, token boyutunu azalt</td>
                    </tr>
                </tbody>
            </table>
        </div>

        <!-- ADVANCED TIPS -->
        <h2 style="margin-top: 3rem;">ğŸ’¡ Advanced Tips</h2>

        <div class="card">
            <h3 style="margin-top: 0;">ğŸ”§ Settings Optimization</h3>
            <div class="code-block">
{
  "model": "sonnet",
  "timeout": 60000,
  "retryAttempts": 5,
  "retryDelay": 2000,
  "maxContextSize": 100000,
  "enableCompactMode": true,
  "permissions": {
    "defaultMode": "acceptEdits"
  }
}
            </div>
            <p style="margin-top: 1rem;">
                <strong>âš ï¸ Ã–nemli SeÃ§enekler:</strong>
            </p>
            <ul class="checklist" style="color: #cbd5e1;">
                <li><code>timeout</code>: 60 saniye Ã§ok iyi, <code>timeout: 120000</code> yapabilirsin</li>
                <li><code>retryAttempts</code>: 5 iyi, 10'dan fazla yapma</li>
                <li><code>retryDelay</code>: 2 saniye, exponential backoff iÃ§in artÄ±r</li>
                <li><code>maxContextSize</code>: BÃ¼yÃ¼k codebase'de 150000 yap</li>
                <li><code>enableCompactMode</code>: Uzun conversation'larda true yap</li>
            </ul>
        </div>

        <div class="card">
            <h3 style="margin-top: 0;">âš¡ Environment Variables</h3>
            <div class="code-block">
# ~/.bashrc veya ~/.zshrc'ye ekle
export CLAUDE_TIMEOUT=120000
export CLAUDE_MAX_RETRIES=5
export CLAUDE_RETRY_DELAY=2000
export CLAUDE_LOG_LEVEL=debug
export ANTHROPIC_API_TIMEOUT=120
export ANTHROPIC_CONNECT_TIMEOUT=30

# EÄŸer proxy varsa:
export HTTP_PROXY=http://proxy.company.com:8080
export HTTPS_PROXY=http://proxy.company.com:8080
export NO_PROXY=localhost,127.0.0.1,.company.com
            </div>
        </div>

        <div class="card">
            <h3 style="margin-top: 0;">ğŸš€ Performance Optimization</h3>
            <ul class="checklist" style="color: #cbd5e1;">
                <li>HaftalÄ±k <code>/compact</code> yap (context temizliÄŸi)</li>
                <li>BÃ¼yÃ¼k codebase'de <code>@</code> ile file reference kullan</li>
                <li>Uzun conversation'larÄ± session'lara bÃ¶lÃ¼mle</li>
                <li>Off-peak hours'da bÃ¼yÃ¼k iÅŸler yap (01:00-09:00 UTC)</li>
                <li>CLAUDE.md dosyasÄ±nÄ± 5000 satÄ±rdan az tut</li>
                <li>Paralel session aÃ§ma (bir seferde bir session)</li>
            </ul>
        </div>

        <div class="card">
            <h3 style="margin-top: 0;">ğŸ“ Anthropic Support Ä°letiÅŸim</h3>
            <p>YukarÄ±daki adÄ±mlarÄ± denedikten sonra hala sorun varsa:</p>
            <ul class="checklist" style="color: #cbd5e1;">
                <li>Claude Code'da <code>claude /bug</code> komutunu Ã§alÄ±ÅŸtÄ±r</li>
                <li>AÅŸaÄŸÄ±daki bilgileri ekle:
                    <div class="code-block" style="margin: 0.5rem 0; font-size: 0.75rem;">
# Hata gÃ¶rÃ¼ndÃ¼ÄŸÃ¼ zaman:
- Session ID
- Request ID (error response'dan)
- Deneme sayÄ±sÄ± (1-10 arasÄ±nda hangisinde oluyor?)
- Settings dosyasÄ± (sensitif bilgi kaldÄ±r)
- Network ortamÄ± (corporate/home/mobile)
- OS ve Claude Code version
                    </div>
                </li>
                <li>Email: support@anthropic.com</li>
                <li>Rapor: https://github.com/anthropics/claude-code/issues</li>
            </ul>
        </div>

        <!-- Ã–ZET -->
        <h2 style="margin-top: 3rem;">ğŸ“‹ HÄ±zlÄ± Kontrol Listesi</h2>

        <div style="display: grid; grid-template-columns: 1fr 1fr; gap: 2rem; margin-top: 1.5rem;">
            <div class="card">
                <h4 style="margin-top: 0; color: #fbbf24;">BugÃ¼n YapÄ±lacaklar</h4>
                <ul class="checklist" style="color: #cbd5e1;">
                    <li>Claude Code'u restart et</li>
                    <li>/doctor Ã§alÄ±ÅŸtÄ±r</li>
                    <li>/logout ve /login yap</li>
                    <li>Network baÄŸlantÄ±sÄ±nÄ± test et</li>
                    <li>Settings dosyasÄ±nÄ± valide et</li>
                    <li>AÃ§Ä±k session'larÄ± kapat</li>
                </ul>
            </div>
            <div class="card">
                <h4 style="margin-top: 0; color: #60a5fa;">Bu Hafta YapÄ±lacaklar</h4>
                <ul class="checklist" style="color: #cbd5e1;">
                    <li>CLAUDE.md dosyasÄ±nÄ± optimize et</li>
                    <li>Context boyutunu azalt (/compact)</li>
                    <li>Settings.json'Ä± ayarla (timeout, retry)</li>
                    <li>Plugins'i gÃ¶zden geÃ§ir</li>
                    <li>MCP configuration'Ä±nÄ± kontrol et</li>
                    <li>Network/Proxy ayarlarÄ±nÄ± dÃ¼zelt</li>
                </ul>
            </div>
        </div>

        <!-- FOOTER -->
        <div class="footer">
            <p>Claude Code API Error Analizi ve Ã‡Ã¶zÃ¼m Rehberi</p>
            <p style="font-size: 0.875rem; margin-top: 1rem; color: #475569;">
                Rapor: 2025-12-20 | Kapsam: 7 OlasÄ± Sebep, 5 Ã‡Ã¶zÃ¼m Seviyesi, 12 Kontrol NoktasÄ±
            </p>
            <p style="font-size: 0.875rem; color: #475569;">
                Powered by Claude AI | Anthropic Platform
            </p>
        </div>
    </div>
</body>
</html>
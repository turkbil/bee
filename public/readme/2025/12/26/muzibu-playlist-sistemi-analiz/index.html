<!DOCTYPE html>
<html lang="tr">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Muzibu Playlist Sistemi Analizi</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.0/css/all.min.css">
</head>
<body class="bg-slate-900 text-white min-h-screen">

    <!-- Header -->
    <header class="bg-gradient-to-r from-purple-900/50 to-pink-900/50 border-b border-purple-800/50 py-8">
        <div class="max-w-5xl mx-auto px-6">
            <div class="flex items-center gap-3 mb-4">
                <span class="px-3 py-1 bg-blue-500/20 text-blue-400 text-xs font-semibold rounded-full border border-blue-500/30">
                    <i class="fas fa-search mr-1"></i> Analiz
                </span>
                <span class="text-slate-400 text-sm">26 Aralik 2025</span>
            </div>
            <h1 class="text-4xl font-bold mb-3">
                <i class="fas fa-list-music text-purple-400 mr-3"></i>
                Muzibu Playlist Sistemi Analizi
            </h1>
            <p class="text-slate-400 text-lg">Sistem vs Bireysel Playlist Ayrimi Incelemesi</p>
        </div>
    </header>

    <main class="max-w-5xl mx-auto px-6 py-10">

        <!-- Basit Anlatim -->
        <section class="mb-10 bg-green-900/20 border border-green-800/50 rounded-xl p-6">
            <h2 class="text-xl font-bold text-green-400 mb-4 flex items-center gap-2">
                <i class="fas fa-user"></i> Basit Anlatim (Herkes Icin)
            </h2>

            <div class="space-y-4 text-slate-300">
                <div class="bg-slate-800/50 rounded-lg p-4">
                    <h3 class="font-semibold text-white mb-2"><i class="fas fa-list-music text-purple-400 mr-2"></i> Iki Tur Playlist Var:</h3>
                    <ul class="space-y-2 ml-4">
                        <li><strong class="text-yellow-400">Sistem Playlistleri:</strong> Admin tarafindan olusturulan, sitede herkesin gorebilecegi listeler (Ana sayfa, /playlists, sidebar)</li>
                        <li><strong class="text-blue-400">Bireysel Playlistler:</strong> Kullanicilarin kendileri icin olusturdugu, sadece o kisinin "Playlistlerim" sayfasinda gorunen listeler</li>
                    </ul>
                </div>

                <div class="bg-red-900/30 border border-red-700/50 rounded-lg p-4">
                    <h3 class="font-semibold text-red-400 mb-2"><i class="fas fa-exclamation-triangle mr-2"></i> Tespit Edilen Sorun:</h3>
                    <p>
                        <code class="bg-slate-700 px-2 py-1 rounded">/playlists</code> sayfasinda (Calma Listeleri)
                        <strong>hem sistem hem bireysel playlistler</strong> gorunuyor olabilir!
                        <br><br>
                        Normalde burada <strong>sadece sistem playlistleri</strong> gorunmeli.
                    </p>
                </div>
            </div>
        </section>

        <!-- Teknik Detaylar -->
        <section class="mb-10 bg-blue-900/20 border border-blue-800/50 rounded-xl p-6">
            <h2 class="text-xl font-bold text-blue-400 mb-4 flex items-center gap-2">
                <i class="fas fa-code"></i> Teknik Detaylar (Gelistiriciler Icin)
            </h2>

            <div class="space-y-6">

                <!-- Veritabani Yapisi -->
                <div class="bg-slate-800/50 rounded-lg p-4">
                    <h3 class="font-semibold text-white mb-3"><i class="fas fa-database text-cyan-400 mr-2"></i> Veritabani Yapisi</h3>
                    <table class="w-full text-sm">
                        <thead>
                            <tr class="text-slate-400 border-b border-slate-700">
                                <th class="text-left py-2">Field</th>
                                <th class="text-left py-2">Tur</th>
                                <th class="text-left py-2">Aciklama</th>
                            </tr>
                        </thead>
                        <tbody class="text-slate-300">
                            <tr class="border-b border-slate-700/50">
                                <td class="py-2"><code class="text-yellow-400">is_system</code></td>
                                <td>boolean</td>
                                <td>true = Sistem playlist, false = Bireysel</td>
                            </tr>
                            <tr class="border-b border-slate-700/50">
                                <td class="py-2"><code class="text-yellow-400">is_public</code></td>
                                <td>boolean</td>
                                <td>Herkese acik mi?</td>
                            </tr>
                            <tr class="border-b border-slate-700/50">
                                <td class="py-2"><code class="text-yellow-400">user_id</code></td>
                                <td>int|null</td>
                                <td>Olusturan kullanici (bireysel icin)</td>
                            </tr>
                            <tr>
                                <td class="py-2"><code class="text-yellow-400">is_active</code></td>
                                <td>boolean</td>
                                <td>Aktif mi?</td>
                            </tr>
                        </tbody>
                    </table>
                </div>

                <!-- Mevcut Kontroller -->
                <div class="bg-slate-800/50 rounded-lg p-4">
                    <h3 class="font-semibold text-white mb-3"><i class="fas fa-check-double text-green-400 mr-2"></i> Mevcut is_system Kontrolleri</h3>

                    <div class="space-y-3">
                        <div class="flex items-start gap-3 p-3 bg-green-900/30 rounded-lg">
                            <span class="text-green-400 font-bold">OK</span>
                            <div>
                                <div class="font-semibold text-green-400">Ana Sayfa (HomeController)</div>
                                <code class="text-xs text-slate-400">->where('is_system', 1)</code>
                                <p class="text-sm text-slate-400 mt-1">Sadece sistem playlistleri gosteriliyor</p>
                            </div>
                        </div>

                        <div class="flex items-start gap-3 p-3 bg-green-900/30 rounded-lg">
                            <span class="text-green-400 font-bold">OK</span>
                            <div>
                                <div class="font-semibold text-green-400">Sidebar (SidebarComposer)</div>
                                <code class="text-xs text-slate-400">->where('is_system', 1)</code>
                                <p class="text-sm text-slate-400 mt-1">Sadece sistem playlistleri gosteriliyor</p>
                            </div>
                        </div>

                        <div class="flex items-start gap-3 p-3 bg-green-900/30 rounded-lg">
                            <span class="text-green-400 font-bold">OK</span>
                            <div>
                                <div class="font-semibold text-green-400">Playlistlerim (MyPlaylistsController)</div>
                                <code class="text-xs text-slate-400">->where('is_system', false)->where('user_id', auth()->id())</code>
                                <p class="text-sm text-slate-400 mt-1">Sadece kullanicinin bireysel playlistleri</p>
                            </div>
                        </div>

                        <div class="flex items-start gap-3 p-3 bg-red-900/30 rounded-lg">
                            <span class="text-red-400 font-bold">SORUN</span>
                            <div>
                                <div class="font-semibold text-red-400">/playlists Sayfasi (PlaylistController@index)</div>
                                <code class="text-xs text-slate-400">->where('is_active', 1)->where('is_public', 1)</code>
                                <p class="text-sm text-red-300 mt-1"><strong>is_system kontrolu YOK!</strong> Hem sistem hem public bireysel gorunuyor olabilir.</p>
                            </div>
                        </div>
                    </div>
                </div>

                <!-- Dosya Konumlari -->
                <div class="bg-slate-800/50 rounded-lg p-4">
                    <h3 class="font-semibold text-white mb-3"><i class="fas fa-folder-open text-orange-400 mr-2"></i> Ilgili Dosyalar</h3>
                    <ul class="space-y-2 text-sm text-slate-300 font-mono">
                        <li><i class="fas fa-file-code text-blue-400 mr-2"></i> Modules/Muzibu/app/Models/Playlist.php</li>
                        <li><i class="fas fa-file-code text-red-400 mr-2"></i> Modules/Muzibu/app/Http/Controllers/Front/PlaylistController.php <span class="text-red-400">(duzeltilecek)</span></li>
                        <li><i class="fas fa-file-code text-green-400 mr-2"></i> Modules/Muzibu/app/Http/Controllers/Front/HomeController.php</li>
                        <li><i class="fas fa-file-code text-green-400 mr-2"></i> Modules/Muzibu/app/Http/Controllers/Front/MyPlaylistsController.php</li>
                        <li><i class="fas fa-file-code text-green-400 mr-2"></i> Modules/Muzibu/app/View/Composers/SidebarComposer.php</li>
                        <li><i class="fas fa-file-alt text-purple-400 mr-2"></i> resources/views/themes/muzibu/playlists/index.blade.php</li>
                        <li><i class="fas fa-file-alt text-purple-400 mr-2"></i> resources/views/themes/muzibu/playlists/my-playlists.blade.php</li>
                    </ul>
                </div>
            </div>
        </section>

        <!-- Cozum Onerisi -->
        <section class="mb-10 bg-yellow-900/20 border border-yellow-800/50 rounded-xl p-6">
            <h2 class="text-xl font-bold text-yellow-400 mb-4 flex items-center gap-2">
                <i class="fas fa-lightbulb"></i> Cozum Onerisi
            </h2>

            <div class="space-y-4">
                <div class="bg-slate-800/50 rounded-lg p-4">
                    <h3 class="font-semibold text-white mb-2">PlaylistController@index Guncellenmeli</h3>
                    <p class="text-slate-300 mb-3">
                        <code class="bg-slate-700 px-2 py-1 rounded">/playlists</code> sayfasinda
                        <code class="bg-green-800 px-2 py-1 rounded text-green-300">is_system = 1</code>
                        kontrolu eklenmeli.
                    </p>

                    <div class="grid md:grid-cols-2 gap-4 mt-4">
                        <div class="bg-red-900/30 rounded-lg p-3">
                            <div class="text-red-400 text-sm font-semibold mb-2"><i class="fas fa-times mr-1"></i> Mevcut (Yanlis)</div>
                            <pre class="text-xs text-slate-300 overflow-x-auto">->where('is_active', 1)
->where('is_public', 1)</pre>
                        </div>
                        <div class="bg-green-900/30 rounded-lg p-3">
                            <div class="text-green-400 text-sm font-semibold mb-2"><i class="fas fa-check mr-1"></i> Olmasi Gereken</div>
                            <pre class="text-xs text-slate-300 overflow-x-auto">->where('is_active', 1)
->where('is_public', 1)
->where('is_system', 1)</pre>
                        </div>
                    </div>
                </div>
            </div>
        </section>

        <!-- Ozet Tablo -->
        <section class="mb-10">
            <h2 class="text-xl font-bold text-white mb-4 flex items-center gap-2">
                <i class="fas fa-table text-purple-400"></i> Playlist Gosterim Kurallari
            </h2>

            <div class="overflow-x-auto">
                <table class="w-full bg-slate-800/50 rounded-xl overflow-hidden">
                    <thead class="bg-slate-700/50">
                        <tr>
                            <th class="text-left py-3 px-4 text-slate-300">Sayfa</th>
                            <th class="text-left py-3 px-4 text-slate-300">URL</th>
                            <th class="text-left py-3 px-4 text-slate-300">Gosterilecek</th>
                            <th class="text-left py-3 px-4 text-slate-300">Durum</th>
                        </tr>
                    </thead>
                    <tbody class="text-slate-300">
                        <tr class="border-t border-slate-700/50">
                            <td class="py-3 px-4 font-semibold">Ana Sayfa</td>
                            <td class="py-3 px-4"><code class="text-xs bg-slate-700 px-2 py-1 rounded">/</code></td>
                            <td class="py-3 px-4"><span class="text-yellow-400">Sistem</span></td>
                            <td class="py-3 px-4"><span class="text-green-400"><i class="fas fa-check-circle mr-1"></i> OK</span></td>
                        </tr>
                        <tr class="border-t border-slate-700/50">
                            <td class="py-3 px-4 font-semibold">Sidebar</td>
                            <td class="py-3 px-4"><code class="text-xs bg-slate-700 px-2 py-1 rounded">*</code></td>
                            <td class="py-3 px-4"><span class="text-yellow-400">Sistem</span></td>
                            <td class="py-3 px-4"><span class="text-green-400"><i class="fas fa-check-circle mr-1"></i> OK</span></td>
                        </tr>
                        <tr class="border-t border-slate-700/50 bg-red-900/20">
                            <td class="py-3 px-4 font-semibold">Calma Listeleri</td>
                            <td class="py-3 px-4"><code class="text-xs bg-slate-700 px-2 py-1 rounded">/playlists</code></td>
                            <td class="py-3 px-4"><span class="text-yellow-400">Sistem</span></td>
                            <td class="py-3 px-4"><span class="text-red-400"><i class="fas fa-exclamation-triangle mr-1"></i> DUZELTILECEK</span></td>
                        </tr>
                        <tr class="border-t border-slate-700/50">
                            <td class="py-3 px-4 font-semibold">Playlistlerim</td>
                            <td class="py-3 px-4"><code class="text-xs bg-slate-700 px-2 py-1 rounded">/muzibu/my-playlists</code></td>
                            <td class="py-3 px-4"><span class="text-blue-400">Bireysel (Kullanicinin)</span></td>
                            <td class="py-3 px-4"><span class="text-green-400"><i class="fas fa-check-circle mr-1"></i> OK</span></td>
                        </tr>
                    </tbody>
                </table>
            </div>
        </section>

    </main>

    <!-- Footer -->
    <footer class="border-t border-slate-800 py-6 text-center text-slate-500 text-sm">
        <p>
            <i class="fas fa-robot mr-1"></i> Claude AI tarafindan olusturuldu
            <span class="mx-2">|</span>
            Muzibu.com.tr Playlist Sistemi Analizi
        </p>
    </footer>

</body>
</html>

sw.js:137 [Service Worker] Loaded successfully
sw.js:27 [Service Worker] Installing...
sw.js:32 [Service Worker] Caching critical assets
sw.js:43 [Service Worker] Activating...
?plugins=forms,typography,aspect-ratio:68 cdn.tailwindcss.com should not be used in production. To use Tailwind CSS in production, install it as a PostCSS plugin or use the Tailwind CLI: https://tailwindcss.com/docs/installation
(anonymous) @ ?plugins=forms,typography,aspect-ratio:68
(anonymous) @ ?plugins=forms,typography,aspect-ratio:68
muzibu-router.js?v=1764977095:30 üöÄ Muzibu SPA Router initialized
player-core.js?v=1764977095:157 Muzibu initialized with Howler.js
player-core.js?v=1764977095:160 Muzibu initialized Object
keyboard.js?v=1764977095:46 üéπ Keyboard shortcuts initialized
livewire.js?id=df3a17f2:1123 Alpine Expression Error: this.startQueueMonitor is not a function

Expression: "init() {
            // ‚úÖ Prevent double initialization (component-level, not window-level)
            if (this._initialized) {
                console.log('‚ö†Ô∏è Already initialized, skipping...');
                return;
            }
            this._initialized = true;

            console.log('Muzibu initialized with Howler.js');

            // User already loaded from Laravel backend (no need for API check)
            console.log('Muzibu initialized', { isLoggedIn: this.isLoggedIn, user: this.currentUser });

            // Load featured playlists on init
            this.loadFeaturedPlaylists();

            // üéØ PRELOAD: Load last played song in PAUSE mode (instant playback)
            this.preloadLastPlayedSong();

            // Initialize keyboard shortcuts
            this.initKeyboard();

            // Show content after loading (KRITIK - Alpine.js x-show i√ßin)
            setTimeout(() => {
                this.isLoading = false;
                this.contentLoaded = true;
            }, 500);

            // üéØ QUEUE CHECKER: Monitor queue and auto-refill (PHASE 4)
            this.startQueueMonitor();

            // üíæ FULL STATE RESTORATION: Tarayƒ±cƒ± kapansa bile kaldƒ±ƒüƒ± yerden devam et
            this.loadQueueState();

            // üéµ BACKGROUND PLAYBACK: Tarayƒ±cƒ± minimize olsa bile √ßalsƒ±n
            this.enableBackgroundPlayback();

            // üíæ AUTO-SAVE: State deƒüi≈üikliklerini otomatik kaydet
            this.setupAutoSave();

            // SPA Navigation: Handle browser back/forward
            window.addEventListener('popstate', (e) => {
                if (e.state && e.state.url) {
                    this.loadPage(e.state.url, false);
                }
            });

            // SPA Navigation: Intercept all internal links
            document.addEventListener('click', (e) => {
                const link = e.target.closest('a');
                if (!link) return;

                const href = link.getAttribute('href');

                // Skip if no href, hash link, or has download/target attribute
                if (!href ||
                    href.startsWith('#') ||
                    link.hasAttribute('download') ||
                    link.hasAttribute('target')) {
                    return;
                }

                // Check if external link (different domain)
                if (href.startsWith('http') || href.startsWith('//')) {
                    try {
                        const linkUrl = new URL(href, window.location.origin);
                        // If same domain, use SPA navigation
                        if (linkUrl.origin !== window.location.origin) {
                            return; // External link, let it navigate normally
                        }
                    } catch (e) {
                        return; // Invalid URL, let it navigate normally
                    }
                }

                // Internal link - use SPA navigation
                console.log('üöÄ SPA Navigation:', href);
                e.preventDefault();
                this.navigateTo(href);
            });
        }"

 <html lang=‚Äã"tr" x-data=‚Äã"muzibuApp()‚Äã" x-init=‚Äã"init()‚Äã" class=‚Äã"dark">‚Äã<head>‚Äã‚Ä¶‚Äã</head>‚Äã<body class=‚Äã"bg-black text-white">‚Äã‚Ä¶‚Äã</body>‚Äã</html>‚Äã
handleError @ livewire.js?id=df3a17f2:1123
tryCatch @ livewire.js?id=df3a17f2:1118
evaluate @ livewire.js?id=df3a17f2:1140
(anonymous) @ livewire.js?id=df3a17f2:3571
flushHandlers @ livewire.js?id=df3a17f2:1281
stopDeferring @ livewire.js?id=df3a17f2:1286
deferHandlingDirectives @ livewire.js?id=df3a17f2:1289
initTree @ livewire.js?id=df3a17f2:1479
(anonymous) @ livewire.js?id=df3a17f2:1428
start @ livewire.js?id=df3a17f2:1427
start2 @ livewire.js?id=df3a17f2:8851
(anonymous) @ livewire.js?id=df3a17f2:10215
player-core.js?v=1764977095:152 ‚ö†Ô∏è Already initialized, skipping...
(index):3872 üîÑ Livewire navigated - Re-initializing Alpine...
livewire.js?id=df3a17f2:1127 Uncaught TypeError: this.startQueueMonitor is not a function
    at Proxy.init (player-core.js?v=1764977095:178:18)
    at livewire.js?id=df3a17f2:1160:25
    at tryCatch (livewire.js?id=df3a17f2:1116:14)
    at evaluate (livewire.js?id=df3a17f2:1140:34)
    at Function.<anonymous> (livewire.js?id=df3a17f2:3571:29)
    at flushHandlers (livewire.js?id=df3a17f2:1281:48)
    at stopDeferring (livewire.js?id=df3a17f2:1286:7)
    at deferHandlingDirectives (livewire.js?id=df3a17f2:1289:5)
    at initTree (livewire.js?id=df3a17f2:1479:5)
    at livewire.js?id=df3a17f2:1428:7
init @ player-core.js?v=1764977095:178
(anonymous) @ livewire.js?id=df3a17f2:1160
tryCatch @ livewire.js?id=df3a17f2:1116
evaluate @ livewire.js?id=df3a17f2:1140
(anonymous) @ livewire.js?id=df3a17f2:3571
flushHandlers @ livewire.js?id=df3a17f2:1281
stopDeferring @ livewire.js?id=df3a17f2:1286
deferHandlingDirectives @ livewire.js?id=df3a17f2:1289
initTree @ livewire.js?id=df3a17f2:1479
(anonymous) @ livewire.js?id=df3a17f2:1428
start @ livewire.js?id=df3a17f2:1427
start2 @ livewire.js?id=df3a17f2:8851
(anonymous) @ livewire.js?id=df3a17f2:10215
(index):1 Uncaught (in promise) Error: Access to storage is not allowed from this context.
(index):1 Uncaught (in promise) Error: Access to storage is not allowed from this context.
(index):1 Uncaught (in promise) Error: Access to storage is not allowed from this context.
player-core.js?v=1764977095:235 Featured playlists loaded: 10
/api/muzibu/songs/last-played:1  Failed to load resource: the server responded with a status of 404 ()
player-core.js?v=1764977095:361 üéµ Auto-starting music from Genre (infinite loop)...
player-core.js?v=1764977095:366 ‚ùå Alpine.store("muzibu") not available yet - Using fallback
playRandomSongs @ player-core.js?v=1764977095:366
player-core.js?v=1764977095:1347 üéµ Queue Song API Response: Object
player-core.js?v=1764977095:1374 Playing song: https://muzibu.com.tr/api/muzibu/songs/391/serve?expires=1764978945&signature=f2673ad9a10fc7f5a970a76b828cbf91c675c47007c0b19546356b1567e75abb Type: mp3 Preview: null Fallback: null
player-core.js?v=1764977095:1479 loadAndPlaySong: Object
player-core.js?v=1764977095:1490 üéµ Playing URL: https://muzibu.com.tr/api/muzibu/songs/391/serve?expires=1764978945&signature=f2673ad9a10fc7f5a970a76b828cbf91c675c47007c0b19546356b1567e75abb
player-core.js?v=1764977095:1610 üéµ playWithHowler called with URL: https://muzibu.com.tr/api/muzibu/songs/391/serve?expires=1764978945&signature=f2673ad9a10fc7f5a970a76b828cbf91c675c47007c0b19546356b1567e75abb
player-core.js?v=1764977095:1611 üîç URL type: string
player-core.js?v=1764977095:1612 üîç URL length: 142
player-core.js?v=1764977095:1613 üîç Autoplay: true
player-core.js?v=1764977095:1621 üéµ Creating Howl with src: Array(1)
player-core.js?v=1764977095:1631 Howler loaded, duration: 155.3
livewire.js?id=df3a17f2:1123 Alpine Expression Error: currentSong.album_cover.includes is not a function

Expression: "currentSong && currentSong.album_cover && !currentSong.album_cover.includes('placeholder')"

 <template x-if=‚Äã"currentSong && currentSong.album_cover && !currentSong.album_cover.includes('placeholder')‚Äã">‚Äã‚Ä¶‚Äã</template>‚Äã
handleError @ livewire.js?id=df3a17f2:1123
(anonymous) @ livewire.js?id=df3a17f2:1196
Promise.catch
(anonymous) @ livewire.js?id=df3a17f2:1196
tryCatch @ livewire.js?id=df3a17f2:1116
(anonymous) @ livewire.js?id=df3a17f2:3856
reactiveEffect @ livewire.js?id=df3a17f2:2432
flushJobs @ livewire.js?id=df3a17f2:744
livewire.js?id=df3a17f2:1123 Alpine Expression Error: currentSong.album_cover.includes is not a function

Expression: "!currentSong || !currentSong.album_cover || currentSong.album_cover.includes('placeholder')"

 <template x-if=‚Äã"!currentSong || !currentSong.album_cover || currentSong.album_cover.includes('placeholder')‚Äã">‚Äã‚Ä¶‚Äã</template>‚Äã
handleError @ livewire.js?id=df3a17f2:1123
(anonymous) @ livewire.js?id=df3a17f2:1196
Promise.catch
(anonymous) @ livewire.js?id=df3a17f2:1196
tryCatch @ livewire.js?id=df3a17f2:1116
(anonymous) @ livewire.js?id=df3a17f2:3856
reactiveEffect @ livewire.js?id=df3a17f2:2432
flushJobs @ livewire.js?id=df3a17f2:744
livewire.js?id=df3a17f2:1127 Uncaught TypeError: currentSong.album_cover.includes is not a function
    at [Alpine] currentSong && currentSong.album_cover && !currentSong.album_cover.includes(/'placeholder') (eval at safeAsyncFunction (https://muzibu.com.tr/livewire/livewire.js?id=df3a17f2:1174:21), <anonymous>:3:99)
    at livewire.js?id=df3a17f2:1196:23
    at tryCatch (livewire.js?id=df3a17f2:1116:14)
    at livewire.js?id=df3a17f2:3856:19
    at Array.reactiveEffect (livewire.js?id=df3a17f2:2432:18)
    at flushJobs (livewire.js?id=df3a17f2:744:15)
[Alpine] currentSong && currentSong.album_cover && !currentSong.album_cover.includes('placeholder') @ VM2943:3
(anonymous) @ livewire.js?id=df3a17f2:1196
tryCatch @ livewire.js?id=df3a17f2:1116
(anonymous) @ livewire.js?id=df3a17f2:3856
reactiveEffect @ livewire.js?id=df3a17f2:2432
flushJobs @ livewire.js?id=df3a17f2:744
livewire.js?id=df3a17f2:1127 Uncaught TypeError: currentSong.album_cover.includes is not a function
    at [Alpine] !currentSong || !currentSong.album_cover || currentSong.album_cover.includes(/'placeholder') (eval at safeAsyncFunction (https://muzibu.com.tr/livewire/livewire.js?id=df3a17f2:1174:21), <anonymous>:3:100)
    at livewire.js?id=df3a17f2:1196:23
    at tryCatch (livewire.js?id=df3a17f2:1116:14)
    at livewire.js?id=df3a17f2:3856:19
    at Array.reactiveEffect (livewire.js?id=df3a17f2:2432:18)
    at flushJobs (livewire.js?id=df3a17f2:744:15)
[Alpine] !currentSong || !currentSong.album_cover || currentSong.album_cover.includes('placeholder') @ VM2944:3
(anonymous) @ livewire.js?id=df3a17f2:1196
tryCatch @ livewire.js?id=df3a17f2:1116
(anonymous) @ livewire.js?id=df3a17f2:3856
reactiveEffect @ livewire.js?id=df3a17f2:2432
flushJobs @ livewire.js?id=df3a17f2:744
player-core.js?v=1764977095:1270 üéµ Stream API Response: {status: 'ready', preview_duration: undefined, is_premium: true, message: 'HLS stream ready'}
player-core.js?v=1764977095:1479 loadAndPlaySong: {url: 'https://muzibu.com.tr/storage/tenant1001/muzibu/hls/317/playlist.m3u8', streamType: 'hls', useHls: true, previewMode: false}
player-core.js?v=1764977095:1692 üîç HLS Autoplay: true
player-core.js?v=1764977095:1767 HLS fatal error: {type: 'networkError', details: 'keyLoadError', fatal: true, frag: Proxy(e), response: undefined,¬†‚Ä¶}
(anonymous) @ player-core.js?v=1764977095:1767
o.emit @ index.js:203
e.emit @ hls.ts:287
e.trigger @ hls.ts:298
r.handleFragLoadError @ base-stream-controller.ts:838
(anonymous) @ base-stream-controller.ts:784
Promise.catch
r._doFragLoad @ base-stream-controller.ts:784
r._loadFragForPlayback @ base-stream-controller.ts:367
r.loadFragment @ base-stream-controller.ts:343
r.loadFragment @ stream-controller.ts:373
r.doTickIdle @ stream-controller.ts:349
r.doTick @ stream-controller.ts:204
e.tick @ task-loop.ts:106
setTimeout
e.tickImmediate @ task-loop.ts:119
r.onFragmentOrKeyLoadError @ base-stream-controller.ts:1558
r.onError @ stream-controller.ts:895
o.emit @ index.js:203
e.emit @ hls.ts:287
e.trigger @ hls.ts:298
r.handleFragLoadError @ base-stream-controller.ts:838
(anonymous) @ base-stream-controller.ts:784
Promise.catch
r._doFragLoad @ base-stream-controller.ts:784
r._loadFragForPlayback @ base-stream-controller.ts:367
r.loadFragment @ base-stream-controller.ts:343
r.loadFragment @ stream-controller.ts:373
r.doTickIdle @ stream-controller.ts:349
r.doTick @ stream-controller.ts:204
e.tick @ task-loop.ts:106
r.onLevelLoaded @ stream-controller.ts:691
o.emit @ index.js:203
e.emit @ hls.ts:287
e.trigger @ hls.ts:298
e.handlePlaylistLoaded @ playlist-loader.ts:676
e.handleTrackOrLevelPlaylist @ playlist-loader.ts:498
onSuccess @ playlist-loader.ts:314
e.readystatechange @ xhr-loader.ts:231
XMLHttpRequest.send
e.openAndSendXhr @ xhr-loader.ts:158
(anonymous) @ xhr-loader.ts:104
Promise.then
e.loadInternal @ xhr-loader.ts:102
e.load @ xhr-loader.ts:76
e.load @ playlist-loader.ts:347
e.onManifestLoading @ playlist-loader.ts:154
o.emit @ index.js:203
e.emit @ hls.ts:287
e.trigger @ hls.ts:298
e.loadSource @ hls.ts:389
playHlsStream @ player-core.js?v=1764977095:1734
loadAndPlaySong @ player-core.js?v=1764977095:1483
await in loadAndPlaySong
playSong @ player-core.js?v=1764977095:1296
await in playSong
[Alpine] playSong(317) @ VM2864:3
(anonymous) @ livewire.js?id=df3a17f2:1196
tryCatch @ livewire.js?id=df3a17f2:1116
(anonymous) @ livewire.js?id=df3a17f2:3881
handler4 @ livewire.js?id=df3a17f2:3183
(anonymous) @ livewire.js?id=df3a17f2:3247
(anonymous) @ livewire.js?id=df3a17f2:3185

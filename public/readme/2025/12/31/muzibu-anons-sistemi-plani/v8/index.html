<!DOCTYPE html>
<html lang="tr">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Muzibu Corporate Spots - Final Plan v8</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.1/css/all.min.css">
</head>
<body class="bg-slate-900 text-gray-100 min-h-screen">

    <!-- Header -->
    <header class="bg-gradient-to-r from-emerald-900/50 to-teal-900/50 border-b border-emerald-800/30">
        <div class="max-w-7xl mx-auto px-6 py-6">
            <div class="flex items-center gap-3 mb-2">
                <span class="px-3 py-1 bg-emerald-600 text-white text-xs font-bold rounded-full">
                    <i class="fas fa-check mr-1"></i>FINAL v8
                </span>
                <span class="px-2 py-0.5 bg-green-600/30 text-green-300 text-xs rounded">2 Tablo</span>
                <span class="text-gray-400 text-sm">31 Aralik 2025</span>
            </div>
            <h1 class="text-2xl md:text-3xl font-bold text-white">
                <i class="fas fa-bullhorn text-emerald-400 mr-2"></i>
                Muzibu Corporate Spots Sistemi
            </h1>
            <p class="text-emerald-200/70 mt-1">Kurumsal hesaplar icin sarki arasi sesli spot yayin sistemi</p>
        </div>
    </header>

    <!-- Navigation -->
    <nav class="bg-slate-800/80 border-b border-slate-700 sticky top-0 z-50 backdrop-blur-sm overflow-x-auto">
        <div class="max-w-7xl mx-auto px-6 py-2 flex gap-2 text-sm">
            <a href="#veritabani" class="px-3 py-1.5 rounded bg-green-600/20 text-green-300">Veritabani</a>
            <a href="#kararlar" class="px-3 py-1.5 rounded text-gray-300 hover:bg-slate-700">Kararlar</a>
            <a href="#akis" class="px-3 py-1.5 rounded text-gray-300 hover:bg-slate-700">Akis</a>
            <a href="#kurumsal" class="px-3 py-1.5 rounded text-gray-300 hover:bg-slate-700">Kurumsal Panel</a>
            <a href="#player" class="px-3 py-1.5 rounded text-gray-300 hover:bg-slate-700">Player</a>
            <a href="#istatistik" class="px-3 py-1.5 rounded text-gray-300 hover:bg-slate-700">Istatistik</a>
            <a href="#api" class="px-3 py-1.5 rounded text-gray-300 hover:bg-slate-700">API</a>
        </div>
    </nav>

    <main class="max-w-7xl mx-auto px-6 py-8 space-y-12">

        <!-- ==================== VERiTABANI ==================== -->
        <section id="veritabani">
            <h2 class="text-2xl font-bold text-white mb-6 flex items-center gap-3">
                <span class="w-10 h-10 bg-blue-600 rounded-lg flex items-center justify-center">
                    <i class="fas fa-database"></i>
                </span>
                Veritabani Yapisi (2 Tablo)
            </h2>

            <!-- Ozet Kutulari -->
            <div class="grid md:grid-cols-3 gap-4 mb-8">
                <div class="bg-emerald-900/30 border border-emerald-700/50 rounded-xl p-5 text-center">
                    <p class="text-4xl font-bold text-emerald-400">2</p>
                    <p class="text-gray-400 text-sm mt-1">Yeni Tablo</p>
                </div>
                <div class="bg-orange-900/30 border border-orange-700/50 rounded-xl p-5 text-center">
                    <p class="text-4xl font-bold text-orange-400">+4</p>
                    <p class="text-gray-400 text-sm mt-1">Kolon (accounts)</p>
                </div>
                <div class="bg-blue-900/30 border border-blue-700/50 rounded-xl p-5 text-center">
                    <p class="text-4xl font-bold text-blue-400">Detayli</p>
                    <p class="text-gray-400 text-sm mt-1">Istatistik</p>
                </div>
            </div>

            <div class="space-y-6">
                <!-- Tablo 1: Spots -->
                <div class="bg-emerald-900/20 border border-emerald-700/50 rounded-xl p-5">
                    <h3 class="font-semibold text-emerald-400 mb-3 flex items-center gap-2">
                        <span class="w-8 h-8 bg-emerald-600 rounded-full flex items-center justify-center text-white text-sm font-bold">1</span>
                        muzibu_corporate_spots
                        <span class="text-gray-500 text-xs font-normal">(Spot bilgileri)</span>
                    </h3>

                    <div class="overflow-x-auto">
                        <table class="w-full text-sm">
                            <thead>
                                <tr class="text-left text-gray-400 border-b border-slate-700">
                                    <th class="pb-2 pr-4">Kolon</th>
                                    <th class="pb-2 pr-4">Tip</th>
                                    <th class="pb-2">Aciklama</th>
                                </tr>
                            </thead>
                            <tbody class="text-gray-300">
                                <tr class="border-b border-slate-800">
                                    <td class="py-2 font-mono text-emerald-400">id</td>
                                    <td>BIGINT PK</td>
                                    <td>Auto increment</td>
                                </tr>
                                <tr class="border-b border-slate-800 bg-yellow-900/20">
                                    <td class="py-2 font-mono text-yellow-400">corporate_account_id</td>
                                    <td>BIGINT FK</td>
                                    <td><strong>Hangi corporate'a ait</strong></td>
                                </tr>
                                <tr class="border-b border-slate-800">
                                    <td class="py-2 font-mono text-emerald-400">title</td>
                                    <td>VARCHAR(255)</td>
                                    <td>Spot basligi</td>
                                </tr>
                                <tr class="border-b border-slate-800">
                                    <td class="py-2 font-mono text-emerald-400">audio_path</td>
                                    <td>VARCHAR(500)</td>
                                    <td>Dosya yolu</td>
                                </tr>
                                <tr class="border-b border-slate-800">
                                    <td class="py-2 font-mono text-emerald-400">duration</td>
                                    <td>INT</td>
                                    <td>Sure (saniye)</td>
                                </tr>
                                <tr class="border-b border-slate-800">
                                    <td class="py-2 font-mono text-emerald-400">file_size</td>
                                    <td>INT</td>
                                    <td>Boyut (bytes)</td>
                                </tr>
                                <tr class="border-b border-slate-800 bg-blue-900/20">
                                    <td class="py-2 font-mono text-blue-400">starts_at</td>
                                    <td>TIMESTAMP NULL</td>
                                    <td>Baslangic tarihi (NULL = her zaman)</td>
                                </tr>
                                <tr class="border-b border-slate-800 bg-blue-900/20">
                                    <td class="py-2 font-mono text-blue-400">ends_at</td>
                                    <td>TIMESTAMP NULL</td>
                                    <td>Bitis tarihi (NULL = suresiz)</td>
                                </tr>
                                <tr class="border-b border-slate-800 bg-purple-900/20">
                                    <td class="py-2 font-mono text-purple-400">position</td>
                                    <td>INT DEFAULT 0</td>
                                    <td>Siralama (kucuk = once)</td>
                                </tr>
                                <tr class="border-b border-slate-800 bg-green-900/20">
                                    <td class="py-2 font-mono text-green-400">is_enabled</td>
                                    <td>BOOLEAN DEFAULT TRUE</td>
                                    <td>Aktif mi?</td>
                                </tr>
                                <tr class="border-b border-slate-800 bg-orange-900/20">
                                    <td class="py-2 font-mono text-orange-400">is_archived</td>
                                    <td>BOOLEAN DEFAULT FALSE</td>
                                    <td>Arsivlendi mi?</td>
                                </tr>
                                <tr>
                                    <td class="py-2 font-mono text-emerald-400">timestamps</td>
                                    <td>TIMESTAMP</td>
                                    <td>created_at, updated_at</td>
                                </tr>
                            </tbody>
                        </table>
                    </div>

                    <div class="mt-4 bg-slate-900 rounded-lg p-3 font-mono text-xs text-gray-400">
                        INDEX (corporate_account_id, is_enabled, is_archived)<br>
                        INDEX (corporate_account_id, position)
                    </div>
                </div>

                <!-- Tablo 2: Plays (Dinlenme) -->
                <div class="bg-cyan-900/20 border border-cyan-700/50 rounded-xl p-5">
                    <h3 class="font-semibold text-cyan-400 mb-3 flex items-center gap-2">
                        <span class="w-8 h-8 bg-cyan-600 rounded-full flex items-center justify-center text-white text-sm font-bold">2</span>
                        muzibu_corporate_spot_plays
                        <span class="text-gray-500 text-xs font-normal">(Dinlenme loglari)</span>
                    </h3>

                    <div class="overflow-x-auto">
                        <table class="w-full text-sm">
                            <thead>
                                <tr class="text-left text-gray-400 border-b border-slate-700">
                                    <th class="pb-2 pr-4">Kolon</th>
                                    <th class="pb-2 pr-4">Tip</th>
                                    <th class="pb-2">Aciklama</th>
                                </tr>
                            </thead>
                            <tbody class="text-gray-300">
                                <tr class="border-b border-slate-800">
                                    <td class="py-2 font-mono text-cyan-400">id</td>
                                    <td>BIGINT PK</td>
                                    <td>Auto increment</td>
                                </tr>
                                <tr class="border-b border-slate-800">
                                    <td class="py-2 font-mono text-cyan-400">spot_id</td>
                                    <td>BIGINT FK</td>
                                    <td>Hangi spot</td>
                                </tr>
                                <tr class="border-b border-slate-800">
                                    <td class="py-2 font-mono text-cyan-400">corporate_account_id</td>
                                    <td>BIGINT FK</td>
                                    <td>Hangi sube</td>
                                </tr>
                                <tr class="border-b border-slate-800">
                                    <td class="py-2 font-mono text-cyan-400">user_id</td>
                                    <td>BIGINT FK NULL</td>
                                    <td>Kim dinledi (NULL = anonim)</td>
                                </tr>
                                <tr class="border-b border-slate-800 bg-red-900/20">
                                    <td class="py-2 font-mono text-red-400">was_skipped</td>
                                    <td>BOOLEAN DEFAULT FALSE</td>
                                    <td>Atlandi mi?</td>
                                </tr>
                                <tr>
                                    <td class="py-2 font-mono text-cyan-400">played_at</td>
                                    <td>TIMESTAMP</td>
                                    <td>Ne zaman dinlendi</td>
                                </tr>
                            </tbody>
                        </table>
                    </div>

                    <div class="mt-4 bg-slate-900 rounded-lg p-3 font-mono text-xs text-gray-400">
                        INDEX (spot_id, played_at)<br>
                        INDEX (corporate_account_id, played_at)<br>
                        INDEX (user_id)
                    </div>

                    <div class="mt-4 bg-cyan-900/30 border border-cyan-700/50 rounded-lg p-3">
                        <p class="text-cyan-300 text-sm">
                            <i class="fas fa-chart-line mr-2"></i>
                            <strong>Detayli istatistik:</strong> Kim, ne zaman, hangi sube, atlandi mi? Hepsi kayit altinda.
                        </p>
                    </div>
                </div>

                <!-- Kolon Ekleme: Corporate Accounts -->
                <div class="bg-orange-900/20 border border-orange-700/50 rounded-xl p-5">
                    <h3 class="font-semibold text-orange-400 mb-3 flex items-center gap-2">
                        <i class="fas fa-pen"></i>
                        GUNCELLEME: muzibu_corporate_accounts
                        <span class="text-gray-500 text-xs font-normal">(+4 kolon)</span>
                    </h3>

                    <div class="bg-slate-900 rounded-lg p-4 font-mono text-sm">
                        <pre class="text-gray-300"><code>spot_enabled BOOLEAN DEFAULT TRUE       -- Ana sube: Sistem acik mi?
spot_songs_between INT DEFAULT 10       -- Ana sube: Kac sarkida bir?
spot_current_index INT DEFAULT 0        -- Rotation index (siradaki spot)
spot_is_paused BOOLEAN DEFAULT FALSE    -- Her sube: Durduruldu mu?</code></pre>
                    </div>
                </div>

                <!-- Gelecek: Admin Onayi -->
                <div class="bg-yellow-900/20 border border-yellow-700/50 rounded-xl p-5">
                    <h3 class="font-semibold text-yellow-400 mb-3 flex items-center gap-2">
                        <i class="fas fa-lightbulb"></i>
                        GELECEK: Admin Onayi Gerekirse
                    </h3>
                    <div class="bg-slate-900 rounded-lg p-4 font-mono text-sm">
                        <pre class="text-gray-300"><code>-- spots tablosuna eklenebilir:
is_approved BOOLEAN DEFAULT FALSE       -- Admin onayladi mi?
approved_at TIMESTAMP NULL              -- Ne zaman onaylandi?
approved_by BIGINT FK NULL              -- Kim onayladi?</code></pre>
                    </div>
                </div>
            </div>
        </section>

        <!-- ==================== TUM KARARLAR ==================== -->
        <section id="kararlar">
            <h2 class="text-2xl font-bold text-white mb-6 flex items-center gap-3">
                <span class="w-10 h-10 bg-emerald-600 rounded-lg flex items-center justify-center">
                    <i class="fas fa-check-double"></i>
                </span>
                Tum Kararlar
            </h2>

            <div class="grid md:grid-cols-2 lg:grid-cols-4 gap-4">
                <div class="bg-slate-800 rounded-xl p-4 border-l-4 border-emerald-500">
                    <div class="flex items-center gap-2 mb-2">
                        <i class="fas fa-forward text-green-400"></i>
                        <span class="font-semibold text-white">Spot Atlanabilir</span>
                    </div>
                    <p class="text-gray-400 text-sm">Skip serbest, zorlama yok.</p>
                </div>

                <div class="bg-slate-800 rounded-xl p-4 border-l-4 border-emerald-500">
                    <div class="flex items-center gap-2 mb-2">
                        <i class="fas fa-building text-yellow-400"></i>
                        <span class="font-semibold text-white">Corporate Yukler</span>
                    </div>
                    <p class="text-gray-400 text-sm">Kendi spotunu kendi yukler.</p>
                </div>

                <div class="bg-slate-800 rounded-xl p-4 border-l-4 border-emerald-500">
                    <div class="flex items-center gap-2 mb-2">
                        <i class="fas fa-archive text-purple-400"></i>
                        <span class="font-semibold text-white">Arsivleme</span>
                    </div>
                    <p class="text-gray-400 text-sm">Silmek yok, arsivle.</p>
                </div>

                <div class="bg-slate-800 rounded-xl p-4 border-l-4 border-emerald-500">
                    <div class="flex items-center gap-2 mb-2">
                        <i class="fas fa-bolt text-yellow-400"></i>
                        <span class="font-semibold text-white">localStorage Sayac</span>
                    </div>
                    <p class="text-gray-400 text-sm">Performans oncelikli.</p>
                </div>

                <div class="bg-slate-800 rounded-xl p-4 border-l-4 border-emerald-500">
                    <div class="flex items-center gap-2 mb-2">
                        <i class="fas fa-file text-orange-400"></i>
                        <span class="font-semibold text-white">Max 30 MB</span>
                    </div>
                    <p class="text-gray-400 text-sm">Dosya boyutu limiti.</p>
                </div>

                <div class="bg-slate-800 rounded-xl p-4 border-l-4 border-emerald-500">
                    <div class="flex items-center gap-2 mb-2">
                        <i class="fas fa-music text-pink-400"></i>
                        <span class="font-semibold text-white">30 Sn Kurali</span>
                    </div>
                    <p class="text-gray-400 text-sm">30 sn dinlenince 1 sarki.</p>
                </div>

                <div class="bg-slate-800 rounded-xl p-4 border-l-4 border-emerald-500">
                    <div class="flex items-center gap-2 mb-2">
                        <i class="fas fa-chart-bar text-cyan-400"></i>
                        <span class="font-semibold text-white">Detayli Log</span>
                    </div>
                    <p class="text-gray-400 text-sm">Kim, ne zaman, atlandi mi?</p>
                </div>

                <div class="bg-slate-800 rounded-xl p-4 border-l-4 border-emerald-500">
                    <div class="flex items-center gap-2 mb-2">
                        <i class="fas fa-database text-blue-400"></i>
                        <span class="font-semibold text-white">2 Tablo</span>
                    </div>
                    <p class="text-gray-400 text-sm">spots + plays</p>
                </div>
            </div>
        </section>

        <!-- ==================== AKIS ==================== -->
        <section id="akis">
            <h2 class="text-2xl font-bold text-white mb-6 flex items-center gap-3">
                <span class="w-10 h-10 bg-purple-600 rounded-lg flex items-center justify-center">
                    <i class="fas fa-sitemap"></i>
                </span>
                Sistem Akisi
            </h2>

            <div class="space-y-6">
                <!-- Akis Semasi -->
                <div class="bg-slate-800/50 border border-slate-700 rounded-xl p-6">
                    <div class="bg-slate-900 rounded-lg p-6">
                        <div class="flex flex-col gap-4">
                            <div class="flex items-center gap-4">
                                <div class="w-10 h-10 bg-yellow-600 rounded-full flex items-center justify-center font-bold shrink-0">1</div>
                                <div class="flex-1 bg-yellow-900/20 border border-yellow-700/50 rounded-lg p-4">
                                    <h5 class="text-yellow-400 font-medium">Corporate Spot Yukler</h5>
                                    <p class="text-gray-400 text-sm mt-1">Ses + baslik + tarih + sira → <code class="text-emerald-300">spots</code></p>
                                </div>
                            </div>

                            <div class="flex justify-center"><i class="fas fa-arrow-down text-gray-600"></i></div>

                            <div class="flex items-center gap-4">
                                <div class="w-10 h-10 bg-green-600 rounded-full flex items-center justify-center font-bold shrink-0">2</div>
                                <div class="flex-1 bg-green-900/20 border border-green-700/50 rounded-lg p-4">
                                    <h5 class="text-green-400 font-medium">Sube Durdurabilir</h5>
                                    <p class="text-gray-400 text-sm mt-1">Durdur/devam → <code class="text-orange-300">spot_is_paused</code></p>
                                </div>
                            </div>

                            <div class="flex justify-center"><i class="fas fa-arrow-down text-gray-600"></i></div>

                            <div class="flex items-center gap-4">
                                <div class="w-10 h-10 bg-blue-600 rounded-full flex items-center justify-center font-bold shrink-0">3</div>
                                <div class="flex-1 bg-blue-900/20 border border-blue-700/50 rounded-lg p-4">
                                    <h5 class="text-blue-400 font-medium">Player Calar</h5>
                                    <p class="text-gray-400 text-sm mt-1">10 sarkida bir spot → <code class="text-cyan-300">plays</code> tablosuna log</p>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>

                <!-- Calma Kosulu -->
                <div class="bg-emerald-900/20 border border-emerald-700/50 rounded-xl p-6">
                    <h4 class="font-semibold text-emerald-400 mb-4">
                        <i class="fas fa-play mr-2"></i>
                        Spot Calmasi Icin Kosullar
                    </h4>

                    <div class="bg-slate-900 rounded-lg p-4 font-mono text-sm">
                        <pre class="text-gray-300"><code>SELECT * FROM muzibu_corporate_spots
WHERE corporate_account_id = :main_corporate_id
  AND is_enabled = TRUE
  AND is_archived = FALSE
  AND (starts_at IS NULL OR starts_at <= NOW())
  AND (ends_at IS NULL OR ends_at >= NOW())
ORDER BY position ASC

-- + corporate_accounts kontrolu:
-- spot_enabled = TRUE
-- spot_is_paused = FALSE</code></pre>
                    </div>
                </div>
            </div>
        </section>

        <!-- ==================== KURUMSAL PANEL ==================== -->
        <section id="kurumsal">
            <h2 class="text-2xl font-bold text-white mb-6 flex items-center gap-3">
                <span class="w-10 h-10 bg-yellow-600 rounded-lg flex items-center justify-center">
                    <i class="fas fa-building"></i>
                </span>
                Kurumsal Panel
            </h2>

            <div class="space-y-6">
                <!-- Spot Listesi -->
                <div class="bg-slate-800/50 border border-slate-700 rounded-xl p-5">
                    <div class="bg-slate-900 rounded-xl overflow-hidden">
                        <div class="bg-gradient-to-r from-yellow-900/30 to-orange-900/30 px-5 py-4 border-b border-yellow-800/30 flex items-center justify-between">
                            <div>
                                <h5 class="text-white font-medium">Kurumsal Spotlar</h5>
                                <p class="text-yellow-200/60 text-sm">Kendi spotlarinizi yonetin</p>
                            </div>
                            <button class="px-4 py-2 bg-indigo-600 text-white rounded-lg text-sm">
                                <i class="fas fa-plus mr-2"></i>Yeni Spot
                            </button>
                        </div>

                        <div class="p-5">
                            <!-- Genel Ayarlar -->
                            <div class="grid md:grid-cols-2 gap-4 mb-6">
                                <div class="bg-slate-800 rounded-lg p-4 flex items-center justify-between">
                                    <div>
                                        <h6 class="text-white font-medium">Spot Sistemi</h6>
                                        <p class="text-gray-500 text-sm">Tum subelerde</p>
                                    </div>
                                    <button class="w-14 h-7 bg-green-600 rounded-full relative">
                                        <span class="absolute right-1 top-1 w-5 h-5 bg-white rounded-full"></span>
                                    </button>
                                </div>
                                <div class="bg-slate-800 rounded-lg p-4">
                                    <div class="flex items-center justify-between mb-2">
                                        <span class="text-white font-medium">Kac sarkida bir?</span>
                                        <span class="text-xl font-bold text-yellow-400">10</span>
                                    </div>
                                    <input type="range" min="5" max="20" value="10" class="w-full">
                                </div>
                            </div>

                            <!-- Spot Listesi -->
                            <div class="space-y-3">
                                <div class="bg-slate-800 rounded-lg p-4">
                                    <div class="flex items-center gap-4">
                                        <i class="fas fa-grip-vertical text-gray-600 cursor-move"></i>
                                        <span class="w-6 h-6 bg-yellow-600 rounded-full flex items-center justify-center text-xs">1</span>
                                        <div class="flex-1">
                                            <p class="text-white font-medium">Yilbasi Kampanyasi</p>
                                            <p class="text-gray-500 text-xs">0:45 • 1.2 MB</p>
                                        </div>
                                        <div class="flex items-center gap-3">
                                            <div class="text-right">
                                                <p class="text-green-400 text-xs">25 Ara - 05 Oca</p>
                                                <p class="text-gray-500 text-xs">152 dinlenme</p>
                                            </div>
                                            <button class="px-3 py-1 bg-green-600/20 text-green-400 text-xs rounded">Aktif</button>
                                            <button class="p-1.5 text-gray-400 hover:text-white"><i class="fas fa-chart-bar"></i></button>
                                            <button class="p-1.5 text-gray-400 hover:text-white"><i class="fas fa-pen"></i></button>
                                            <button class="p-1.5 text-gray-400 hover:text-orange-400"><i class="fas fa-archive"></i></button>
                                        </div>
                                    </div>
                                </div>

                                <div class="bg-slate-800 rounded-lg p-4">
                                    <div class="flex items-center gap-4">
                                        <i class="fas fa-grip-vertical text-gray-600 cursor-move"></i>
                                        <span class="w-6 h-6 bg-yellow-600 rounded-full flex items-center justify-center text-xs">2</span>
                                        <div class="flex-1">
                                            <p class="text-white font-medium">Genel Duyuru</p>
                                            <p class="text-gray-500 text-xs">0:30 • 0.8 MB</p>
                                        </div>
                                        <div class="flex items-center gap-3">
                                            <div class="text-right">
                                                <p class="text-gray-400 text-xs">Suresiz</p>
                                                <p class="text-gray-500 text-xs">89 dinlenme</p>
                                            </div>
                                            <button class="px-3 py-1 bg-green-600/20 text-green-400 text-xs rounded">Aktif</button>
                                            <button class="p-1.5 text-gray-400 hover:text-white"><i class="fas fa-chart-bar"></i></button>
                                            <button class="p-1.5 text-gray-400 hover:text-white"><i class="fas fa-pen"></i></button>
                                            <button class="p-1.5 text-gray-400 hover:text-orange-400"><i class="fas fa-archive"></i></button>
                                        </div>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>

                <!-- Sube Widget -->
                <div class="bg-slate-800/50 border border-slate-700 rounded-xl p-5">
                    <h4 class="font-semibold text-white mb-4">
                        <i class="fas fa-code-branch mr-2 text-green-400"></i>
                        Sube Widget
                    </h4>

                    <div class="grid md:grid-cols-2 gap-6">
                        <div class="bg-gradient-to-r from-indigo-900/50 to-purple-900/50 rounded-xl p-4 border border-indigo-700/50">
                            <div class="flex items-center justify-between mb-3">
                                <div class="flex items-center gap-3">
                                    <div class="w-10 h-10 bg-indigo-600 rounded-lg flex items-center justify-center">
                                        <i class="fas fa-bullhorn"></i>
                                    </div>
                                    <div>
                                        <p class="text-white font-medium text-sm">Spotlar</p>
                                        <p class="text-indigo-300 text-xs">3 sarki sonra</p>
                                    </div>
                                </div>
                                <span class="px-2 py-1 bg-green-500/20 text-green-400 text-xs rounded-full">Acik</span>
                            </div>
                            <button class="w-full py-2 bg-red-600/80 hover:bg-red-600 text-white rounded-lg text-sm">
                                <i class="fas fa-pause mr-2"></i>Durdur
                            </button>
                        </div>

                        <div class="bg-slate-800 rounded-xl p-4 border border-slate-700">
                            <div class="flex items-center justify-between mb-3">
                                <div class="flex items-center gap-3">
                                    <div class="w-10 h-10 bg-slate-700 rounded-lg flex items-center justify-center">
                                        <i class="fas fa-bullhorn text-gray-500"></i>
                                    </div>
                                    <div>
                                        <p class="text-white font-medium text-sm">Spotlar</p>
                                        <p class="text-gray-500 text-xs">Durduruldu</p>
                                    </div>
                                </div>
                                <span class="px-2 py-1 bg-gray-600/20 text-gray-400 text-xs rounded-full">Durdu</span>
                            </div>
                            <button class="w-full py-2 bg-green-600/80 hover:bg-green-600 text-white rounded-lg text-sm">
                                <i class="fas fa-play mr-2"></i>Baslat
                            </button>
                        </div>
                    </div>
                </div>
            </div>
        </section>

        <!-- ==================== PLAYER ==================== -->
        <section id="player">
            <h2 class="text-2xl font-bold text-white mb-6 flex items-center gap-3">
                <span class="w-10 h-10 bg-pink-600 rounded-lg flex items-center justify-center">
                    <i class="fas fa-play"></i>
                </span>
                Player
            </h2>

            <div class="space-y-6">
                <!-- Spot Calarken -->
                <div class="bg-slate-800/50 border border-slate-700 rounded-xl p-5">
                    <h4 class="font-semibold text-white mb-4">Spot Calarken</h4>

                    <div class="grid md:grid-cols-2 gap-6">
                        <div>
                            <p class="text-gray-400 text-sm mb-2">Normal Sarki</p>
                            <div class="bg-slate-900 rounded-xl p-4">
                                <div class="flex items-center gap-4">
                                    <div class="w-16 h-16 bg-slate-700 rounded-lg"></div>
                                    <div class="flex-1">
                                        <p class="text-white font-medium">Hayal Kahvesi</p>
                                        <p class="text-gray-400 text-sm">Sezen Aksu</p>
                                        <div class="mt-2 bg-slate-700 rounded-full h-1">
                                            <div class="bg-white h-1 rounded-full" style="width: 35%"></div>
                                        </div>
                                    </div>
                                </div>
                            </div>
                        </div>

                        <div>
                            <p class="text-pink-400 text-sm mb-2">Spot Calarken</p>
                            <div class="bg-gradient-to-r from-indigo-900 to-purple-900 rounded-xl p-4 border-2 border-indigo-500">
                                <div class="flex items-center gap-4">
                                    <div class="w-16 h-16 bg-indigo-600 rounded-lg flex items-center justify-center">
                                        <i class="fas fa-bullhorn text-2xl animate-pulse"></i>
                                    </div>
                                    <div class="flex-1">
                                        <div class="flex items-center gap-2 mb-1">
                                            <span class="px-2 py-0.5 bg-yellow-500 text-black text-xs font-bold rounded">SPOT</span>
                                            <button class="px-2 py-0.5 bg-slate-700 text-gray-300 text-xs rounded hover:bg-slate-600">
                                                <i class="fas fa-forward mr-1"></i>Atla
                                            </button>
                                        </div>
                                        <p class="text-white font-medium">Yilbasi Kampanyasi</p>
                                        <div class="mt-2 flex items-center gap-2">
                                            <div class="flex-1 bg-indigo-800 rounded-full h-1">
                                                <div class="bg-yellow-400 h-1 rounded-full" style="width: 60%"></div>
                                            </div>
                                            <span class="text-indigo-300 text-xs">0:27</span>
                                        </div>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>

                <!-- 30 sn kurali -->
                <div class="bg-slate-800/50 border border-slate-700 rounded-xl p-5">
                    <h4 class="font-semibold text-white mb-4">30 Saniye Kurali & Loglama</h4>

                    <div class="bg-slate-900 rounded-lg p-4 font-mono text-sm">
                        <pre class="text-gray-300"><code>// Sarki 30 sn dinlenince sayac artar
if (currentTime >= 30 && !songCounted) {
    songCounted = true;
    let count = localStorage.getItem('spot_song_count') || 0;
    count++;

    if (count >= spotSongsBetween) {
        playNextSpot();
        localStorage.setItem('spot_song_count', 0);
    } else {
        localStorage.setItem('spot_song_count', count);
    }
}

// Spot bitince/atlaninca → plays tablosuna log
fetch('/api/spot/played', {
    body: JSON.stringify({
        spot_id: currentSpot.id,
        was_skipped: wasSkipped
    })
});</code></pre>
                    </div>
                </div>
            </div>
        </section>

        <!-- ==================== ISTATISTIK ==================== -->
        <section id="istatistik">
            <h2 class="text-2xl font-bold text-white mb-6 flex items-center gap-3">
                <span class="w-10 h-10 bg-cyan-600 rounded-lg flex items-center justify-center">
                    <i class="fas fa-chart-bar"></i>
                </span>
                Istatistikler
            </h2>

            <div class="space-y-6">
                <!-- Detayli Log Avantaji -->
                <div class="bg-cyan-900/20 border border-cyan-700/50 rounded-xl p-5">
                    <h4 class="font-semibold text-cyan-400 mb-4">plays Tablosu ile Elde Edilenler</h4>

                    <div class="grid md:grid-cols-2 lg:grid-cols-4 gap-4">
                        <div class="bg-slate-800 rounded-lg p-4">
                            <i class="fas fa-calculator text-cyan-400 text-xl mb-2"></i>
                            <p class="text-white font-medium">Toplam Dinlenme</p>
                            <p class="text-gray-400 text-sm">COUNT(*) WHERE spot_id = X</p>
                        </div>
                        <div class="bg-slate-800 rounded-lg p-4">
                            <i class="fas fa-forward text-red-400 text-xl mb-2"></i>
                            <p class="text-white font-medium">Atlama Orani</p>
                            <p class="text-gray-400 text-sm">COUNT(was_skipped=true) / total</p>
                        </div>
                        <div class="bg-slate-800 rounded-lg p-4">
                            <i class="fas fa-building text-yellow-400 text-xl mb-2"></i>
                            <p class="text-white font-medium">Sube Bazli</p>
                            <p class="text-gray-400 text-sm">GROUP BY corporate_account_id</p>
                        </div>
                        <div class="bg-slate-800 rounded-lg p-4">
                            <i class="fas fa-calendar text-green-400 text-xl mb-2"></i>
                            <p class="text-white font-medium">Tarih Bazli</p>
                            <p class="text-gray-400 text-sm">GROUP BY DATE(played_at)</p>
                        </div>
                        <div class="bg-slate-800 rounded-lg p-4">
                            <i class="fas fa-clock text-purple-400 text-xl mb-2"></i>
                            <p class="text-white font-medium">Saat Bazli</p>
                            <p class="text-gray-400 text-sm">GROUP BY HOUR(played_at)</p>
                        </div>
                        <div class="bg-slate-800 rounded-lg p-4">
                            <i class="fas fa-user text-blue-400 text-xl mb-2"></i>
                            <p class="text-white font-medium">Kullanici Bazli</p>
                            <p class="text-gray-400 text-sm">GROUP BY user_id</p>
                        </div>
                        <div class="bg-slate-800 rounded-lg p-4">
                            <i class="fas fa-chart-line text-orange-400 text-xl mb-2"></i>
                            <p class="text-white font-medium">Trend Analizi</p>
                            <p class="text-gray-400 text-sm">Gunluk/haftalik grafik</p>
                        </div>
                        <div class="bg-slate-800 rounded-lg p-4">
                            <i class="fas fa-trophy text-pink-400 text-xl mb-2"></i>
                            <p class="text-white font-medium">En Cok Dinlenen</p>
                            <p class="text-gray-400 text-sm">ORDER BY count DESC</p>
                        </div>
                    </div>
                </div>

                <!-- Ornek Sorgular -->
                <div class="bg-slate-800/50 border border-slate-700 rounded-xl p-5">
                    <h4 class="font-semibold text-white mb-4">Ornek SQL Sorgulari</h4>

                    <div class="bg-slate-900 rounded-lg p-4 font-mono text-sm space-y-4">
                        <div>
                            <p class="text-gray-500 mb-1">-- Spot bazli toplam dinlenme</p>
                            <pre class="text-gray-300"><code>SELECT spot_id, COUNT(*) as total,
       SUM(was_skipped) as skipped
FROM plays GROUP BY spot_id;</code></pre>
                        </div>
                        <div>
                            <p class="text-gray-500 mb-1">-- Gunluk dinlenme grafigi</p>
                            <pre class="text-gray-300"><code>SELECT DATE(played_at) as date, COUNT(*) as total
FROM plays WHERE spot_id = 1
GROUP BY DATE(played_at) ORDER BY date;</code></pre>
                        </div>
                        <div>
                            <p class="text-gray-500 mb-1">-- Sube karsilastirmasi</p>
                            <pre class="text-gray-300"><code>SELECT corporate_account_id, COUNT(*) as total
FROM plays GROUP BY corporate_account_id
ORDER BY total DESC;</code></pre>
                        </div>
                    </div>
                </div>
            </div>
        </section>

        <!-- ==================== API ==================== -->
        <section id="api">
            <h2 class="text-2xl font-bold text-white mb-6 flex items-center gap-3">
                <span class="w-10 h-10 bg-indigo-600 rounded-lg flex items-center justify-center">
                    <i class="fas fa-plug"></i>
                </span>
                API Endpoints
            </h2>

            <div class="bg-slate-800/50 border border-slate-700 rounded-xl p-6 font-mono text-sm space-y-4">
                <div>
                    <p class="text-yellow-400 font-bold mb-2 font-sans">Corporate</p>
                    <div class="bg-slate-900 rounded-lg p-3 space-y-1">
                        <div><span class="text-green-400">GET</span> /api/corporate/spot-settings</div>
                        <div><span class="text-yellow-400">PUT</span> /api/corporate/spot-settings</div>
                        <div><span class="text-green-400">GET</span> /api/corporate/spots</div>
                        <div><span class="text-blue-400">POST</span> /api/corporate/spots</div>
                        <div><span class="text-yellow-400">PUT</span> /api/corporate/spots/{id}</div>
                        <div><span class="text-purple-400">POST</span> /api/corporate/spots/reorder</div>
                        <div><span class="text-orange-400">POST</span> /api/corporate/spots/{id}/archive</div>
                        <div><span class="text-blue-400">POST</span> /api/corporate/spots/{id}/unarchive</div>
                        <div><span class="text-green-400">GET</span> /api/corporate/spot-stats</div>
                        <div><span class="text-green-400">GET</span> /api/corporate/spots/{id}/stats</div>
                    </div>
                </div>

                <div>
                    <p class="text-green-400 font-bold mb-2 font-sans">Sube</p>
                    <div class="bg-slate-900 rounded-lg p-3 space-y-1">
                        <div><span class="text-blue-400">POST</span> /api/branch/spots/pause</div>
                        <div><span class="text-blue-400">POST</span> /api/branch/spots/resume</div>
                    </div>
                </div>

                <div>
                    <p class="text-purple-400 font-bold mb-2 font-sans">Player</p>
                    <div class="bg-slate-900 rounded-lg p-3 space-y-1">
                        <div><span class="text-green-400">GET</span> /api/spot/init</div>
                        <div><span class="text-green-400">GET</span> /api/spot/next</div>
                        <div><span class="text-blue-400">POST</span> /api/spot/played <span class="text-gray-500">← plays tablosuna log</span></div>
                    </div>
                </div>
            </div>
        </section>

        <!-- ==================== GELISTIRME ADIMLARI ==================== -->
        <section>
            <h2 class="text-2xl font-bold text-white mb-6 flex items-center gap-3">
                <span class="w-10 h-10 bg-teal-600 rounded-lg flex items-center justify-center">
                    <i class="fas fa-list-check"></i>
                </span>
                Gelistirme Sirasi
            </h2>

            <div class="grid md:grid-cols-2 lg:grid-cols-3 gap-4">
                <div class="bg-slate-800 rounded-lg p-4 border-l-4 border-blue-500">
                    <span class="w-7 h-7 bg-blue-600 rounded-full inline-flex items-center justify-center font-bold text-sm mr-2">1</span>
                    <span class="text-white font-medium">Veritabani</span>
                    <p class="text-gray-400 text-sm mt-1">2 migration + 2 model</p>
                </div>
                <div class="bg-slate-800 rounded-lg p-4 border-l-4 border-yellow-500">
                    <span class="w-7 h-7 bg-yellow-600 rounded-full inline-flex items-center justify-center font-bold text-sm mr-2">2</span>
                    <span class="text-white font-medium">Kurumsal Panel</span>
                    <p class="text-gray-400 text-sm mt-1">CRUD + yukleme + istatistik</p>
                </div>
                <div class="bg-slate-800 rounded-lg p-4 border-l-4 border-green-500">
                    <span class="w-7 h-7 bg-green-600 rounded-full inline-flex items-center justify-center font-bold text-sm mr-2">3</span>
                    <span class="text-white font-medium">Sube Widget</span>
                    <p class="text-gray-400 text-sm mt-1">Durdur/devam</p>
                </div>
                <div class="bg-slate-800 rounded-lg p-4 border-l-4 border-purple-500">
                    <span class="w-7 h-7 bg-purple-600 rounded-full inline-flex items-center justify-center font-bold text-sm mr-2">4</span>
                    <span class="text-white font-medium">Player</span>
                    <p class="text-gray-400 text-sm mt-1">JS + 30 sn kurali + loglama</p>
                </div>
                <div class="bg-slate-800 rounded-lg p-4 border-l-4 border-cyan-500">
                    <span class="w-7 h-7 bg-cyan-600 rounded-full inline-flex items-center justify-center font-bold text-sm mr-2">5</span>
                    <span class="text-white font-medium">Test & Deploy</span>
                    <p class="text-gray-400 text-sm mt-1">Migration + test</p>
                </div>
            </div>
        </section>

    </main>

    <!-- Footer -->
    <footer class="bg-slate-800/30 border-t border-slate-700 mt-12 py-6">
        <div class="max-w-7xl mx-auto px-6 text-center text-gray-500 text-sm">
            <p>
                <i class="fas fa-robot mr-2"></i>
                Claude AI • 31 Aralik 2025 • Final v8 (2 Tablo)
            </p>
        </div>
    </footer>

</body>
</html>

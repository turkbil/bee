<!DOCTYPE html>
<html lang="tr">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Muzibu Device Limit & Premium System - Teknik Kilavuz</title>
    <script src="https://cdn.tailwindcss.com"></script>
</head>
<body class="bg-gradient-to-br from-slate-900 via-slate-800 to-slate-900 text-slate-100 min-h-screen">
    <div class="max-w-6xl mx-auto px-4 py-12">
        <!-- Header -->
        <header class="mb-16 pb-8 border-b border-slate-700">
            <h1 class="text-4xl font-bold mb-4 bg-gradient-to-r from-blue-400 to-purple-400 bg-clip-text text-transparent">
                Muzibu Device Limit & Premium System
            </h1>
            <div class="text-slate-400 text-lg">
                Redis Session + user_active_sessions Hybrid Architecture - Tenant 1001
            </div>
            <div class="mt-4 flex gap-4 text-sm text-slate-500">
                <span>2025-12-07</span>
                <span>Tenant: muzibu.com.tr (1001)</span>
                <span>Version: 1.0</span>
            </div>
        </header>

        <!-- Table of Contents -->
        <nav class="mb-16 bg-slate-800/50 rounded-lg p-6 border border-slate-700">
            <h2 class="text-xl font-bold mb-4 text-blue-400">Icindekiler</h2>
            <ul class="space-y-2 text-slate-300">
                <li><a href="#architecture" class="hover:text-blue-400 transition">1. Sistem Mimarisi</a></li>
                <li><a href="#session-system" class="hover:text-blue-400 transition">2. Session Yonetimi (Redis + DB Hybrid)</a></li>
                <li><a href="#premium-system" class="hover:text-blue-400 transition">3. Premium/Trial Tespit Sistemi</a></li>
                <li><a href="#device-limit" class="hover:text-blue-400 transition">4. Device Limit Sistemi</a></li>
                <li><a href="#api-endpoints" class="hover:text-blue-400 transition">5. API Endpoints</a></li>
                <li><a href="#frontend" class="hover:text-blue-400 transition">6. Frontend Entegrasyonu</a></li>
                <li><a href="#troubleshooting" class="hover:text-blue-400 transition">7. Sorun Giderme</a></li>
            </ul>
        </nav>

        <!-- 1. Architecture -->
        <section id="architecture" class="mb-16">
            <h2 class="text-3xl font-bold mb-8 text-blue-400">1. Sistem Mimarisi</h2>

            <div class="bg-slate-800/50 rounded-lg p-6 border border-slate-700 mb-6">
                <h3 class="text-xl font-bold mb-4 text-green-400">Genel Bakis</h3>
                <p class="text-slate-300 mb-4">
                    Muzibu platformu (Tenant 1001), kullanicilarin ayni anda kac cihazdan erisebilecegini kontrol eden
                    bir device limit sistemi kullanir. Bu sistem Redis session driver ile birlikte calisir ve
                    <code class="bg-slate-700 px-2 py-1 rounded text-blue-300">user_active_sessions</code> tablosu
                    uzerinden device tracking yapar.
                </p>

                <div class="grid md:grid-cols-3 gap-4 mt-6">
                    <div class="bg-slate-900/50 p-4 rounded-lg border border-blue-500/30">
                        <h4 class="font-bold text-blue-300 mb-2">Session Storage</h4>
                        <p class="text-sm text-slate-400">Redis (SESSION_DRIVER=redis)</p>
                        <p class="text-xs text-slate-500 mt-2">Hizli ve olceklenebilir session yonetimi</p>
                    </div>
                    <div class="bg-slate-900/50 p-4 rounded-lg border border-green-500/30">
                        <h4 class="font-bold text-green-300 mb-2">Device Tracking</h4>
                        <p class="text-sm text-slate-400">user_active_sessions tablosu</p>
                        <p class="text-xs text-slate-500 mt-2">Tenant database'de saklanir</p>
                    </div>
                    <div class="bg-slate-900/50 p-4 rounded-lg border border-purple-500/30">
                        <h4 class="font-bold text-purple-300 mb-2">Premium/Trial</h4>
                        <p class="text-sm text-slate-400">subscriptions tablosu</p>
                        <p class="text-xs text-slate-500 mt-2">Tenant database'de saklanir</p>
                    </div>
                </div>
            </div>

            <div class="bg-slate-800/50 rounded-lg p-6 border border-slate-700">
                <h3 class="text-xl font-bold mb-4 text-yellow-400">Kritik: Multi-Tenant Yapilandirma</h3>
                <ul class="space-y-3 text-slate-300">
                    <li class="flex gap-2">
                        <span class="text-yellow-400">!</span>
                        <span>Bu sistem <strong>SADECE Tenant 1001 (muzibu.com.tr)</strong> icin aktiftir</span>
                    </li>
                    <li class="flex gap-2">
                        <span class="text-yellow-400">!</span>
                        <span>Users, subscriptions, user_active_sessions tablolari <strong>tenant database</strong>'de saklanir</span>
                    </li>
                    <li class="flex gap-2">
                        <span class="text-yellow-400">!</span>
                        <span>Redis prefix tenant-aware olarak calisir: <code class="bg-slate-700 px-2 py-1 rounded text-sm">tenant1001:</code></span>
                    </li>
                </ul>
            </div>
        </section>

        <!-- 2. Session System -->
        <section id="session-system" class="mb-16">
            <h2 class="text-3xl font-bold mb-8 text-blue-400">2. Session Yonetimi (Redis + DB Hybrid)</h2>

            <div class="bg-slate-800/50 rounded-lg p-6 border border-slate-700 mb-6">
                <h3 class="text-xl font-bold mb-4 text-green-400">Neden Hybrid Sistem?</h3>
                <div class="grid md:grid-cols-2 gap-6">
                    <div>
                        <h4 class="font-bold text-red-400 mb-2">Redis Session Driver Avantajlari</h4>
                        <ul class="text-sm text-slate-300 space-y-1">
                            <li>- Database driver 23.3s sayfa yuklemesi veriyordu</li>
                            <li>- Redis ile ~5ms (4600x daha hizli!)</li>
                            <li>- Session garbage collection sorunu yok</li>
                        </ul>
                    </div>
                    <div>
                        <h4 class="font-bold text-blue-400 mb-2">user_active_sessions Tablosu</h4>
                        <ul class="text-sm text-slate-300 space-y-1">
                            <li>- Redis session'lari dogrudan sorgulanamaz</li>
                            <li>- Device bilgileri (browser, platform) saklanmali</li>
                            <li>- Aktif cihaz listesi gosterilebilmeli</li>
                        </ul>
                    </div>
                </div>
            </div>

            <div class="bg-slate-800/50 rounded-lg p-6 border border-slate-700">
                <h3 class="text-xl font-bold mb-4 text-purple-400">user_active_sessions Tablo Yapisi</h3>
                <div class="overflow-x-auto">
                    <table class="w-full text-sm">
                        <thead>
                            <tr class="border-b border-slate-600">
                                <th class="text-left py-2 px-3 text-slate-400">Kolon</th>
                                <th class="text-left py-2 px-3 text-slate-400">Tip</th>
                                <th class="text-left py-2 px-3 text-slate-400">Aciklama</th>
                            </tr>
                        </thead>
                        <tbody class="text-slate-300">
                            <tr class="border-b border-slate-700">
                                <td class="py-2 px-3 font-mono text-blue-300">id</td>
                                <td class="py-2 px-3">bigint</td>
                                <td class="py-2 px-3">Primary key</td>
                            </tr>
                            <tr class="border-b border-slate-700">
                                <td class="py-2 px-3 font-mono text-blue-300">user_id</td>
                                <td class="py-2 px-3">bigint FK</td>
                                <td class="py-2 px-3">users tablosuna referans</td>
                            </tr>
                            <tr class="border-b border-slate-700">
                                <td class="py-2 px-3 font-mono text-blue-300">session_id</td>
                                <td class="py-2 px-3">varchar(255)</td>
                                <td class="py-2 px-3">Laravel session ID (unique)</td>
                            </tr>
                            <tr class="border-b border-slate-700">
                                <td class="py-2 px-3 font-mono text-blue-300">device_type</td>
                                <td class="py-2 px-3">varchar(20)</td>
                                <td class="py-2 px-3">desktop, mobile, tablet</td>
                            </tr>
                            <tr class="border-b border-slate-700">
                                <td class="py-2 px-3 font-mono text-blue-300">device_name</td>
                                <td class="py-2 px-3">varchar(100)</td>
                                <td class="py-2 px-3">Ornek: "Windows - Chrome"</td>
                            </tr>
                            <tr class="border-b border-slate-700">
                                <td class="py-2 px-3 font-mono text-blue-300">browser</td>
                                <td class="py-2 px-3">varchar(50)</td>
                                <td class="py-2 px-3">Chrome, Firefox, Safari...</td>
                            </tr>
                            <tr class="border-b border-slate-700">
                                <td class="py-2 px-3 font-mono text-blue-300">platform</td>
                                <td class="py-2 px-3">varchar(50)</td>
                                <td class="py-2 px-3">Windows, macOS, Android...</td>
                            </tr>
                            <tr class="border-b border-slate-700">
                                <td class="py-2 px-3 font-mono text-blue-300">ip_address</td>
                                <td class="py-2 px-3">varchar(45)</td>
                                <td class="py-2 px-3">IPv4 veya IPv6</td>
                            </tr>
                            <tr>
                                <td class="py-2 px-3 font-mono text-blue-300">last_activity</td>
                                <td class="py-2 px-3">timestamp</td>
                                <td class="py-2 px-3">Son aktivite zamani</td>
                            </tr>
                        </tbody>
                    </table>
                </div>
            </div>
        </section>

        <!-- 3. Premium System -->
        <section id="premium-system" class="mb-16">
            <h2 class="text-3xl font-bold mb-8 text-blue-400">3. Premium/Trial Tespit Sistemi</h2>

            <div class="bg-slate-800/50 rounded-lg p-6 border border-slate-700 mb-6">
                <h3 class="text-xl font-bold mb-4 text-green-400">User Model Metodlari</h3>
                <div class="space-y-4">
                    <div class="bg-slate-900/50 p-4 rounded-lg">
                        <h4 class="font-bold text-blue-300 mb-2">isPremiumOrTrial()</h4>
                        <p class="text-sm text-slate-400">Ana kontrol metodu. isPremium() VEYA isTrialActive() true ise true doner.</p>
                    </div>
                    <div class="bg-slate-900/50 p-4 rounded-lg">
                        <h4 class="font-bold text-blue-300 mb-2">isPremium()</h4>
                        <p class="text-sm text-slate-400">
                            <code class="text-green-300">status='active'</code> VE
                            <code class="text-green-300">current_period_end > now()</code> kontrolu yapar.
                            5 dakikalik cache kullanir.
                        </p>
                    </div>
                    <div class="bg-slate-900/50 p-4 rounded-lg">
                        <h4 class="font-bold text-blue-300 mb-2">isTrialActive()</h4>
                        <p class="text-sm text-slate-400">
                            <code class="text-green-300">has_trial=true</code> VE
                            <code class="text-green-300">trial_ends_at > now()</code> kontrolu yapar.
                        </p>
                    </div>
                </div>
            </div>

            <div class="bg-slate-800/50 rounded-lg p-6 border border-slate-700">
                <h3 class="text-xl font-bold mb-4 text-yellow-400">subscriptions Tablosu Kritik Kolonlar</h3>
                <div class="grid md:grid-cols-2 gap-4">
                    <div>
                        <h4 class="font-bold text-slate-300 mb-2">Premium Icin</h4>
                        <ul class="text-sm text-slate-400 space-y-1">
                            <li>- <code class="text-blue-300">status</code>: 'active'</li>
                            <li>- <code class="text-blue-300">current_period_end</code>: Gelecek tarih</li>
                        </ul>
                    </div>
                    <div>
                        <h4 class="font-bold text-slate-300 mb-2">Trial Icin</h4>
                        <ul class="text-sm text-slate-400 space-y-1">
                            <li>- <code class="text-blue-300">has_trial</code>: true (1)</li>
                            <li>- <code class="text-blue-300">trial_ends_at</code>: Gelecek tarih</li>
                        </ul>
                    </div>
                </div>
            </div>
        </section>

        <!-- 4. Device Limit -->
        <section id="device-limit" class="mb-16">
            <h2 class="text-3xl font-bold mb-8 text-blue-400">4. Device Limit Sistemi</h2>

            <div class="bg-slate-800/50 rounded-lg p-6 border border-slate-700 mb-6">
                <h3 class="text-xl font-bold mb-4 text-green-400">3 Seviyeli Hiyerarsi</h3>
                <div class="space-y-4">
                    <div class="flex items-start gap-4 bg-slate-900/50 p-4 rounded-lg border-l-4 border-blue-500">
                        <div class="bg-blue-500 text-white font-bold rounded-full w-8 h-8 flex items-center justify-center flex-shrink-0">1</div>
                        <div>
                            <h4 class="font-bold text-blue-300">User device_limit (VIP/Ban)</h4>
                            <p class="text-sm text-slate-400">users.device_limit kolonu NULL degilse bu deger kullanilir</p>
                        </div>
                    </div>
                    <div class="flex items-start gap-4 bg-slate-900/50 p-4 rounded-lg border-l-4 border-green-500">
                        <div class="bg-green-500 text-white font-bold rounded-full w-8 h-8 flex items-center justify-center flex-shrink-0">2</div>
                        <div>
                            <h4 class="font-bold text-green-300">Subscription Plan device_limit</h4>
                            <p class="text-sm text-slate-400">Aktif subscription'in plan'indaki device_limit degeri</p>
                        </div>
                    </div>
                    <div class="flex items-start gap-4 bg-slate-900/50 p-4 rounded-lg border-l-4 border-purple-500">
                        <div class="bg-purple-500 text-white font-bold rounded-full w-8 h-8 flex items-center justify-center flex-shrink-0">3</div>
                        <div>
                            <h4 class="font-bold text-purple-300">Settings Fallback</h4>
                            <p class="text-sm text-slate-400">setting('auth_device_limit') veya varsayilan 1</p>
                        </div>
                    </div>
                </div>
            </div>

            <div class="bg-slate-800/50 rounded-lg p-6 border border-slate-700">
                <h3 class="text-xl font-bold mb-4 text-purple-400">DeviceService Metodlari</h3>
                <div class="overflow-x-auto">
                    <table class="w-full text-sm">
                        <thead>
                            <tr class="border-b border-slate-600">
                                <th class="text-left py-2 px-3 text-slate-400">Metod</th>
                                <th class="text-left py-2 px-3 text-slate-400">Aciklama</th>
                            </tr>
                        </thead>
                        <tbody class="text-slate-300">
                            <tr class="border-b border-slate-700">
                                <td class="py-2 px-3 font-mono text-blue-300">registerSession($user)</td>
                                <td class="py-2 px-3">Login sirasinda cagrilir, session kaydeder</td>
                            </tr>
                            <tr class="border-b border-slate-700">
                                <td class="py-2 px-3 font-mono text-blue-300">unregisterSession($user)</td>
                                <td class="py-2 px-3">Logout sirasinda cagrilir, session siler</td>
                            </tr>
                            <tr class="border-b border-slate-700">
                                <td class="py-2 px-3 font-mono text-blue-300">updateSessionActivity($user)</td>
                                <td class="py-2 px-3">Polling ile cagrilir, session gecerliyse true</td>
                            </tr>
                            <tr class="border-b border-slate-700">
                                <td class="py-2 px-3 font-mono text-blue-300">getActiveDevices($user)</td>
                                <td class="py-2 px-3">Aktif cihaz listesini doner</td>
                            </tr>
                            <tr class="border-b border-slate-700">
                                <td class="py-2 px-3 font-mono text-blue-300">getDeviceLimit($user)</td>
                                <td class="py-2 px-3">3-seviyeli hiyerarsiyle limit doner</td>
                            </tr>
                            <tr class="border-b border-slate-700">
                                <td class="py-2 px-3 font-mono text-blue-300">terminateSessionById($id)</td>
                                <td class="py-2 px-3">Belirli bir session'i sonlandirir</td>
                            </tr>
                            <tr>
                                <td class="py-2 px-3 font-mono text-blue-300">terminateOtherSessions($user)</td>
                                <td class="py-2 px-3">Mevcut haric tum session'lari siler</td>
                            </tr>
                        </tbody>
                    </table>
                </div>
            </div>
        </section>

        <!-- 5. API Endpoints -->
        <section id="api-endpoints" class="mb-16">
            <h2 class="text-3xl font-bold mb-8 text-blue-400">5. API Endpoints</h2>

            <div class="space-y-4">
                <div class="bg-slate-800/50 rounded-lg p-6 border border-slate-700">
                    <div class="flex items-center gap-3 mb-3">
                        <span class="bg-green-600 text-white text-xs font-bold px-2 py-1 rounded">POST</span>
                        <code class="text-blue-300">/api/auth/login</code>
                    </div>
                    <p class="text-slate-300 text-sm mb-2">Kullanici giris yapar, session olusturur, device kaydeder</p>
                    <div class="text-xs text-slate-500">Body: email, password, remember</div>
                </div>

                <div class="bg-slate-800/50 rounded-lg p-6 border border-slate-700">
                    <div class="flex items-center gap-3 mb-3">
                        <span class="bg-green-600 text-white text-xs font-bold px-2 py-1 rounded">POST</span>
                        <code class="text-blue-300">/api/auth/logout</code>
                    </div>
                    <p class="text-slate-300 text-sm mb-2">Cikis yapar, session siler, device kaydini kaldirir</p>
                    <div class="text-xs text-slate-500">Requires: auth:sanctum middleware</div>
                </div>

                <div class="bg-slate-800/50 rounded-lg p-6 border border-slate-700">
                    <div class="flex items-center gap-3 mb-3">
                        <span class="bg-blue-600 text-white text-xs font-bold px-2 py-1 rounded">GET</span>
                        <code class="text-blue-300">/api/auth/me</code>
                    </div>
                    <p class="text-slate-300 text-sm mb-2">Kullanici bilgileri, premium durumu, aktif cihazlar</p>
                    <div class="text-xs text-slate-500">Returns: user, is_premium, trial_ends_at, subscription_ends_at, active_devices, device_limit</div>
                </div>

                <div class="bg-slate-800/50 rounded-lg p-6 border border-slate-700">
                    <div class="flex items-center gap-3 mb-3">
                        <span class="bg-blue-600 text-white text-xs font-bold px-2 py-1 rounded">GET</span>
                        <code class="text-blue-300">/api/auth/check-session</code>
                    </div>
                    <p class="text-slate-300 text-sm mb-2">Session gecerliligini kontrol eder (polling icin)</p>
                    <div class="text-xs text-slate-500">Returns: valid, reason (if invalid), user_id</div>
                </div>

                <div class="bg-slate-800/50 rounded-lg p-6 border border-slate-700">
                    <div class="flex items-center gap-3 mb-3">
                        <span class="bg-green-600 text-white text-xs font-bold px-2 py-1 rounded">POST</span>
                        <code class="text-blue-300">/api/auth/terminate-device</code>
                    </div>
                    <p class="text-slate-300 text-sm mb-2">Belirli bir cihazi cikis yaptirir</p>
                    <div class="text-xs text-slate-500">Body: email, password, device_id (int)</div>
                </div>

                <div class="bg-slate-800/50 rounded-lg p-6 border border-slate-700">
                    <div class="flex items-center gap-3 mb-3">
                        <span class="bg-green-600 text-white text-xs font-bold px-2 py-1 rounded">POST</span>
                        <code class="text-blue-300">/api/auth/get-active-devices</code>
                    </div>
                    <p class="text-slate-300 text-sm mb-2">Aktif cihaz listesini getirir (modal icin)</p>
                    <div class="text-xs text-slate-500">Body: email, password</div>
                </div>
            </div>
        </section>

        <!-- 6. Frontend -->
        <section id="frontend" class="mb-16">
            <h2 class="text-3xl font-bold mb-8 text-blue-400">6. Frontend Entegrasyonu</h2>

            <div class="bg-slate-800/50 rounded-lg p-6 border border-slate-700 mb-6">
                <h3 class="text-xl font-bold mb-4 text-green-400">muzibuPlayerConfig</h3>
                <p class="text-slate-300 text-sm mb-4">
                    Blade layout'ta tanimlanan global JavaScript objesi. Alpine.js componentleri bu objeden
                    kullanici bilgilerini alir.
                </p>
                <div class="bg-slate-900 p-4 rounded-lg font-mono text-sm text-slate-300">
                    <pre>window.muzibuPlayerConfig = {
    isLoggedIn: true/false,
    currentUser: {
        id: 1,
        name: "Kullanici",
        email: "email@example.com",
        is_premium: true/false,
        trial_ends_at: "2025-12-08T17:42:49+00:00",
        subscription_ends_at: "2025-12-08T17:42:49+00:00"
    },
    tenantId: 1001
}</pre>
                </div>
            </div>

            <div class="bg-slate-800/50 rounded-lg p-6 border border-slate-700">
                <h3 class="text-xl font-bold mb-4 text-purple-400">Sidebar Mantigi</h3>
                <ul class="space-y-2 text-slate-300 text-sm">
                    <li class="flex gap-2">
                        <span class="text-blue-400">1.</span>
                        <span><code class="text-green-300">currentUser?.is_premium</code> false ise "Ucretsiz Uye" gosterir</span>
                    </li>
                    <li class="flex gap-2">
                        <span class="text-blue-400">2.</span>
                        <span><code class="text-green-300">trial_ends_at</code> varsa "Deneme Uyesi" gosterir</span>
                    </li>
                    <li class="flex gap-2">
                        <span class="text-blue-400">3.</span>
                        <span><code class="text-green-300">subscription_ends_at</code> varsa "Premium" gosterir</span>
                    </li>
                    <li class="flex gap-2">
                        <span class="text-blue-400">4.</span>
                        <span>Kalan sure hesaplanip gosterilir (gun/saat/dakika)</span>
                    </li>
                </ul>
            </div>
        </section>

        <!-- 7. Troubleshooting -->
        <section id="troubleshooting" class="mb-16">
            <h2 class="text-3xl font-bold mb-8 text-blue-400">7. Sorun Giderme</h2>

            <div class="space-y-4">
                <div class="bg-slate-800/50 rounded-lg p-6 border border-red-500/30">
                    <h3 class="text-lg font-bold mb-3 text-red-400">Sorun: "Ucretsiz Uye" Gozukuyor (Premium/Trial iken)</h3>
                    <div class="text-slate-300 text-sm space-y-2">
                        <p><strong>Olasi Nedenler:</strong></p>
                        <ul class="list-disc list-inside ml-4 text-slate-400">
                            <li>Premium cache eski deger donduruyor</li>
                            <li>Subscription tablosunda kayit yok veya suresi dolmus</li>
                            <li>Tenant context dogru set edilmemis</li>
                        </ul>
                        <p class="mt-3"><strong>Cozum:</strong></p>
                        <code class="block bg-slate-900 p-3 rounded mt-2 text-green-300">
php artisan cache:clear<br>
curl -s https://muzibu.com.tr/opcache-reset.php
                        </code>
                    </div>
                </div>

                <div class="bg-slate-800/50 rounded-lg p-6 border border-yellow-500/30">
                    <h3 class="text-lg font-bold mb-3 text-yellow-400">Sorun: Device Limit Modal Yanlis Gozukuyor</h3>
                    <div class="text-slate-300 text-sm space-y-2">
                        <p><strong>Olasi Nedenler:</strong></p>
                        <ul class="list-disc list-inside ml-4 text-slate-400">
                            <li>user_active_sessions tablosu tenant DB'de yok</li>
                            <li>Eski session kayitlari temizlenmemis</li>
                            <li>Session ID uyumsuzlugu</li>
                        </ul>
                        <p class="mt-3"><strong>Cozum:</strong></p>
                        <code class="block bg-slate-900 p-3 rounded mt-2 text-green-300">
-- Tenant DB'de tablo var mi kontrol et:<br>
SHOW TABLES LIKE 'user_active_sessions';<br><br>
-- Eski kayitlari temizle (30 dk'dan eski):<br>
DELETE FROM user_active_sessions WHERE last_activity &lt; NOW() - INTERVAL 30 MINUTE;
                        </code>
                    </div>
                </div>

                <div class="bg-slate-800/50 rounded-lg p-6 border border-green-500/30">
                    <h3 class="text-lg font-bold mb-3 text-green-400">Debug Komutlari</h3>
                    <code class="block bg-slate-900 p-3 rounded text-green-300 text-sm">
# Premium durumunu kontrol et (Tinker):<br>
tenancy()-&gt;initialize(App\Models\Tenant::find(1001));<br>
$user = App\Models\User::find(1);<br>
echo $user-&gt;isPremiumOrTrial(); // true/false<br><br>

# Aktif cihazlari kontrol et:<br>
$deviceService = app(Modules\Muzibu\App\Services\DeviceService::class);<br>
$deviceService-&gt;getActiveDevices($user);
                    </code>
                </div>
            </div>
        </section>

        <!-- Footer -->
        <footer class="mt-20 pt-8 border-t border-slate-700 text-center text-slate-500 text-sm">
            <p>Claude AI tarafindan olusturuldu - 2025-12-07</p>
            <p class="mt-2">Konum: Modules/Muzibu/app/Services/DeviceService.php</p>
        </footer>
    </div>
</body>
</html>

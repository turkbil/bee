<!DOCTYPE html>
<html lang="tr">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Muzibu Leonardo AI GÃ¶rsel Ãœretim Entegrasyonu - Planlama</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <style>
        body { font-family: 'Inter', -apple-system, BlinkMacSystemFont, 'Segoe UI', sans-serif; }
    </style>
</head>
<body class="bg-slate-900 text-white min-h-screen p-8">
    <div class="max-w-6xl mx-auto">
        <!-- Header -->
        <header class="mb-12 pb-8 border-b border-slate-700">
            <div class="flex items-center gap-4 mb-4">
                <span class="px-4 py-2 bg-blue-900/40 text-blue-300 text-sm font-semibold rounded-lg border border-blue-800">
                    ğŸ“‹ Planlama
                </span>
                <span class="px-4 py-2 bg-purple-900/40 text-purple-300 text-sm font-semibold rounded-lg border border-purple-800">
                    ğŸ¨ Leonardo AI
                </span>
            </div>
            <h1 class="text-4xl font-bold mb-4 bg-gradient-to-r from-blue-400 to-purple-400 bg-clip-text text-transparent">
                Muzibu Leonardo AI GÃ¶rsel Ãœretim Entegrasyonu
            </h1>
            <p class="text-slate-400 text-lg">
                ğŸ“… 24 AralÄ±k 2025 | Tenant 1001 (muzibu.com.tr) | MÃ¼zik Platformu
            </p>
        </header>

        <!-- ğŸ“ BASÄ°T ANLATIM -->
        <section class="mb-12">
            <div class="bg-green-900/20 border border-green-800 rounded-lg p-6">
                <h2 class="text-2xl font-bold mb-4 flex items-center gap-3">
                    ğŸ“ <span>Basit AnlatÄ±m (Herkes Ä°Ã§in)</span>
                </h2>

                <div class="space-y-4 text-slate-300">
                    <p class="text-lg font-semibold text-green-300">
                        Ne YapacaÄŸÄ±z?
                    </p>
                    <p>
                        Muzibu mÃ¼zik platformunda kullanÄ±cÄ±lar yeni playlist oluÅŸturduÄŸunda, ÅŸarkÄ± yÃ¼klediklerinde veya
                        albÃ¼m oluÅŸturduklarÄ±nda artÄ±k <strong>yapay zeka otomatik olarak profesyonel kapak gÃ¶rselleri Ã¼retecek</strong>.
                    </p>

                    <div class="bg-slate-800/50 rounded-lg p-4 my-4">
                        <p class="font-semibold text-white mb-2">ğŸ¯ KullanÄ±cÄ± Deneyimi:</p>
                        <ul class="space-y-2 ml-4">
                            <li>âœ… Playlist oluÅŸtur â†’ Yapay zeka otomatik kapak tasarla</li>
                            <li>âœ… ÅarkÄ± yÃ¼kle (gÃ¶rsel yoksa) â†’ Yapay zeka kapak oluÅŸtur</li>
                            <li>âœ… Toplu ÅŸarkÄ± yÃ¼kle â†’ Her ÅŸarkÄ± iÃ§in otomatik gÃ¶rsel</li>
                            <li>â­ Genre/Sektor/Album/Radio (tercihen) â†’ GÃ¶rsel yÃ¼klenmediyse AI Ã¼ret</li>
                        </ul>
                    </div>

                    <p class="text-lg font-semibold text-green-300 mt-6">
                        Neden Ã–nemli?
                    </p>
                    <ul class="space-y-2 ml-4">
                        <li>ğŸ¨ <strong>Profesyonel GÃ¶rÃ¼nÃ¼m:</strong> Her playlist ve ÅŸarkÄ±nÄ±n kendine Ã¶zgÃ¼ kapak gÃ¶rseli olur</li>
                        <li>âš¡ <strong>Zaman Tasarrufu:</strong> KullanÄ±cÄ±lar manuel gÃ¶rsel aramak zorunda kalmaz</li>
                        <li>ğŸ¯ <strong>TutarlÄ±lÄ±k:</strong> TÃ¼m gÃ¶rseller aynÄ± kalite standardÄ±nda olur</li>
                        <li>ğŸš€ <strong>KullanÄ±cÄ± Deneyimi:</strong> Platform daha modern ve profesyonel gÃ¶rÃ¼nÃ¼r</li>
                    </ul>

                    <div class="bg-blue-900/30 border border-blue-800 rounded-lg p-4 mt-6">
                        <p class="font-semibold text-blue-300 mb-2">ğŸ’¡ NasÄ±l Ã‡alÄ±ÅŸÄ±yor?</p>
                        <p>
                            Leonardo AI (yapay zeka gÃ¶rsel Ã¼retim servisi) playlist/ÅŸarkÄ± adÄ±na gÃ¶re otomatik olarak
                            mÃ¼zik temalÄ±, sinematik, profesyonel gÃ¶rsel oluÅŸturur. Sistem arka planda Ã§alÄ±ÅŸÄ±r,
                            kullanÄ±cÄ± hiÃ§bir ÅŸey yapmasÄ±na gerek kalmadan gÃ¶rseller hazÄ±r olur.
                        </p>
                    </div>
                </div>
            </div>
        </section>

        <!-- ğŸ”§ TEKNÄ°K DETAYLAR -->
        <section class="mb-12">
            <div class="bg-blue-900/20 border border-blue-800 rounded-lg p-6">
                <h2 class="text-2xl font-bold mb-4 flex items-center gap-3">
                    ğŸ”§ <span>Teknik Detaylar (GeliÅŸtiriciler Ä°Ã§in)</span>
                </h2>

                <div class="space-y-6 text-slate-300">
                    <div>
                        <p class="text-lg font-semibold text-blue-300 mb-2">Mevcut Sistem Durumu:</p>
                        <div class="bg-slate-800/50 rounded-lg p-4">
                            <ul class="space-y-2">
                                <li>âœ… <code class="bg-slate-700 px-2 py-1 rounded">LeonardoAIService</code> mevccut (Blog AI iÃ§in kullanÄ±lÄ±yor)</li>
                                <li>âœ… <code class="bg-slate-700 px-2 py-1 rounded">GeneratePlaylistCover</code> Job ZATEN VAR ama kullanÄ±lmÄ±yor</li>
                                <li>âœ… <code class="bg-slate-700 px-2 py-1 rounded">AIPromptEnhancer</code> 11 AltÄ±n Kural mevcut</li>
                                <li>âœ… <code class="bg-slate-700 px-2 py-1 rounded">MediaLibraryItem</code> tenant-aware Ã§alÄ±ÅŸÄ±yor</li>
                                <li>âŒ Personal playlist create â†’ Leonardo dispatch YOK</li>
                                <li>âŒ Song create â†’ Media yoksa Leonardo YOK</li>
                                <li>âŒ Album bulk upload â†’ Leonardo YOK</li>
                            </ul>
                        </div>
                    </div>

                    <div>
                        <p class="text-lg font-semibold text-blue-300 mb-2">Etkilenen Dosyalar:</p>
                        <div class="grid grid-cols-1 md:grid-cols-2 gap-4">
                            <div class="bg-slate-800/50 rounded-lg p-4">
                                <p class="font-semibold text-yellow-400 mb-2">ğŸ”¥ ZORUNLU (Her zaman Leonardo)</p>
                                <ul class="space-y-1 text-sm">
                                    <li>ğŸ“ <code>Modules/Muzibu/app/Services/PlaylistService.php</code></li>
                                    <li>ğŸ“ <code>Modules/Muzibu/app/Http/Livewire/Admin/SongManageComponent.php</code></li>
                                    <li>ğŸ“ <code>Modules/Muzibu/app/Http/Livewire/Admin/AlbumBulkUploadComponent.php</code></li>
                                    <li>ğŸ“ <code>Modules/Muzibu/app/Jobs/GeneratePlaylistCover.php</code> (mevcut)</li>
                                </ul>
                            </div>
                            <div class="bg-slate-800/50 rounded-lg p-4">
                                <p class="font-semibold text-purple-400 mb-2">â­ TERCÄ°HEN (Media yoksa)</p>
                                <ul class="space-y-1 text-sm">
                                    <li>ğŸ“ <code>Modules/Muzibu/app/Http/Livewire/Admin/GenreManageComponent.php</code></li>
                                    <li>ğŸ“ <code>Modules/Muzibu/app/Http/Livewire/Admin/SectorManageComponent.php</code></li>
                                    <li>ğŸ“ <code>Modules/Muzibu/app/Http/Livewire/Admin/AlbumManageComponent.php</code></li>
                                    <li>ğŸ“ <code>Modules/Muzibu/app/Http/Livewire/Admin/RadioManageComponent.php</code></li>
                                    <li>ğŸ“ <code>Modules/Muzibu/app/Http/Livewire/Admin/PlaylistManageComponent.php</code></li>
                                </ul>
                            </div>
                        </div>
                    </div>

                    <div>
                        <p class="text-lg font-semibold text-blue-300 mb-2">Leonardo AI Prompt Stratejisi:</p>
                        <div class="bg-slate-800/50 rounded-lg p-4">
                            <ul class="space-y-2">
                                <li>ğŸ¼ <strong>Playlist:</strong> Dinamik tema algÄ±lama (Rock â†’ Elektrik gitar, Jazz â†’ Saksafon, Klasik â†’ Orkestra)</li>
                                <li>ğŸµ <strong>Song:</strong> ÅarkÄ± adÄ± + SanatÃ§Ä± + TÃ¼r kombinasyonu</li>
                                <li>ğŸ’¿ <strong>Album:</strong> AlbÃ¼m adÄ± + SanatÃ§Ä± + Tema</li>
                                <li>ğŸ¸ <strong>Genre:</strong> TÃ¼re Ã¶zgÃ¼ enstrÃ¼man ve atmosfer</li>
                                <li>ğŸ¢ <strong>Sektor:</strong> Ä°ÅŸ kolu temasÄ± (Ofis â†’ Modern, Cafe â†’ Rahat)</li>
                                <li>ğŸ“» <strong>Radio:</strong> Radyo temasÄ± + Frekans gÃ¶rÃ¼nÃ¼mÃ¼</li>
                            </ul>
                        </div>
                    </div>
                </div>
            </div>
        </section>

        <!-- ğŸ“Š MEVCUT DURUM ANALÄ°ZÄ° -->
        <section class="mb-12">
            <h2 class="text-2xl font-bold mb-6 flex items-center gap-3">
                <span class="text-3xl">ğŸ“Š</span>
                <span>Mevcut Durum Analizi</span>
            </h2>

            <div class="grid grid-cols-1 md:grid-cols-2 gap-6">
                <!-- Blog AI (Referans) -->
                <div class="bg-slate-800/50 border border-green-700 rounded-lg p-6">
                    <h3 class="text-xl font-semibold text-green-400 mb-4">âœ… Blog AI (Referans - Ã‡alÄ±ÅŸÄ±yor)</h3>
                    <ul class="space-y-2 text-sm text-slate-300">
                        <li>â€¢ <code>BlogAIContentWriter::generateBlogFromDraft()</code></li>
                        <li>â€¢ Leonardo AI ile gÃ¶rsel Ã¼retiyor</li>
                        <li>â€¢ <code>AIPromptEnhancer</code> kullanÄ±yor (11 AltÄ±n Kural)</li>
                        <li>â€¢ <code>MediaLibraryItem</code> oluÅŸturuyor</li>
                        <li>â€¢ Blog'a <code>media_id</code> atanÄ±yor</li>
                        <li>â€¢ Queue: <code>ai-supervisor</code></li>
                    </ul>
                </div>

                <!-- Playlist (Eksik) -->
                <div class="bg-slate-800/50 border border-red-700 rounded-lg p-6">
                    <h3 class="text-xl font-semibold text-red-400 mb-4">âŒ Playlist (Eksik)</h3>
                    <ul class="space-y-2 text-sm text-slate-300">
                        <li>â€¢ <code>PlaylistService::createPlaylistWithSongs()</code></li>
                        <li>â€¢ RAW SQL ile playlist oluÅŸturuyor</li>
                        <li>â€¢ <code>GeneratePlaylistCover</code> Job VAR ama dispatch edilmiyor!</li>
                        <li>â€¢ <code>media_id</code> field boÅŸ kalÄ±yor</li>
                        <li>â€¢ KullanÄ±cÄ± manuel gÃ¶rsel yÃ¼klÃ¼yor</li>
                    </ul>
                </div>

                <!-- Song (Eksik) -->
                <div class="bg-slate-800/50 border border-red-700 rounded-lg p-6">
                    <h3 class="text-xl font-semibold text-red-400 mb-4">âŒ Song Create (Eksik)</h3>
                    <ul class="space-y-2 text-sm text-slate-300">
                        <li>â€¢ <code>SongManageComponent::save()</code></li>
                        <li>â€¢ Eloquent ile Song oluÅŸturuyor</li>
                        <li>â€¢ <code>media_id</code> field var ama kullanÄ±lmÄ±yor</li>
                        <li>â€¢ HLS conversion dispatch ediliyor ama Leonardo YOK</li>
                        <li>â€¢ KullanÄ±cÄ± gÃ¶rsel seÃ§mezse boÅŸ kalÄ±yor</li>
                    </ul>
                </div>

                <!-- Album Bulk (Eksik) -->
                <div class="bg-slate-800/50 border border-red-700 rounded-lg p-6">
                    <h3 class="text-xl font-semibold text-red-400 mb-4">âŒ Album Bulk Upload (Eksik)</h3>
                    <ul class="space-y-2 text-sm text-slate-300">
                        <li>â€¢ <code>AlbumBulkUploadComponent::startUpload()</code></li>
                        <li>â€¢ Her dosya iÃ§in Song oluÅŸturuyor (loop)</li>
                        <li>â€¢ Leonardo entegrasyonu YOK</li>
                        <li>â€¢ Toplu ÅŸarkÄ±lar gÃ¶rsel olmadan kalÄ±yor</li>
                    </ul>
                </div>
            </div>
        </section>

        <!-- ğŸ¯ ENTEGRASYON PLANI -->
        <section class="mb-12">
            <h2 class="text-2xl font-bold mb-6 flex items-center gap-3">
                <span class="text-3xl">ğŸ¯</span>
                <span>Entegrasyon PlanÄ±</span>
            </h2>

            <div class="space-y-6">
                <!-- Plan 1: Playlist -->
                <div class="bg-gradient-to-r from-purple-900/30 to-blue-900/30 border border-purple-700 rounded-lg p-6">
                    <h3 class="text-xl font-semibold text-purple-300 mb-4 flex items-center gap-2">
                        <span class="bg-purple-600 text-white w-8 h-8 rounded-full flex items-center justify-center text-sm">1</span>
                        KiÅŸisel Playlist Leonardo Entegrasyonu
                    </h3>

                    <div class="space-y-4">
                        <div class="bg-slate-800/50 rounded-lg p-4">
                            <p class="font-semibold text-yellow-400 mb-2">ğŸ“ Nerede: PlaylistService.php</p>
                            <p class="text-sm text-slate-300 mb-3">Metod: <code class="bg-slate-700 px-2 py-1 rounded">createPlaylistWithSongs()</code></p>

                            <div class="bg-slate-900/50 rounded p-3 text-sm">
<pre class="text-green-400">// Playlist oluÅŸturulduktan sonra (satÄ±r ~245)
if ($playlist) {
    // Leonardo AI Job dispatch et
    GeneratePlaylistCover::dispatch(
        $playlist->playlist_id,
        $data['title'],
        null, // songTitle
        null, // artistName
        $userId,
        tenant('id')
    );

    Log::info('ğŸ¨ Playlist Leonardo job dispatched', [
        'playlist_id' => $playlist->playlist_id
    ]);
}</pre>
                            </div>
                        </div>

                        <div class="bg-blue-900/30 rounded-lg p-4">
                            <p class="font-semibold text-blue-300 mb-2">ğŸ”„ Job Ä°ÅŸlemi:</p>
                            <ul class="space-y-1 text-sm text-slate-300">
                                <li>â€¢ Job: <code>GeneratePlaylistCover</code> (ZATEN MEVCUT!)</li>
                                <li>â€¢ Queue: <code>muzibu_my_playlist</code></li>
                                <li>â€¢ Timeout: 180 saniye</li>
                                <li>â€¢ Leonardo ile gÃ¶rsel Ã¼ret â†’ MediaLibraryItem oluÅŸtur â†’ Playlist'e ata</li>
                                <li>â€¢ AI credit dÃ¼ÅŸ (1 kredi)</li>
                            </ul>
                        </div>
                    </div>
                </div>

                <!-- Plan 2: Song -->
                <div class="bg-gradient-to-r from-blue-900/30 to-cyan-900/30 border border-blue-700 rounded-lg p-6">
                    <h3 class="text-xl font-semibold text-blue-300 mb-4 flex items-center gap-2">
                        <span class="bg-blue-600 text-white w-8 h-8 rounded-full flex items-center justify-center text-sm">2</span>
                        Song Create Leonardo Entegrasyonu
                    </h3>

                    <div class="space-y-4">
                        <div class="bg-slate-800/50 rounded-lg p-4">
                            <p class="font-semibold text-yellow-400 mb-2">ğŸ“ Nerede: SongManageComponent.php</p>
                            <p class="text-sm text-slate-300 mb-3">Metod: <code class="bg-slate-700 px-2 py-1 rounded">save()</code> (satÄ±r ~578-594)</p>

                            <div class="bg-slate-900/50 rounded p-3 text-sm">
<pre class="text-green-400">// Yeni song oluÅŸturduktan sonra (satÄ±r ~594)
} else {
    $song = Song::query()->create($data);
    $this->songId = $song->song_id;
    log_activity($song, 'eklendi');

    // HLS conversion
    if ($song->file_path) {
        \Modules\Muzibu\App\Jobs\ConvertToHLSJob::dispatch($song);
    }

    // ğŸ¨ LEONARDO AI: Media yoksa otomatik gÃ¶rsel Ã¼ret
    if (!$song->media_id) {
        \Modules\Muzibu\App\Jobs\GenerateSongCover::dispatch(
            $song->song_id,
            $song->title,
            $song->album?->artist?->title,
            $song->genre?->title,
            tenant('id')
        );
        Log::info('ğŸ¨ Song Leonardo job dispatched', [
            'song_id' => $song->song_id
        ]);
    }

    $toast = [...];
}</pre>
                            </div>
                        </div>

                        <div class="bg-red-900/30 rounded-lg p-4">
                            <p class="font-semibold text-red-300 mb-2">âš ï¸ Yeni Job Gerekli:</p>
                            <ul class="space-y-1 text-sm text-slate-300">
                                <li>â€¢ Job: <code>GenerateSongCover</code> (YENÄ° OLUÅTURULACAK!)</li>
                                <li>â€¢ Queue: <code>muzibu_my_playlist</code></li>
                                <li>â€¢ Referans: <code>GeneratePlaylistCover</code> Job'undan kopyala</li>
                                <li>â€¢ Prompt: ÅarkÄ± adÄ± + SanatÃ§Ä± + Genre</li>
                            </ul>
                        </div>
                    </div>
                </div>

                <!-- Plan 3: Album Bulk Upload -->
                <div class="bg-gradient-to-r from-cyan-900/30 to-teal-900/30 border border-cyan-700 rounded-lg p-6">
                    <h3 class="text-xl font-semibold text-cyan-300 mb-4 flex items-center gap-2">
                        <span class="bg-cyan-600 text-white w-8 h-8 rounded-full flex items-center justify-center text-sm">3</span>
                        Album Bulk Upload Leonardo Entegrasyonu
                    </h3>

                    <div class="space-y-4">
                        <div class="bg-slate-800/50 rounded-lg p-4">
                            <p class="font-semibold text-yellow-400 mb-2">ğŸ“ Nerede: AlbumBulkUploadComponent.php</p>
                            <p class="text-sm text-slate-300 mb-3">Metod: <code class="bg-slate-700 px-2 py-1 rounded">startUpload()</code> (satÄ±r ~305 sonrasÄ±)</p>

                            <div class="bg-slate-900/50 rounded p-3 text-sm">
<pre class="text-green-400">// Song oluÅŸturulduktan sonra (satÄ±r ~305 sonrasÄ±)
Log::info('âœ… Bulk upload - Song oluÅŸturuldu', [...]);

// HLS conversion job'u kuyruÄŸa ekle
\Modules\Muzibu\App\Jobs\ConvertToHLSJob::dispatch($song);

// ğŸ¨ LEONARDO AI: Otomatik gÃ¶rsel Ã¼ret
\Modules\Muzibu\App\Jobs\GenerateSongCover::dispatch(
    $song->song_id,
    $file['title'],
    $this->album->artist?->title,
    Genre::find($genreId)?->title,
    tenant('id')
);
Log::info('ğŸ¨ Bulk song Leonardo job dispatched', [
    'song_id' => $song->song_id
]);

$this->uploadedFiles[$index]['status'] = 'completed';</pre>
                            </div>
                        </div>
                    </div>
                </div>

                <!-- Plan 4: Genre/Sektor/Album/Radio (Tercihen) -->
                <div class="bg-gradient-to-r from-teal-900/30 to-green-900/30 border border-teal-700 rounded-lg p-6">
                    <h3 class="text-xl font-semibold text-teal-300 mb-4 flex items-center gap-2">
                        <span class="bg-teal-600 text-white w-8 h-8 rounded-full flex items-center justify-center text-sm">4</span>
                        Genre/Sektor/Album/Radio (Tercihen - Media Yoksa)
                    </h3>

                    <div class="space-y-4">
                        <div class="bg-slate-800/50 rounded-lg p-4">
                            <p class="font-semibold text-purple-400 mb-2">â­ Stratejisi:</p>
                            <ul class="space-y-2 text-sm text-slate-300">
                                <li>â€¢ Admin panel'de save sonrasÄ± kontrol et: <code>if (!$model->media_id)</code></li>
                                <li>â€¢ Media seÃ§ilmediyse Leonardo Job dispatch et</li>
                                <li>â€¢ Job: <code>GenerateGenericMuzibyCover</code> (universal job)</li>
                                <li>â€¢ Prompt parametrik: <code>type</code> (genre/sektor/album/radio) + <code>title</code></li>
                            </ul>
                        </div>

                        <div class="bg-blue-900/30 rounded-lg p-4">
                            <p class="font-semibold text-blue-300 mb-2">ğŸ”§ Uygulama:</p>
                            <p class="text-sm text-slate-300">
                                Her Livewire ManageComponent'te save() metoduna aynÄ± pattern eklenecek.
                                Universal job ile tÃ¼m content type'larÄ± tek job'dan yÃ¶netilebilir.
                            </p>
                        </div>
                    </div>
                </div>
            </div>
        </section>

        <!-- âœ… YAPILACAKLAR ADIM ADIM -->
        <section class="mb-12">
            <h2 class="text-2xl font-bold mb-6 flex items-center gap-3">
                <span class="text-3xl">âœ…</span>
                <span>YapÄ±lacaklar AdÄ±m AdÄ±m</span>
            </h2>

            <div class="space-y-4">
                <!-- AdÄ±m 1 -->
                <div class="bg-slate-800/50 border-l-4 border-purple-500 rounded-lg p-6">
                    <div class="flex items-start gap-4">
                        <span class="bg-purple-600 text-white w-8 h-8 rounded-full flex items-center justify-center flex-shrink-0 font-bold">1</span>
                        <div class="flex-1">
                            <h3 class="text-lg font-semibold text-purple-300 mb-2">Playlist Leonardo Job Dispatch</h3>
                            <p class="text-sm text-slate-400 mb-3">
                                <code>Modules/Muzibu/app/Services/PlaylistService.php</code> â†’ <code>createPlaylistWithSongs()</code>
                            </p>
                            <ul class="space-y-1 text-sm text-slate-300">
                                <li>â€¢ Playlist oluÅŸturulduktan sonra <code>GeneratePlaylistCover::dispatch()</code> ekle</li>
                                <li>â€¢ Parametreler: playlistId, title, userId, tenantId</li>
                                <li>â€¢ Log ekle: "Playlist Leonardo job dispatched"</li>
                            </ul>
                        </div>
                    </div>
                </div>

                <!-- AdÄ±m 2 -->
                <div class="bg-slate-800/50 border-l-4 border-blue-500 rounded-lg p-6">
                    <div class="flex items-start gap-4">
                        <span class="bg-blue-600 text-white w-8 h-8 rounded-full flex items-center justify-center flex-shrink-0 font-bold">2</span>
                        <div class="flex-1">
                            <h3 class="text-lg font-semibold text-blue-300 mb-2">GenerateSongCover Job OluÅŸtur</h3>
                            <p class="text-sm text-slate-400 mb-3">
                                <code>Modules/Muzibu/app/Jobs/GenerateSongCover.php</code> (YENÄ° DOSYA)
                            </p>
                            <ul class="space-y-1 text-sm text-slate-300">
                                <li>â€¢ <code>GeneratePlaylistCover</code> Job'unu referans al</li>
                                <li>â€¢ Prompt: ÅarkÄ± adÄ± + SanatÃ§Ä± + Genre kombinasyonu</li>
                                <li>â€¢ Queue: <code>muzibu_my_playlist</code></li>
                                <li>â€¢ Timeout: 180 saniye</li>
                                <li>â€¢ Tenant-aware: tenantId geÃ§, tenant() restore et</li>
                            </ul>
                        </div>
                    </div>
                </div>

                <!-- AdÄ±m 3 -->
                <div class="bg-slate-800/50 border-l-4 border-cyan-500 rounded-lg p-6">
                    <div class="flex items-start gap-4">
                        <span class="bg-cyan-600 text-white w-8 h-8 rounded-full flex items-center justify-center flex-shrink-0 font-bold">3</span>
                        <div class="flex-1">
                            <h3 class="text-lg font-semibold text-cyan-300 mb-2">Song Create Leonardo Dispatch</h3>
                            <p class="text-sm text-slate-400 mb-3">
                                <code>Modules/Muzibu/app/Http/Livewire/Admin/SongManageComponent.php</code> â†’ <code>save()</code>
                            </p>
                            <ul class="space-y-1 text-sm text-slate-300">
                                <li>â€¢ Yeni song oluÅŸturulduÄŸunda (else bloÄŸunda)</li>
                                <li>â€¢ Kontrol: <code>if (!$song->media_id)</code></li>
                                <li>â€¢ <code>GenerateSongCover::dispatch()</code> ekle</li>
                                <li>â€¢ HLS job'dan sonra ekle</li>
                            </ul>
                        </div>
                    </div>
                </div>

                <!-- AdÄ±m 4 -->
                <div class="bg-slate-800/50 border-l-4 border-teal-500 rounded-lg p-6">
                    <div class="flex items-start gap-4">
                        <span class="bg-teal-600 text-white w-8 h-8 rounded-full flex items-center justify-center flex-shrink-0 font-bold">4</span>
                        <div class="flex-1">
                            <h3 class="text-lg font-semibold text-teal-300 mb-2">Album Bulk Upload Leonardo</h3>
                            <p class="text-sm text-slate-400 mb-3">
                                <code>Modules/Muzibu/app/Http/Livewire/Admin/AlbumBulkUploadComponent.php</code> â†’ <code>startUpload()</code>
                            </p>
                            <ul class="space-y-1 text-sm text-slate-300">
                                <li>â€¢ Her song oluÅŸturulduktan sonra (loop iÃ§inde)</li>
                                <li>â€¢ HLS job'dan sonra <code>GenerateSongCover::dispatch()</code> ekle</li>
                                <li>â€¢ Album artist ve genre bilgisini geÃ§</li>
                            </ul>
                        </div>
                    </div>
                </div>

                <!-- AdÄ±m 5 -->
                <div class="bg-slate-800/50 border-l-4 border-green-500 rounded-lg p-6">
                    <div class="flex items-start gap-4">
                        <span class="bg-green-600 text-white w-8 h-8 rounded-full flex items-center justify-center flex-shrink-0 font-bold">5</span>
                        <div class="flex-1">
                            <h3 class="text-lg font-semibold text-green-300 mb-2">Genre/Sektor/Album/Radio (Tercihen)</h3>
                            <p class="text-sm text-slate-400 mb-3">
                                Her <code>ManageComponent</code> â†’ <code>save()</code>
                            </p>
                            <ul class="space-y-1 text-sm text-slate-300">
                                <li>â€¢ <code>GenerateGenericMuzibyCover</code> Job oluÅŸtur (universal)</li>
                                <li>â€¢ Save sonrasÄ±: <code>if (!$model->media_id)</code> kontrol et</li>
                                <li>â€¢ Dispatch: type + title parametreleri</li>
                                <li>â€¢ Prompt: Type'a gÃ¶re tema farklÄ±laÅŸtÄ±r (Genre â†’ EnstrÃ¼man, Sektor â†’ Ä°ÅŸ kolu)</li>
                            </ul>
                        </div>
                    </div>
                </div>

                <!-- AdÄ±m 6 -->
                <div class="bg-slate-800/50 border-l-4 border-yellow-500 rounded-lg p-6">
                    <div class="flex items-start gap-4">
                        <span class="bg-yellow-600 text-white w-8 h-8 rounded-full flex items-center justify-center flex-shrink-0 font-bold">6</span>
                        <div class="flex-1">
                            <h3 class="text-lg font-semibold text-yellow-300 mb-2">Test & Debug</h3>
                            <ul class="space-y-2 text-sm text-slate-300">
                                <li>âœ… KiÅŸisel playlist oluÅŸtur â†’ Leonardo job kuyruÄŸa girdi mi?</li>
                                <li>âœ… Horizon'da job iÅŸleniyor mu?</li>
                                <li>âœ… MediaLibraryItem oluÅŸuyor mu?</li>
                                <li>âœ… Playlist/Song'a media_id atanÄ±yor mu?</li>
                                <li>âœ… GÃ¶rsel frontend'de gÃ¶rÃ¼nÃ¼yor mu?</li>
                                <li>âœ… AI credit dÃ¼ÅŸÃ¼yor mu?</li>
                                <li>âœ… Log kayÄ±tlarÄ± doÄŸru mu?</li>
                            </ul>
                        </div>
                    </div>
                </div>
            </div>
        </section>

        <!-- âš ï¸ DÄ°KKAT EDÄ°LECEKLER -->
        <section class="mb-12">
            <h2 class="text-2xl font-bold mb-6 flex items-center gap-3">
                <span class="text-3xl">âš ï¸</span>
                <span>Dikkat Edilecek Noktalar</span>
            </h2>

            <div class="grid grid-cols-1 md:grid-cols-2 gap-6">
                <div class="bg-red-900/20 border border-red-700 rounded-lg p-6">
                    <h3 class="text-lg font-semibold text-red-300 mb-4">ğŸš¨ Tenant Context</h3>
                    <ul class="space-y-2 text-sm text-slate-300">
                        <li>â€¢ Job'lara <code>tenant('id')</code> geÃ§ir</li>
                        <li>â€¢ Job handle() baÅŸÄ±nda <code>tenancy()->initialize($this->tenantId)</code></li>
                        <li>â€¢ MediaLibraryItem tenant disk kullanÄ±yor mu kontrol et</li>
                    </ul>
                </div>

                <div class="bg-yellow-900/20 border border-yellow-700 rounded-lg p-6">
                    <h3 class="text-lg font-semibold text-yellow-300 mb-4">âš¡ Queue & Timeout</h3>
                    <ul class="space-y-2 text-sm text-slate-300">
                        <li>â€¢ Queue: <code>muzibu_my_playlist</code> (mevcut)</li>
                        <li>â€¢ Timeout: 180 saniye (Leonardo wait sÃ¼resi)</li>
                        <li>â€¢ Horizon process count: maxProcesses=2 yeterli</li>
                    </ul>
                </div>

                <div class="bg-blue-900/20 border border-blue-700 rounded-lg p-6">
                    <h3 class="text-lg font-semibold text-blue-300 mb-4">ğŸ’° AI Credit KontrolÃ¼</h3>
                    <ul class="space-y-2 text-sm text-slate-300">
                        <li>â€¢ Her gÃ¶rsel = 1 kredi</li>
                        <li>â€¢ Job baÅŸÄ±nda: <code>ai_can_use_credits(1)</code></li>
                        <li>â€¢ Ä°ÅŸlem sonrasÄ±: <code>ai_use_credits(1, ...)</code></li>
                        <li>â€¢ Log'a provider + model bilgisi kaydet</li>
                    </ul>
                </div>

                <div class="bg-purple-900/20 border border-purple-700 rounded-lg p-6">
                    <h3 class="text-lg font-semibold text-purple-300 mb-4">ğŸ¨ Prompt Quality</h3>
                    <ul class="space-y-2 text-sm text-slate-300">
                        <li>â€¢ <code>AIPromptEnhancer</code> kullan (11 AltÄ±n Kural)</li>
                        <li>â€¢ Dinamik tema algÄ±lama (Rock/Jazz/Klasik)</li>
                        <li>â€¢ Tenant context: sector='music', site_name='Muzibu'</li>
                    </ul>
                </div>
            </div>
        </section>

        <!-- ğŸ“„ REFERANS DOSYALAR -->
        <section class="mb-12">
            <h2 class="text-2xl font-bold mb-6 flex items-center gap-3">
                <span class="text-3xl">ğŸ“„</span>
                <span>Referans Dosyalar</span>
            </h2>

            <div class="bg-slate-800/50 rounded-lg p-6">
                <div class="grid grid-cols-1 md:grid-cols-2 gap-4">
                    <div>
                        <p class="font-semibold text-green-400 mb-3">âœ… Mevcut (Referans Al)</p>
                        <ul class="space-y-2 text-sm text-slate-300">
                            <li>ğŸ“ <code>app/Services/Media/LeonardoAIService.php</code></li>
                            <li>ğŸ“ <code>Modules/AI/app/Services/AIPromptEnhancer.php</code></li>
                            <li>ğŸ“ <code>Modules/Muzibu/app/Jobs/GeneratePlaylistCover.php</code></li>
                            <li>ğŸ“ <code>Modules/Blog/app/Services/BlogAIContentWriter.php</code></li>
                        </ul>
                    </div>
                    <div>
                        <p class="font-semibold text-yellow-400 mb-3">ğŸ”§ DeÄŸiÅŸtirilecek</p>
                        <ul class="space-y-2 text-sm text-slate-300">
                            <li>ğŸ“ <code>Modules/Muzibu/app/Services/PlaylistService.php</code></li>
                            <li>ğŸ“ <code>Modules/Muzibu/app/Http/Livewire/Admin/SongManageComponent.php</code></li>
                            <li>ğŸ“ <code>Modules/Muzibu/app/Http/Livewire/Admin/AlbumBulkUploadComponent.php</code></li>
                        </ul>
                    </div>
                </div>
            </div>
        </section>

        <!-- Footer -->
        <footer class="mt-12 pt-8 border-t border-slate-700 text-center text-slate-500 text-sm">
            <p>ğŸ¤– Generated with Claude Sonnet 4.5 | 24 AralÄ±k 2025</p>
            <p class="mt-2">Muzibu Leonardo AI Entegrasyon PlanÄ± v1</p>
        </footer>
    </div>
</body>
</html>

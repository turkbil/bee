<!DOCTYPE html>
<html lang="tr">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Kurumsal Playlist Sistemi - v6: Performans Karşılaştırması (30K Veri)</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.1/css/all.min.css">
</head>
<body class="bg-slate-900 text-gray-100 min-h-screen">
    <div class="max-w-6xl mx-auto px-4 py-8">

        <!-- Header -->
        <header class="text-center mb-12">
            <span class="inline-block px-4 py-2 bg-purple-500/20 text-purple-300 rounded-full text-sm font-medium mb-4">
                <i class="fas fa-chart-line mr-2"></i>v6 - Performans Analizi
            </span>
            <h1 class="text-3xl font-bold text-white mb-2">
                30K Veri için Sistem Karşılaştırması
            </h1>
            <p class="text-gray-400">Media, SEO, Favorite Pattern'leri ile v4/v5 Karşılaştırması</p>
            <p class="text-gray-500 text-sm mt-2">30 Aralık 2025</p>
        </header>

        <!-- Basit Anlatım -->
        <section class="bg-green-900/20 border border-green-800 rounded-lg p-6 mb-8">
            <h2 class="text-xl font-semibold text-green-300 mb-4">
                <i class="fas fa-lightbulb mr-2"></i>Basit Anlatım (Herkes İçin)
            </h2>
            <p class="text-gray-300 mb-4">
                Sistemde 3 farklı pattern kullanılıyor. 30.000 playlist gelecek, hangisi daha hızlı?
            </p>
            <div class="grid md:grid-cols-3 gap-4">
                <div class="bg-slate-800/50 p-4 rounded-lg">
                    <h3 class="font-semibold text-blue-300 mb-2">Media Pattern</h3>
                    <p class="text-gray-400 text-sm">Fotoğraf/dosya yükleme sistemi. "Bu resim hangi ürüne ait?" sorusunu cevaplar.</p>
                </div>
                <div class="bg-slate-800/50 p-4 rounded-lg">
                    <h3 class="font-semibold text-amber-300 mb-2">SEO Pattern</h3>
                    <p class="text-gray-400 text-sm">Google için sayfa bilgileri. "Bu sayfanın SEO ayarları nerede?" sorusunu cevaplar.</p>
                </div>
                <div class="bg-slate-800/50 p-4 rounded-lg">
                    <h3 class="font-semibold text-pink-300 mb-2">Favorite Pattern</h3>
                    <p class="text-gray-400 text-sm">Kullanıcı favorileri. "Kim neleri favoriledi?" sorusunu cevaplar.</p>
                </div>
            </div>
        </section>

        <!-- Mevcut Sistem Verileri -->
        <section class="bg-slate-800/50 border border-slate-700 rounded-lg p-6 mb-8">
            <h2 class="text-xl font-semibold text-white mb-4">
                <i class="fas fa-database mr-2 text-cyan-400"></i>Mevcut Sistem Verileri
            </h2>
            <div class="grid grid-cols-2 md:grid-cols-4 gap-4">
                <div class="bg-slate-900/50 p-4 rounded-lg text-center">
                    <div class="text-3xl font-bold text-cyan-400">44</div>
                    <div class="text-gray-400 text-sm">Playlist</div>
                </div>
                <div class="bg-slate-900/50 p-4 rounded-lg text-center">
                    <div class="text-3xl font-bold text-blue-400">71</div>
                    <div class="text-gray-400 text-sm">Playlist-Sector</div>
                </div>
                <div class="bg-slate-900/50 p-4 rounded-lg text-center">
                    <div class="text-3xl font-bold text-purple-400">90</div>
                    <div class="text-gray-400 text-sm">Playlist-Radio</div>
                </div>
                <div class="bg-slate-900/50 p-4 rounded-lg text-center">
                    <div class="text-3xl font-bold text-green-400">9</div>
                    <div class="text-gray-400 text-sm">Kurumsal</div>
                </div>
            </div>
            <div class="mt-4 p-4 bg-amber-900/20 border border-amber-800 rounded-lg">
                <p class="text-amber-300 text-sm">
                    <i class="fas fa-arrow-right mr-2"></i>
                    <strong>30.000 playlist</strong> gelecek, ortalama 3-5 kurumsal ilişki = <strong>~100K-150K satır</strong>
                </p>
            </div>
        </section>

        <!-- Pattern Karşılaştırma Tablosu -->
        <section class="bg-slate-800/50 border border-slate-700 rounded-lg p-6 mb-8">
            <h2 class="text-xl font-semibold text-white mb-4">
                <i class="fas fa-table mr-2 text-blue-400"></i>Pattern Karşılaştırma
            </h2>
            <div class="overflow-x-auto">
                <table class="w-full text-sm">
                    <thead>
                        <tr class="text-left border-b border-slate-600">
                            <th class="p-3 text-gray-300">Pattern</th>
                            <th class="p-3 text-gray-300">Tablo Yapısı</th>
                            <th class="p-3 text-gray-300">Index</th>
                            <th class="p-3 text-gray-300">Row Boyutu</th>
                            <th class="p-3 text-gray-300">Kullanım</th>
                        </tr>
                    </thead>
                    <tbody class="divide-y divide-slate-700">
                        <tr>
                            <td class="p-3">
                                <span class="px-2 py-1 bg-blue-500/20 text-blue-300 rounded text-xs">Media</span>
                            </td>
                            <td class="p-3 text-gray-400 font-mono text-xs">model_type + model_id</td>
                            <td class="p-3 text-gray-400 text-xs">Composite + 8 ek index</td>
                            <td class="p-3 text-gray-400">~500 byte</td>
                            <td class="p-3 text-gray-400 text-xs">One-to-Many (dosya)</td>
                        </tr>
                        <tr>
                            <td class="p-3">
                                <span class="px-2 py-1 bg-amber-500/20 text-amber-300 rounded text-xs">SEO</span>
                            </td>
                            <td class="p-3 text-gray-400 font-mono text-xs">seoable_type + seoable_id</td>
                            <td class="p-3 text-gray-400 text-xs">Composite + status + score</td>
                            <td class="p-3 text-gray-400">~2KB</td>
                            <td class="p-3 text-gray-400 text-xs">One-to-One (SEO)</td>
                        </tr>
                        <tr>
                            <td class="p-3">
                                <span class="px-2 py-1 bg-pink-500/20 text-pink-300 rounded text-xs">Favorite</span>
                            </td>
                            <td class="p-3 text-gray-400 font-mono text-xs">favoritable_type + favoritable_id + user_id</td>
                            <td class="p-3 text-gray-400 text-xs">Composite + Unique constraint</td>
                            <td class="p-3 text-gray-400">~300 byte</td>
                            <td class="p-3 text-gray-400 text-xs">Many-to-Many</td>
                        </tr>
                        <tr class="bg-green-900/10">
                            <td class="p-3">
                                <span class="px-2 py-1 bg-green-500/20 text-green-300 rounded text-xs">v4 Pivot</span>
                            </td>
                            <td class="p-3 text-gray-400 font-mono text-xs">playlist_id + corporate_id</td>
                            <td class="p-3 text-gray-400 text-xs">PRIMARY composite + FK</td>
                            <td class="p-3 text-green-400 font-semibold">16 byte</td>
                            <td class="p-3 text-gray-400 text-xs">Many-to-Many (direkt)</td>
                        </tr>
                        <tr class="bg-purple-900/10">
                            <td class="p-3">
                                <span class="px-2 py-1 bg-purple-500/20 text-purple-300 rounded text-xs">v5 Poly</span>
                            </td>
                            <td class="p-3 text-gray-400 font-mono text-xs">playlistable_type + playlistable_id</td>
                            <td class="p-3 text-gray-400 text-xs">Composite + playlist_id</td>
                            <td class="p-3 text-gray-400">~70 byte</td>
                            <td class="p-3 text-gray-400 text-xs">Many-to-Many (unified)</td>
                        </tr>
                    </tbody>
                </table>
            </div>
        </section>

        <!-- 30K Veri Performans Projeksiyonu -->
        <section class="bg-slate-800/50 border border-slate-700 rounded-lg p-6 mb-8">
            <h2 class="text-xl font-semibold text-white mb-4">
                <i class="fas fa-tachometer-alt mr-2 text-red-400"></i>30K Veri Performans Projeksiyonu
            </h2>

            <div class="space-y-6">
                <!-- Senaryo -->
                <div class="bg-slate-900/50 p-4 rounded-lg">
                    <h3 class="font-semibold text-gray-300 mb-2">Test Senaryosu</h3>
                    <ul class="text-gray-400 text-sm space-y-1">
                        <li><i class="fas fa-check text-green-400 mr-2"></i>30.000 playlist</li>
                        <li><i class="fas fa-check text-green-400 mr-2"></i>50 kurumsal hesap</li>
                        <li><i class="fas fa-check text-green-400 mr-2"></i>Her playlist ortalama 3-5 kurumsal'a atanmış</li>
                        <li><i class="fas fa-check text-green-400 mr-2"></i>Toplam ilişki: ~100.000-150.000 satır</li>
                    </ul>
                </div>

                <!-- Karşılaştırma -->
                <div class="grid md:grid-cols-2 gap-6">
                    <!-- v4 -->
                    <div class="bg-green-900/20 border border-green-800 rounded-lg p-4">
                        <h3 class="font-semibold text-green-300 mb-3">
                            <i class="fas fa-bolt mr-2"></i>v4: Pivot Tablo (ÖNERİLEN)
                        </h3>
                        <div class="space-y-3 text-sm">
                            <div class="flex justify-between">
                                <span class="text-gray-400">Index boyutu (100K satır):</span>
                                <span class="text-green-400 font-mono">~1.6 MB</span>
                            </div>
                            <div class="flex justify-between">
                                <span class="text-gray-400">Tablo boyutu:</span>
                                <span class="text-green-400 font-mono">~1.6 MB</span>
                            </div>
                            <div class="flex justify-between">
                                <span class="text-gray-400">Query tipi:</span>
                                <span class="text-green-400">Integer-to-Integer JOIN</span>
                            </div>
                            <div class="flex justify-between">
                                <span class="text-gray-400">Beklenen hız:</span>
                                <span class="text-green-400 font-semibold">&lt;1ms</span>
                            </div>
                        </div>
                        <div class="mt-4 p-3 bg-slate-900/50 rounded text-xs font-mono text-gray-400">
                            SELECT p.* FROM playlists p<br>
                            JOIN playlist_corporate pc<br>
                            &nbsp;&nbsp;ON p.id = pc.playlist_id<br>
                            WHERE pc.corporate_id = 5
                        </div>
                    </div>

                    <!-- v5 -->
                    <div class="bg-purple-900/20 border border-purple-800 rounded-lg p-4">
                        <h3 class="font-semibold text-purple-300 mb-3">
                            <i class="fas fa-layer-group mr-2"></i>v5: Polymorphic Unified
                        </h3>
                        <div class="space-y-3 text-sm">
                            <div class="flex justify-between">
                                <span class="text-gray-400">Index boyutu (100K satır):</span>
                                <span class="text-purple-400 font-mono">~7 MB</span>
                            </div>
                            <div class="flex justify-between">
                                <span class="text-gray-400">Tablo boyutu:</span>
                                <span class="text-purple-400 font-mono">~7 MB</span>
                            </div>
                            <div class="flex justify-between">
                                <span class="text-gray-400">Query tipi:</span>
                                <span class="text-purple-400">VARCHAR + Integer JOIN</span>
                            </div>
                            <div class="flex justify-between">
                                <span class="text-gray-400">Beklenen hız:</span>
                                <span class="text-purple-400 font-semibold">1-3ms</span>
                            </div>
                        </div>
                        <div class="mt-4 p-3 bg-slate-900/50 rounded text-xs font-mono text-gray-400">
                            SELECT p.* FROM playlists p<br>
                            JOIN playlistables pl<br>
                            &nbsp;&nbsp;ON p.id = pl.playlist_id<br>
                            WHERE pl.playlistable_type = 'corporate'<br>
                            &nbsp;&nbsp;AND pl.playlistable_id = 5
                        </div>
                    </div>
                </div>
            </div>
        </section>

        <!-- Neden v4? -->
        <section class="bg-green-900/20 border border-green-800 rounded-lg p-6 mb-8">
            <h2 class="text-xl font-semibold text-green-300 mb-4">
                <i class="fas fa-trophy mr-2"></i>Neden v4 (Pivot Tablo) Öneriliyor?
            </h2>

            <div class="grid md:grid-cols-2 gap-6">
                <div>
                    <h3 class="font-semibold text-white mb-3">Performans Avantajları</h3>
                    <ul class="space-y-2 text-sm">
                        <li class="flex items-start">
                            <i class="fas fa-check-circle text-green-400 mt-1 mr-2"></i>
                            <span class="text-gray-300"><strong>4x daha küçük index</strong> - Daha hızlı arama</span>
                        </li>
                        <li class="flex items-start">
                            <i class="fas fa-check-circle text-green-400 mt-1 mr-2"></i>
                            <span class="text-gray-300"><strong>Integer-only JOIN</strong> - VARCHAR karşılaştırması yok</span>
                        </li>
                        <li class="flex items-start">
                            <i class="fas fa-check-circle text-green-400 mt-1 mr-2"></i>
                            <span class="text-gray-300"><strong>Composite PK</strong> - Otomatik unique + index</span>
                        </li>
                        <li class="flex items-start">
                            <i class="fas fa-check-circle text-green-400 mt-1 mr-2"></i>
                            <span class="text-gray-300"><strong>Memory-efficient</strong> - 16 byte vs 70 byte/satır</span>
                        </li>
                    </ul>
                </div>
                <div>
                    <h3 class="font-semibold text-white mb-3">Uyumluluk Avantajları</h3>
                    <ul class="space-y-2 text-sm">
                        <li class="flex items-start">
                            <i class="fas fa-check-circle text-green-400 mt-1 mr-2"></i>
                            <span class="text-gray-300"><strong>Mevcut pattern</strong> - playlist_sector, playlist_radio ile aynı</span>
                        </li>
                        <li class="flex items-start">
                            <i class="fas fa-check-circle text-green-400 mt-1 mr-2"></i>
                            <span class="text-gray-300"><strong>Test edilmiş</strong> - 161 satır sorunsuz çalışıyor</span>
                        </li>
                        <li class="flex items-start">
                            <i class="fas fa-check-circle text-green-400 mt-1 mr-2"></i>
                            <span class="text-gray-300"><strong>Basit Laravel</strong> - belongsToMany hazır</span>
                        </li>
                        <li class="flex items-start">
                            <i class="fas fa-check-circle text-green-400 mt-1 mr-2"></i>
                            <span class="text-gray-300"><strong>Kolay debug</strong> - Tablo adı açık: playlist_corporate</span>
                        </li>
                    </ul>
                </div>
            </div>
        </section>

        <!-- v5 Ne Zaman? -->
        <section class="bg-purple-900/20 border border-purple-800 rounded-lg p-6 mb-8">
            <h2 class="text-xl font-semibold text-purple-300 mb-4">
                <i class="fas fa-question-circle mr-2"></i>v5 (Polymorphic) Ne Zaman Mantıklı?
            </h2>

            <div class="grid md:grid-cols-2 gap-6">
                <div>
                    <h3 class="font-semibold text-white mb-3 text-green-300">v5 İyi Seçim Olur Eğer:</h3>
                    <ul class="space-y-2 text-sm text-gray-300">
                        <li><i class="fas fa-arrow-right text-purple-400 mr-2"></i>10+ farklı entity tipi olacaksa (sector, radio, corporate, artist, label, genre, mood...)</li>
                        <li><i class="fas fa-arrow-right text-purple-400 mr-2"></i>Sürekli yeni tipler eklenecekse</li>
                        <li><i class="fas fa-arrow-right text-purple-400 mr-2"></i>Tek bir yerden tüm ilişkileri yönetmek istiyorsanız</li>
                    </ul>
                </div>
                <div>
                    <h3 class="font-semibold text-white mb-3 text-red-300">v5 Gereksiz Eğer:</h3>
                    <ul class="space-y-2 text-sm text-gray-300">
                        <li><i class="fas fa-times text-red-400 mr-2"></i>Sadece 3-4 entity tipi varsa (sector, radio, corporate)</li>
                        <li><i class="fas fa-times text-red-400 mr-2"></i>Performans kritikse (streaming, realtime)</li>
                        <li><i class="fas fa-times text-red-400 mr-2"></i>Mevcut pattern zaten çalışıyorsa</li>
                    </ul>
                </div>
            </div>
        </section>

        <!-- Media/SEO Adaptasyonu -->
        <section class="bg-slate-800/50 border border-slate-700 rounded-lg p-6 mb-8">
            <h2 class="text-xl font-semibold text-white mb-4">
                <i class="fas fa-exchange-alt mr-2 text-amber-400"></i>Media/SEO Pattern'i Bu İşe Uyar mı?
            </h2>

            <div class="grid md:grid-cols-2 gap-6">
                <div class="bg-red-900/20 border border-red-800 rounded-lg p-4">
                    <h3 class="font-semibold text-red-300 mb-3">
                        <i class="fas fa-times-circle mr-2"></i>Media Pattern - UYGUN DEĞİL
                    </h3>
                    <p class="text-gray-400 text-sm mb-3">
                        Media pattern <strong>ONE-TO-MANY</strong> ilişki içindir. Bir media bir modele aittir.
                    </p>
                    <ul class="text-sm text-gray-400 space-y-1">
                        <li><i class="fas fa-arrow-right mr-2"></i>Bu sistemde playlist MANY corporates'a ait</li>
                        <li><i class="fas fa-arrow-right mr-2"></i>Media'da collection_name var - burada gereksiz</li>
                        <li><i class="fas fa-arrow-right mr-2"></i>Media tablosu çok field'li (~500 byte/satır)</li>
                    </ul>
                </div>

                <div class="bg-amber-900/20 border border-amber-800 rounded-lg p-4">
                    <h3 class="font-semibold text-amber-300 mb-3">
                        <i class="fas fa-exclamation-triangle mr-2"></i>SEO Pattern - KISMEN UYGUN
                    </h3>
                    <p class="text-gray-400 text-sm mb-3">
                        SEO pattern <strong>ONE-TO-ONE</strong> ilişki içindir. Bir sayfa bir SEO kaydına sahip.
                    </p>
                    <ul class="text-sm text-gray-400 space-y-1">
                        <li><i class="fas fa-arrow-right mr-2"></i>Bu sistemde playlist MANY corporates'a bağlanacak</li>
                        <li><i class="fas fa-arrow-right mr-2"></i>morphs() kullanılabilir ama v5'ten farkı yok</li>
                        <li><i class="fas fa-arrow-right mr-2"></i>Ters yönde: seoable (model → seo), bizde playlist → corporate</li>
                    </ul>
                </div>
            </div>

            <div class="mt-6 p-4 bg-green-900/20 border border-green-800 rounded-lg">
                <h3 class="font-semibold text-green-300 mb-2">
                    <i class="fas fa-lightbulb mr-2"></i>Sonuç
                </h3>
                <p class="text-gray-300 text-sm">
                    Media ve SEO pattern'leri farklı ilişki tipleri için tasarlanmış.
                    <strong>Playlist-Corporate MANY-TO-MANY ilişkisi</strong> için en uygun pattern:
                </p>
                <ul class="mt-2 text-sm">
                    <li class="text-green-400"><i class="fas fa-check mr-2"></i><strong>v4 (Dedicated Pivot)</strong> - Performans kritik, mevcut pattern</li>
                    <li class="text-purple-400"><i class="fas fa-check mr-2"></i><strong>v5 (Polymorphic)</strong> - Esneklik kritik, çok entity tipi</li>
                </ul>
            </div>
        </section>

        <!-- Final Karar -->
        <section class="bg-gradient-to-r from-green-900/30 to-cyan-900/30 border border-green-700 rounded-lg p-6 mb-8">
            <h2 class="text-2xl font-bold text-white mb-4 text-center">
                <i class="fas fa-gavel mr-2 text-green-400"></i>Final Öneri: v4 (Pivot Tablo)
            </h2>

            <div class="grid md:grid-cols-3 gap-4 mb-6">
                <div class="bg-slate-900/50 p-4 rounded-lg text-center">
                    <div class="text-3xl font-bold text-green-400">&lt;1ms</div>
                    <div class="text-gray-400 text-sm">Query Hızı</div>
                </div>
                <div class="bg-slate-900/50 p-4 rounded-lg text-center">
                    <div class="text-3xl font-bold text-cyan-400">1.6MB</div>
                    <div class="text-gray-400 text-sm">100K Satır Boyutu</div>
                </div>
                <div class="bg-slate-900/50 p-4 rounded-lg text-center">
                    <div class="text-3xl font-bold text-purple-400">0</div>
                    <div class="text-gray-400 text-sm">Mevcut Kod Değişikliği</div>
                </div>
            </div>

            <div class="bg-slate-900/50 p-4 rounded-lg">
                <h3 class="font-semibold text-white mb-3">Uygulama Planı:</h3>
                <ol class="space-y-2 text-sm text-gray-300">
                    <li class="flex items-start">
                        <span class="flex-shrink-0 w-6 h-6 rounded-full bg-green-500/20 text-green-400 flex items-center justify-center mr-2 text-xs font-bold">1</span>
                        <span><strong>Migration:</strong> muzibu_playlist_corporate tablosu oluştur (playlist_sector pattern'i)</span>
                    </li>
                    <li class="flex items-start">
                        <span class="flex-shrink-0 w-6 h-6 rounded-full bg-green-500/20 text-green-400 flex items-center justify-center mr-2 text-xs font-bold">2</span>
                        <span><strong>Model:</strong> Playlist'e corporates() ilişkisi ekle</span>
                    </li>
                    <li class="flex items-start">
                        <span class="flex-shrink-0 w-6 h-6 rounded-full bg-green-500/20 text-green-400 flex items-center justify-center mr-2 text-xs font-bold">3</span>
                        <span><strong>Model:</strong> MuzibuCorporateAccount'a playlists() ilişkisi ekle</span>
                    </li>
                    <li class="flex items-start">
                        <span class="flex-shrink-0 w-6 h-6 rounded-full bg-green-500/20 text-green-400 flex items-center justify-center mr-2 text-xs font-bold">4</span>
                        <span><strong>UI:</strong> Playlist sayfasına "Kurumsal" filtresi ekle (sector/radio gibi)</span>
                    </li>
                </ol>
            </div>
        </section>

        <!-- Footer -->
        <footer class="text-center text-gray-500 text-sm">
            <p>
                <i class="fas fa-robot mr-2"></i>
                Claude AI tarafından oluşturuldu | 30 Aralık 2025
            </p>
            <p class="mt-2">
                <a href="../v5/" class="text-blue-400 hover:text-blue-300 mr-4">v5: Polymorphic</a>
                <a href="../v4/" class="text-blue-400 hover:text-blue-300 mr-4">v4: Pivot Tablo</a>
                <a href="../" class="text-blue-400 hover:text-blue-300">Tüm Versiyonlar</a>
            </p>
        </footer>
    </div>
</body>
</html>

<!DOCTYPE html>
<html lang="tr">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Device Session Sistemi - Plan & Simülasyon v2</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.1/css/all.min.css">
    <script>
        tailwind.config = {
            theme: {
                extend: {
                    colors: {
                        'muzibu-dark': '#121212',
                        'muzibu-gray': '#1a1a1a',
                        'muzibu-black': '#0a0a0a',
                        'muzibu-coral': '#ff6b6b',
                        'muzibu-green': '#1db954',
                    }
                }
            }
        }
    </script>
    <style>
        [x-cloak] { display: none !important; }
        @keyframes slideIn { from { transform: translateX(100%); opacity: 0; } to { transform: translateX(0); opacity: 1; } }
        @keyframes slideOut { from { transform: translateX(0); opacity: 1; } to { transform: translateX(100%); opacity: 0; } }
        .toast-enter { animation: slideIn 0.3s ease-out; }
        .toast-exit { animation: slideOut 0.3s ease-in; }
        @keyframes pulse-green { 0%, 100% { box-shadow: 0 0 0 0 rgba(29, 185, 84, 0.4); } 50% { box-shadow: 0 0 0 8px rgba(29, 185, 84, 0); } }
        .pulse-active { animation: pulse-green 2s infinite; }
    </style>
</head>
<body class="bg-gradient-to-br from-slate-900 via-slate-800 to-slate-900 text-slate-100 min-h-screen">

    <!-- Header -->
    <header class="bg-muzibu-black/80 backdrop-blur-md border-b border-white/10 sticky top-0 z-40">
        <div class="max-w-7xl mx-auto px-6 py-4">
            <div class="flex items-center justify-between">
                <div class="flex items-center gap-4">
                    <div class="w-10 h-10 bg-gradient-to-br from-muzibu-coral to-orange-500 rounded-xl flex items-center justify-center">
                        <i class="fas fa-mobile-alt text-white"></i>
                    </div>
                    <div>
                        <h1 class="text-xl font-bold">Device Session Sistemi</h1>
                        <p class="text-sm text-slate-400">Plan & Simülasyon v2</p>
                    </div>
                </div>
                <div class="flex items-center gap-3">
                    <span class="px-3 py-1 bg-green-500/20 text-green-400 text-xs font-medium rounded-full">
                        <i class="fas fa-check-circle mr-1"></i>
                        Sistem Aktif
                    </span>
                    <span class="text-slate-500 text-sm">10 Aralık 2025</span>
                </div>
            </div>
        </div>
    </header>

    <div class="max-w-7xl mx-auto px-6 py-8">

        <!-- BUG DÜZELTİLDİ SECTION -->
        <section class="mb-12">
            <div class="bg-green-500/10 border-2 border-green-500/50 rounded-2xl p-6">
                <div class="flex items-start gap-4">
                    <div class="w-14 h-14 bg-green-500/20 rounded-xl flex items-center justify-center flex-shrink-0">
                        <i class="fas fa-check-circle text-3xl text-green-400"></i>
                    </div>
                    <div class="flex-1">
                        <h2 class="text-2xl font-bold text-green-400 mb-2">BUG DÜZELTİLDİ: Setting Key Uyumsuzluğu</h2>
                        <p class="text-slate-300 mb-4">DeviceService.php artık doğru setting key'i kontrol ediyor.</p>

                        <div class="grid md:grid-cols-2 gap-4">
                            <div class="bg-red-500/10 rounded-xl p-4 opacity-60">
                                <p class="text-xs text-red-400 font-medium mb-2">ESKİ (Yanlış):</p>
                                <code class="text-sm text-white bg-slate-800 px-3 py-1 rounded line-through">auth_device_limit_enabled</code>
                                <p class="text-xs text-slate-500 mt-2">❌ Böyle bir setting yoktu</p>
                            </div>
                            <div class="bg-green-500/10 rounded-xl p-4 border border-green-500/30">
                                <p class="text-xs text-green-400 font-medium mb-2">YENİ (Doğru):</p>
                                <code class="text-sm text-white bg-slate-800 px-3 py-1 rounded">auth_device</code>
                                <p class="text-xs text-green-400 mt-2">✓ Artık bu kullanılıyor</p>
                            </div>
                        </div>

                        <div class="mt-4 p-4 bg-green-500/10 border border-green-500/30 rounded-xl">
                            <p class="text-sm text-slate-300">
                                <strong class="text-green-400">Sonuç:</strong>
                                <code class="bg-slate-700 px-2 py-0.5 rounded text-green-400">shouldRun(): TRUE</code> →
                                <strong class="text-green-400">Sistem çalışıyor!</strong>
                            </p>
                        </div>

                        <div class="mt-4 flex gap-3">
                            <span class="px-3 py-1 bg-green-500 text-white text-sm rounded-full">
                                <i class="fas fa-check mr-1"></i>
                                Düzeltildi
                            </span>
                            <span class="px-3 py-1 bg-blue-500/20 text-blue-400 text-sm rounded-full">
                                <i class="fas fa-flask mr-1"></i>
                                Test Edildi
                            </span>
                        </div>
                    </div>
                </div>
            </div>
        </section>

        <!-- Setting Tetikleyici Akışı -->
        <section class="mb-12">
            <h2 class="text-2xl font-bold mb-6 flex items-center gap-3">
                <i class="fas fa-toggle-on text-green-400"></i>
                Setting Tetikleyici Akışı
            </h2>

            <div class="bg-muzibu-gray/30 border border-white/10 rounded-2xl p-6">
                <div class="flex flex-col gap-4">

                    <!-- Step 1 -->
                    <div class="flex items-center gap-4">
                        <div class="w-12 h-12 bg-blue-500/20 rounded-xl flex items-center justify-center border-2 border-blue-500">
                            <span class="text-blue-400 font-bold">1</span>
                        </div>
                        <div class="flex-1 bg-slate-800/50 rounded-xl p-4">
                            <div class="flex items-center justify-between">
                                <div>
                                    <p class="font-bold text-white">auth_subscription</p>
                                    <p class="text-sm text-slate-400">Ücretli Üyelik Sistemi</p>
                                </div>
                                <div class="flex items-center gap-2">
                                    <span class="px-3 py-1 bg-green-500/20 text-green-400 text-sm rounded-full">Açık ✓</span>
                                </div>
                            </div>
                        </div>
                        <i class="fas fa-arrow-right text-slate-600"></i>
                    </div>

                    <!-- Step 2 -->
                    <div class="flex items-center gap-4">
                        <div class="w-12 h-12 bg-purple-500/20 rounded-xl flex items-center justify-center border-2 border-purple-500">
                            <span class="text-purple-400 font-bold">2</span>
                        </div>
                        <div class="flex-1 bg-slate-800/50 rounded-xl p-4">
                            <div class="flex items-center justify-between">
                                <div>
                                    <p class="font-bold text-white">auth_device</p>
                                    <p class="text-sm text-slate-400">Cihaz - Session Limiti</p>
                                </div>
                                <div class="flex items-center gap-2">
                                    <span class="px-3 py-1 bg-green-500/20 text-green-400 text-sm rounded-full">Açık ✓</span>
                                </div>
                            </div>
                        </div>
                        <i class="fas fa-arrow-right text-slate-600"></i>
                    </div>

                    <!-- Step 3 -->
                    <div class="flex items-center gap-4">
                        <div class="w-12 h-12 bg-orange-500/20 rounded-xl flex items-center justify-center border-2 border-orange-500">
                            <span class="text-orange-400 font-bold">3</span>
                        </div>
                        <div class="flex-1 bg-slate-800/50 rounded-xl p-4">
                            <div class="flex items-center justify-between">
                                <div>
                                    <p class="font-bold text-white">auth_device_limit</p>
                                    <p class="text-sm text-slate-400">Cihaz Limit Kontrolü (Fallback)</p>
                                </div>
                                <div class="flex items-center gap-2">
                                    <span class="px-4 py-1 bg-orange-500/20 text-orange-400 text-lg font-bold rounded-full">1</span>
                                </div>
                            </div>
                        </div>
                        <i class="fas fa-check text-green-500"></i>
                    </div>

                </div>

                <!-- Flow Description -->
                <div class="mt-6 p-4 bg-blue-500/10 border border-blue-500/30 rounded-xl">
                    <p class="text-sm text-slate-300">
                        <i class="fas fa-info-circle text-blue-400 mr-2"></i>
                        <strong>Akış:</strong> auth_subscription AÇIK → auth_device AÇIK → Session limit kontrolü BAŞLAR
                    </p>
                </div>
            </div>
        </section>

        <!-- 3 Seviyeli Fallback Sistemi -->
        <section class="mb-12">
            <h2 class="text-2xl font-bold mb-6 flex items-center gap-3">
                <i class="fas fa-layer-group text-purple-400"></i>
                Cihaz Limiti Fallback Sistemi (3 Seviyeli)
            </h2>

            <div class="bg-muzibu-gray/30 border border-white/10 rounded-2xl overflow-hidden">
                <!-- Visual Flow -->
                <div class="p-6 bg-gradient-to-r from-purple-500/10 to-blue-500/10">
                    <div class="flex items-center justify-between gap-4">

                        <!-- Level 1 -->
                        <div class="flex-1 text-center">
                            <div class="w-20 h-20 bg-green-500/20 rounded-2xl flex items-center justify-center mx-auto mb-3 border-2 border-green-500">
                                <i class="fas fa-user text-green-400 text-2xl"></i>
                            </div>
                            <p class="font-bold text-green-400 text-lg">1. User</p>
                            <p class="text-xs text-slate-400 mt-1">users.device_limit</p>
                            <div class="mt-2 px-3 py-1 bg-slate-800 rounded-full inline-block">
                                <code class="text-xs text-green-400">$user->device_limit</code>
                            </div>
                        </div>

                        <div class="text-slate-600">
                            <i class="fas fa-arrow-right text-2xl"></i>
                            <p class="text-xs mt-1">null ise</p>
                        </div>

                        <!-- Level 2 -->
                        <div class="flex-1 text-center">
                            <div class="w-20 h-20 bg-blue-500/20 rounded-2xl flex items-center justify-center mx-auto mb-3 border-2 border-blue-500">
                                <i class="fas fa-crown text-blue-400 text-2xl"></i>
                            </div>
                            <p class="font-bold text-blue-400 text-lg">2. Plan</p>
                            <p class="text-xs text-slate-400 mt-1">subscription_plans.device_limit</p>
                            <div class="mt-2 px-3 py-1 bg-slate-800 rounded-full inline-block">
                                <code class="text-xs text-blue-400">$plan->device_limit</code>
                            </div>
                        </div>

                        <div class="text-slate-600">
                            <i class="fas fa-arrow-right text-2xl"></i>
                            <p class="text-xs mt-1">null ise</p>
                        </div>

                        <!-- Level 3 -->
                        <div class="flex-1 text-center">
                            <div class="w-20 h-20 bg-orange-500/20 rounded-2xl flex items-center justify-center mx-auto mb-3 border-2 border-orange-500">
                                <i class="fas fa-cog text-orange-400 text-2xl"></i>
                            </div>
                            <p class="font-bold text-orange-400 text-lg">3. Setting</p>
                            <p class="text-xs text-slate-400 mt-1">settings.auth_device_limit</p>
                            <div class="mt-2 px-3 py-1 bg-slate-800 rounded-full inline-block">
                                <code class="text-xs text-orange-400">setting('auth_device_limit')</code>
                            </div>
                        </div>

                    </div>
                </div>

                <!-- Current Values -->
                <div class="p-6 border-t border-white/10">
                    <h3 class="text-lg font-bold text-white mb-4">Şu Anki Değerler (Tenant: Muzibu)</h3>
                    <div class="grid md:grid-cols-3 gap-4">
                        <div class="bg-slate-800/50 rounded-xl p-4 text-center">
                            <p class="text-slate-400 text-sm mb-2">User #1</p>
                            <p class="text-3xl font-bold text-slate-500">NULL</p>
                            <p class="text-xs text-slate-600 mt-1">Tanımlı değil</p>
                        </div>
                        <div class="bg-slate-800/50 rounded-xl p-4 text-center">
                            <p class="text-slate-400 text-sm mb-2">Subscription Plan</p>
                            <p class="text-3xl font-bold text-slate-500">NULL</p>
                            <p class="text-xs text-slate-600 mt-1">Plan yok veya tanımlı değil</p>
                        </div>
                        <div class="bg-orange-500/10 border border-orange-500/30 rounded-xl p-4 text-center">
                            <p class="text-orange-400 text-sm mb-2">Setting (Fallback)</p>
                            <p class="text-3xl font-bold text-orange-400">1</p>
                            <p class="text-xs text-green-400 mt-1">✓ Bu kullanılıyor</p>
                        </div>
                    </div>
                </div>
            </div>
        </section>

        <!-- LIFO Akışı -->
        <section class="mb-12">
            <h2 class="text-2xl font-bold mb-6 flex items-center gap-3">
                <i class="fas fa-exchange-alt text-cyan-400"></i>
                LIFO (Last In First Out) Akışı
            </h2>

            <div class="bg-muzibu-gray/30 border border-white/10 rounded-2xl p-6">

                <!-- Scenario -->
                <div class="mb-6 p-4 bg-cyan-500/10 border border-cyan-500/30 rounded-xl">
                    <p class="text-cyan-400 font-bold mb-2">
                        <i class="fas fa-flask mr-2"></i>
                        Senaryo: Device Limit = 1, 4 Farklı Browser ile Login
                    </p>
                    <p class="text-sm text-slate-300">
                        Chrome Normal, Chrome Gizli, Brave Normal, Brave Gizli → 4 farklı session
                    </p>
                </div>

                <!-- Timeline -->
                <div class="space-y-4">

                    <!-- Login 1 -->
                    <div class="flex items-center gap-4">
                        <div class="w-10 h-10 bg-green-500/20 rounded-lg flex items-center justify-center">
                            <span class="text-green-400 font-bold">1</span>
                        </div>
                        <div class="flex-1 bg-slate-800/50 rounded-xl p-4">
                            <div class="flex items-center justify-between">
                                <div class="flex items-center gap-3">
                                    <i class="fab fa-chrome text-yellow-400"></i>
                                    <span class="text-white">Chrome Normal - Login</span>
                                </div>
                                <span class="px-3 py-1 bg-green-500/20 text-green-400 text-xs rounded-full">Session #1 ✓</span>
                            </div>
                        </div>
                    </div>

                    <!-- Login 2 -->
                    <div class="flex items-center gap-4">
                        <div class="w-10 h-10 bg-blue-500/20 rounded-lg flex items-center justify-center">
                            <span class="text-blue-400 font-bold">2</span>
                        </div>
                        <div class="flex-1 bg-slate-800/50 rounded-xl p-4">
                            <div class="flex items-center justify-between">
                                <div class="flex items-center gap-3">
                                    <i class="fab fa-chrome text-slate-400"></i>
                                    <span class="text-white">Chrome Gizli - Login</span>
                                </div>
                                <div class="flex items-center gap-2">
                                    <span class="px-3 py-1 bg-red-500/20 text-red-400 text-xs rounded-full line-through">Session #1</span>
                                    <i class="fas fa-arrow-right text-slate-600"></i>
                                    <span class="px-3 py-1 bg-green-500/20 text-green-400 text-xs rounded-full">Session #2 ✓</span>
                                </div>
                            </div>
                        </div>
                    </div>

                    <!-- Login 3 -->
                    <div class="flex items-center gap-4">
                        <div class="w-10 h-10 bg-purple-500/20 rounded-lg flex items-center justify-center">
                            <span class="text-purple-400 font-bold">3</span>
                        </div>
                        <div class="flex-1 bg-slate-800/50 rounded-xl p-4">
                            <div class="flex items-center justify-between">
                                <div class="flex items-center gap-3">
                                    <i class="fab fa-brave text-orange-400"></i>
                                    <span class="text-white">Brave Normal - Login</span>
                                </div>
                                <div class="flex items-center gap-2">
                                    <span class="px-3 py-1 bg-red-500/20 text-red-400 text-xs rounded-full line-through">Session #2</span>
                                    <i class="fas fa-arrow-right text-slate-600"></i>
                                    <span class="px-3 py-1 bg-green-500/20 text-green-400 text-xs rounded-full">Session #3 ✓</span>
                                </div>
                            </div>
                        </div>
                    </div>

                    <!-- Login 4 -->
                    <div class="flex items-center gap-4">
                        <div class="w-10 h-10 bg-orange-500/20 rounded-lg flex items-center justify-center">
                            <span class="text-orange-400 font-bold">4</span>
                        </div>
                        <div class="flex-1 bg-slate-800/50 rounded-xl p-4">
                            <div class="flex items-center justify-between">
                                <div class="flex items-center gap-3">
                                    <i class="fab fa-brave text-slate-400"></i>
                                    <span class="text-white">Brave Gizli - Login</span>
                                </div>
                                <div class="flex items-center gap-2">
                                    <span class="px-3 py-1 bg-red-500/20 text-red-400 text-xs rounded-full line-through">Session #3</span>
                                    <i class="fas fa-arrow-right text-slate-600"></i>
                                    <span class="px-3 py-1 bg-green-500/20 text-green-400 text-xs rounded-full">Session #4 ✓</span>
                                </div>
                            </div>
                        </div>
                    </div>

                </div>

                <!-- Result -->
                <div class="mt-6 p-4 bg-green-500/10 border border-green-500/30 rounded-xl">
                    <p class="text-green-400 font-bold mb-2">
                        <i class="fas fa-check-circle mr-2"></i>
                        Sonuç
                    </p>
                    <p class="text-sm text-slate-300">
                        Sadece <strong class="text-green-400">Brave Gizli (Session #4)</strong> aktif.
                        Diğer 3 tarayıcı <strong class="text-red-400">session_terminated</strong> alacak ve logout olacak.
                    </p>
                </div>
            </div>
        </section>

        <!-- Yapılanlar (Tamamlandı) -->
        <section class="mb-12">
            <h2 class="text-2xl font-bold mb-6 flex items-center gap-3">
                <i class="fas fa-check-double text-green-400"></i>
                Yapılanlar
                <span class="px-3 py-1 bg-green-500/20 text-green-400 text-sm rounded-full">Tamamlandı</span>
            </h2>

            <div class="space-y-4">

                <!-- Task 1 - Completed -->
                <div class="bg-green-500/10 border border-green-500/30 rounded-xl p-5">
                    <div class="flex items-start gap-4">
                        <div class="w-8 h-8 bg-green-500 rounded-lg flex items-center justify-center flex-shrink-0">
                            <i class="fas fa-check text-white"></i>
                        </div>
                        <div class="flex-1">
                            <div class="flex items-center gap-3 mb-2">
                                <h3 class="font-bold text-green-400">Setting Key Düzeltmesi</h3>
                                <span class="px-2 py-0.5 bg-green-500 text-white text-xs rounded">TAMAMLANDI</span>
                            </div>
                            <p class="text-sm text-slate-300 mb-3">
                                DeviceService.php:37 → <code class="bg-slate-800 px-2 py-0.5 rounded line-through text-red-400">auth_device_limit_enabled</code> →
                                <code class="bg-slate-800 px-2 py-0.5 rounded text-green-400">auth_device</code>
                            </p>
                            <div class="bg-slate-800/50 rounded-lg p-3">
                                <code class="text-xs text-green-400">
                                    return (bool) setting('auth_device', false); ✓
                                </code>
                            </div>
                        </div>
                    </div>
                </div>

                <!-- Task 2 - Completed -->
                <div class="bg-green-500/10 border border-green-500/30 rounded-xl p-5">
                    <div class="flex items-start gap-4">
                        <div class="w-8 h-8 bg-green-500 rounded-lg flex items-center justify-center flex-shrink-0">
                            <i class="fas fa-check text-white"></i>
                        </div>
                        <div class="flex-1">
                            <div class="flex items-center gap-3 mb-2">
                                <h3 class="font-bold text-green-400">LIFO Testi (4 Session)</h3>
                                <span class="px-2 py-0.5 bg-green-500 text-white text-xs rounded">TAMAMLANDI</span>
                            </div>
                            <p class="text-sm text-slate-300">
                                4 farklı session ile test edildi. Sonuç:
                            </p>
                            <div class="mt-3 grid grid-cols-2 gap-2">
                                <div class="bg-slate-800/50 rounded-lg p-2 flex items-center gap-2">
                                    <i class="fas fa-times-circle text-red-400"></i>
                                    <span class="text-xs text-slate-300">Session 1: terminated</span>
                                </div>
                                <div class="bg-slate-800/50 rounded-lg p-2 flex items-center gap-2">
                                    <i class="fas fa-times-circle text-red-400"></i>
                                    <span class="text-xs text-slate-300">Session 2: terminated</span>
                                </div>
                                <div class="bg-slate-800/50 rounded-lg p-2 flex items-center gap-2">
                                    <i class="fas fa-times-circle text-red-400"></i>
                                    <span class="text-xs text-slate-300">Session 3: terminated</span>
                                </div>
                                <div class="bg-green-500/20 rounded-lg p-2 flex items-center gap-2 border border-green-500/30">
                                    <i class="fas fa-check-circle text-green-400"></i>
                                    <span class="text-xs text-green-400 font-bold">Session 4: valid ✓</span>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>

                <!-- Task 3 - Info -->
                <div class="bg-blue-500/10 border border-blue-500/30 rounded-xl p-5">
                    <div class="flex items-start gap-4">
                        <div class="w-8 h-8 bg-blue-500 rounded-lg flex items-center justify-center flex-shrink-0">
                            <i class="fas fa-info text-white"></i>
                        </div>
                        <div class="flex-1">
                            <div class="flex items-center gap-3 mb-2">
                                <h3 class="font-bold text-blue-400">Session Check Blade Component</h3>
                                <span class="px-2 py-0.5 bg-blue-500 text-white text-xs rounded">BİLGİ</span>
                            </div>
                            <p class="text-sm text-slate-300">
                                <code class="bg-slate-800 px-2 py-0.5 rounded">session-check.blade.php</code> devre dışı bırakılmış.
                                <br><span class="text-blue-400">Player-core.js</span> zaten session polling yapıyor, ayrıca gerek yok.
                            </p>
                        </div>
                    </div>
                </div>

            </div>
        </section>

        <!-- Interactive Demo Section -->
        <section class="mb-12">
            <h2 class="text-2xl font-bold mb-6 flex items-center gap-3">
                <i class="fas fa-play-circle text-green-400"></i>
                İnteraktif Demo
            </h2>

            <div class="bg-muzibu-gray/30 border border-white/10 rounded-2xl p-6">
                <div class="grid md:grid-cols-2 lg:grid-cols-4 gap-4">

                    <!-- Session Terminated -->
                    <button onclick="showSessionTerminatedModal()"
                            class="group bg-gradient-to-br from-red-600 to-red-700 hover:from-red-500 hover:to-red-600 text-white rounded-xl p-4 transition-all hover:scale-105">
                        <div class="flex items-center gap-3 mb-2">
                            <i class="fas fa-sign-out-alt text-2xl"></i>
                            <span class="font-bold">Session Terminated</span>
                        </div>
                        <p class="text-xs text-red-200">Başka cihazdan giriş yapıldı</p>
                    </button>

                    <!-- Limit 1 -->
                    <button onclick="showDeviceLimitModal(1)"
                            class="group bg-gradient-to-br from-orange-600 to-orange-700 hover:from-orange-500 hover:to-orange-600 text-white rounded-xl p-4 transition-all hover:scale-105">
                        <div class="flex items-center gap-3 mb-2">
                            <i class="fas fa-mobile-alt text-2xl"></i>
                            <span class="font-bold">Limit: 1 Cihaz</span>
                        </div>
                        <p class="text-xs text-orange-200">Tek cihaz senaryosu</p>
                    </button>

                    <!-- Limit 3 -->
                    <button onclick="showDeviceLimitModal(3)"
                            class="group bg-gradient-to-br from-purple-600 to-purple-700 hover:from-purple-500 hover:to-purple-600 text-white rounded-xl p-4 transition-all hover:scale-105">
                        <div class="flex items-center gap-3 mb-2">
                            <i class="fas fa-devices text-2xl"></i>
                            <span class="font-bold">Limit: 3 Cihaz</span>
                        </div>
                        <p class="text-xs text-purple-200">Çoklu cihaz senaryosu</p>
                    </button>

                    <!-- Success Toast -->
                    <button onclick="showToast('success', 'Cihazdan çıkış yapıldı!', 'fa-check-circle')"
                            class="group bg-gradient-to-br from-green-600 to-green-700 hover:from-green-500 hover:to-green-600 text-white rounded-xl p-4 transition-all hover:scale-105">
                        <div class="flex items-center gap-3 mb-2">
                            <i class="fas fa-check-circle text-2xl"></i>
                            <span class="font-bold">Success Toast</span>
                        </div>
                        <p class="text-xs text-green-200">Başarılı işlem bildirimi</p>
                    </button>

                </div>
            </div>
        </section>

    </div>

    <!-- Toast Container -->
    <div id="toastContainer" class="fixed top-4 right-4 z-50 flex flex-col gap-3"></div>

    <!-- Session Terminated Modal -->
    <div id="sessionTerminatedModal" class="fixed inset-0 z-50 hidden">
        <div class="absolute inset-0 bg-black/90 backdrop-blur-md" onclick="closeSessionTerminatedModal()"></div>
        <div class="absolute inset-0 flex items-center justify-center p-4">
            <div class="bg-muzibu-dark border border-white/10 rounded-2xl shadow-2xl max-w-md w-full overflow-hidden">
                <div class="px-8 pt-8 pb-4 text-center">
                    <div class="w-20 h-20 bg-gradient-to-br from-red-500/20 to-orange-500/20 rounded-full flex items-center justify-center mx-auto mb-5 border border-red-500/30">
                        <i class="fas fa-sign-out-alt text-4xl text-red-400"></i>
                    </div>
                    <h3 class="text-2xl font-bold text-white mb-2">Oturumunuz Sonlandırıldı</h3>
                    <p class="text-slate-400">Başka bir cihazdan giriş yapıldı</p>
                </div>
                <div class="px-8 py-4">
                    <div class="bg-slate-800/50 rounded-xl p-5 mb-4 border border-white/5">
                        <p class="text-slate-300 leading-relaxed">
                            Hesabınıza başka bir cihazdan giriş yapıldığı için bu cihazdaki oturumunuz otomatik olarak sonlandırıldı.
                        </p>
                    </div>
                    <div class="flex items-center gap-3 text-sm text-slate-500">
                        <i class="fas fa-music text-red-400"></i>
                        <span>Müzik çalma durduruldu</span>
                    </div>
                </div>
                <div class="px-8 py-6 bg-muzibu-black/50">
                    <button onclick="closeSessionTerminatedModal()"
                            class="w-full px-6 py-4 bg-gradient-to-r from-red-500 to-orange-500 hover:from-red-400 hover:to-orange-400 text-white font-bold rounded-full transition-all hover:scale-105">
                        <i class="fas fa-sign-in-alt mr-2"></i>
                        Yeniden Giriş Yap
                    </button>
                </div>
            </div>
        </div>
    </div>

    <!-- Device Limit Modal -->
    <div id="deviceLimitModal" class="fixed inset-0 z-50 hidden">
        <div class="absolute inset-0 bg-black/90 backdrop-blur-md" onclick="closeDeviceLimitModal()"></div>
        <div class="absolute inset-0 flex items-center justify-center p-4">
            <div class="bg-muzibu-dark border border-white/10 rounded-2xl shadow-2xl max-w-lg w-full overflow-hidden">
                <div class="px-8 pt-8 pb-4 text-center">
                    <div class="w-20 h-20 bg-gradient-to-br from-orange-500/20 to-yellow-500/20 rounded-full flex items-center justify-center mx-auto mb-5 border border-orange-500/30">
                        <i class="fas fa-mobile-alt text-4xl text-orange-400"></i>
                    </div>
                    <h3 class="text-2xl font-bold text-white mb-2">Cihaz Limiti Doldu</h3>
                    <p class="text-slate-400">Aynı anda <span id="deviceLimitCount" class="text-orange-400 font-bold">1</span> cihazda dinleyebilirsiniz</p>
                </div>
                <div class="px-8 py-4">
                    <div class="bg-slate-800/50 rounded-xl p-5 mb-4 border border-white/5">
                        <div class="flex items-start gap-3">
                            <i class="fas fa-info-circle text-blue-400 mt-0.5"></i>
                            <p id="deviceLimitMessage" class="text-slate-300 text-sm leading-relaxed">
                                Cihaz limitinize ulaştınız. Bu cihazdan devam etmek için başka bir cihazdan çıkış yapmanız gerekiyor.
                            </p>
                        </div>
                    </div>
                    <div class="flex items-center justify-between mb-3">
                        <p class="text-sm text-slate-400">Aktif cihazlar:</p>
                        <span id="deviceCountBadge" class="px-2 py-1 bg-orange-500/20 text-orange-400 text-xs font-medium rounded-full">2/1</span>
                    </div>
                    <div id="deviceList" class="space-y-3 max-h-64 overflow-y-auto"></div>
                </div>
                <div class="px-8 py-6 bg-muzibu-black/50">
                    <p id="deviceLimitFooterText" class="text-center text-xs text-slate-500 mb-4">
                        <i class="fas fa-shield-alt mr-1"></i>
                        Hesap güvenliğiniz için maksimum <span class="text-orange-400">1</span> cihazda aktif olabilirsiniz
                    </p>
                    <button onclick="closeDeviceLimitModal()"
                            class="w-full px-6 py-3 bg-slate-700 hover:bg-slate-600 text-white font-medium rounded-full transition-all">
                        Kapat
                    </button>
                </div>
            </div>
        </div>
    </div>

    <!-- Footer -->
    <footer class="border-t border-white/10 py-8 mt-12">
        <div class="max-w-7xl mx-auto px-6 text-center">
            <p class="text-slate-500 text-sm">
                <i class="fas fa-robot mr-2"></i>
                Claude AI - Device Session Sistemi Plan & Simülasyon v2
            </p>
        </div>
    </footer>

    <script>
        // Toast System
        function showToast(type, message, icon) {
            const container = document.getElementById('toastContainer');
            const toast = document.createElement('div');
            const colors = {
                success: 'from-green-600 to-green-700 border-green-500/50',
                warning: 'from-yellow-600 to-yellow-700 border-yellow-500/50',
                error: 'from-red-600 to-red-700 border-red-500/50'
            };
            toast.className = `toast-enter flex items-center gap-3 px-5 py-4 bg-gradient-to-r ${colors[type]} border rounded-xl shadow-2xl max-w-sm`;
            toast.innerHTML = `
                <i class="fas ${icon} text-white text-lg"></i>
                <span class="text-white font-medium text-sm">${message}</span>
                <button onclick="this.parentElement.remove()" class="ml-auto text-white/70 hover:text-white"><i class="fas fa-times"></i></button>
            `;
            container.appendChild(toast);
            setTimeout(() => { toast.classList.add('toast-exit'); setTimeout(() => toast.remove(), 300); }, 5000);
        }

        // Session Terminated Modal
        function showSessionTerminatedModal() {
            document.getElementById('sessionTerminatedModal').classList.remove('hidden');
            document.body.style.overflow = 'hidden';
        }
        function closeSessionTerminatedModal() {
            document.getElementById('sessionTerminatedModal').classList.add('hidden');
            document.body.style.overflow = '';
        }

        // Device Limit Modal
        const mockDevices = [
            { id: 1, name: 'MacBook Pro - Chrome', icon: 'fa-desktop', time: 'Az önce', isCurrent: true },
            { id: 2, name: 'iPhone 15 - Safari', icon: 'fa-mobile-alt', time: '5 dk önce', isCurrent: false },
            { id: 3, name: 'iPad Pro - Safari', icon: 'fa-tablet-alt', time: '12 dk önce', isCurrent: false },
            { id: 4, name: 'Windows PC - Firefox', icon: 'fa-desktop', time: '1 saat önce', isCurrent: false },
        ];

        function showDeviceLimitModal(limit = 1) {
            const devicesToShow = mockDevices.slice(0, limit + 1);
            const activeCount = devicesToShow.length;

            document.getElementById('deviceLimitCount').textContent = limit;
            document.getElementById('deviceCountBadge').textContent = `${activeCount}/${limit}`;
            document.getElementById('deviceLimitFooterText').innerHTML = `
                <i class="fas fa-shield-alt mr-1"></i>
                Hesap güvenliğiniz için maksimum <span class="text-orange-400">${limit}</span> cihazda aktif olabilirsiniz
            `;
            document.getElementById('deviceLimitMessage').textContent = limit === 1
                ? 'Hesabınız başka bir cihazda aktif. Bu cihazdan devam etmek için diğer cihazdan çıkış yapmanız gerekiyor.'
                : `${limit} cihaz limitinize ulaştınız. Bu cihazdan devam etmek için başka bir cihazdan çıkış yapmanız gerekiyor.`;

            const deviceListHtml = devicesToShow.map(device => `
                <div class="flex items-center justify-between p-4 ${device.isCurrent ? 'bg-green-500/10 border-green-500/30' : 'bg-slate-800/50 border-white/10'} border rounded-xl">
                    <div class="flex items-center gap-3">
                        <div class="w-10 h-10 ${device.isCurrent ? 'bg-green-500/20' : 'bg-slate-700/50'} rounded-lg flex items-center justify-center">
                            <i class="fas ${device.icon} ${device.isCurrent ? 'text-green-400' : 'text-slate-400'}"></i>
                        </div>
                        <div>
                            <p class="font-medium text-white">${device.name}</p>
                            <p class="text-xs text-slate-400">${device.isCurrent ? 'Bu cihaz • ' : ''}${device.time}</p>
                        </div>
                    </div>
                    ${device.isCurrent ? `
                        <span class="px-3 py-1 bg-green-500/20 text-green-400 text-xs font-medium rounded-full">Mevcut</span>
                    ` : `
                        <button onclick="terminateDevice(${device.id}, '${device.name}')" class="px-4 py-2 bg-red-500/20 hover:bg-red-500/30 text-red-400 text-sm font-medium rounded-lg transition-colors">
                            <i class="fas fa-times mr-1"></i>Çıkış Yap
                        </button>
                    `}
                </div>
            `).join('');

            document.getElementById('deviceList').innerHTML = deviceListHtml;
            document.getElementById('deviceLimitModal').classList.remove('hidden');
            document.body.style.overflow = 'hidden';
        }

        function terminateDevice(deviceId, deviceName) {
            showToast('success', `"${deviceName}" cihazından çıkış yapıldı`, 'fa-check-circle');
            closeDeviceLimitModal();
        }

        function closeDeviceLimitModal() {
            document.getElementById('deviceLimitModal').classList.add('hidden');
            document.body.style.overflow = '';
        }

        document.addEventListener('keydown', (e) => {
            if (e.key === 'Escape') { closeSessionTerminatedModal(); closeDeviceLimitModal(); }
        });
    </script>
</body>
</html>

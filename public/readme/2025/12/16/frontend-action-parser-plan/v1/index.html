<!DOCTYPE html>
<html lang="tr">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Frontend ACTION Button Parser & Auth Middleware - Implementation Plan</title>
    <script src="https://cdn.tailwindcss.com"></script>
</head>
<body class="bg-slate-900 text-slate-100 min-h-screen">
    <div class="max-w-7xl mx-auto px-4 py-16">
        <!-- Header -->
        <div class="mb-16 text-center">
            <div class="inline-flex items-center gap-2 px-4 py-2 bg-blue-500/20 border border-blue-500/30 rounded-full mb-6">
                <span class="text-blue-400 text-sm font-medium">ğŸ“‹ Implementation Plan</span>
            </div>
            <h1 class="text-5xl font-bold mb-4 bg-gradient-to-r from-blue-400 to-purple-400 bg-clip-text text-transparent">
                Frontend ACTION Button Parser
            </h1>
            <p class="text-xl text-slate-400 mb-8">
                + Auth Middleware Implementation Plan
            </p>
            <div class="grid grid-cols-3 gap-4 max-w-2xl mx-auto">
                <div class="bg-slate-800/50 rounded-lg p-4">
                    <div class="text-3xl font-bold text-blue-400">3</div>
                    <div class="text-sm text-slate-400">Ana BÃ¶lÃ¼m</div>
                </div>
                <div class="bg-slate-800/50 rounded-lg p-4">
                    <div class="text-3xl font-bold text-purple-400">12</div>
                    <div class="text-sm text-slate-400">AdÄ±m</div>
                </div>
                <div class="bg-slate-800/50 rounded-lg p-4">
                    <div class="text-3xl font-bold text-emerald-400">5</div>
                    <div class="text-sm text-slate-400">Dosya</div>
                </div>
            </div>
        </div>

        <!-- BÃ–LÃœM 1: FRONTEND ACTION PARSER -->
        <div class="mb-16">
            <h2 class="text-3xl font-bold mb-8 flex items-center gap-3">
                <span class="text-blue-400">1ï¸âƒ£</span>
                Frontend ACTION Button Parser
            </h2>

            <!-- Step 1: Parse AI Response -->
            <div class="mb-6">
                <div class="bg-gradient-to-br from-blue-900/30 to-purple-900/30 border-l-4 border-blue-500 rounded-lg p-6">
                    <h3 class="text-2xl font-semibold text-blue-400 mb-4">AdÄ±m 1.1: AI YanÄ±tÄ±nÄ± Parse Et</h3>

                    <div class="bg-slate-900/50 rounded p-6 mb-4">
                        <div class="text-slate-400 mb-3 font-semibold">ğŸ¯ AmaÃ§:</div>
                        <p class="text-slate-300 text-sm mb-4">
                            AI yanÄ±tÄ±nda <code class="text-blue-400">[ACTION:CREATE_PLAYLIST:song_ids=325,326,327:title=Rock MÃ¼zikler]</code>
                            formatÄ±ndaki ACTION button'u tespit et ve parse et
                        </p>

                        <div class="text-slate-400 mb-3 font-semibold">ğŸ“ Regex Pattern:</div>
                        <div class="bg-slate-800 rounded p-4 mb-4">
                            <code class="text-emerald-400 text-sm">
                                /\[ACTION:CREATE_PLAYLIST:song_ids=([0-9,]+):title=([^\]]+)\]/
                            </code>
                        </div>

                        <div class="text-slate-400 mb-3 font-semibold">ğŸ’» JavaScript Function:</div>
                        <div class="bg-slate-800 rounded p-4">
                            <pre class="text-emerald-400 text-sm overflow-x-auto"><code>function parseActionButton(aiResponse) {
    const regex = /\[ACTION:CREATE_PLAYLIST:song_ids=([0-9,]+):title=([^\]]+)\]/;
    const match = aiResponse.match(regex);

    if (!match) {
        return null; // No ACTION button found
    }

    return {
        type: 'CREATE_PLAYLIST',
        songIds: match[1].split(',').map(id => parseInt(id)),
        title: match[2],
        rawAction: match[0] // Original ACTION string
    };
}</code></pre>
                        </div>
                    </div>

                    <div class="bg-blue-900/20 border border-blue-500/30 rounded p-4">
                        <div class="text-blue-400 font-semibold mb-2 text-sm">ğŸ“‚ Dosya:</div>
                        <div class="text-slate-300 text-sm">
                            <code>public/themes/muzibu/js/ai-assistant.js</code> (yeni dosya)
                        </div>
                    </div>
                </div>
            </div>

            <!-- Step 2: Render Button -->
            <div class="mb-6">
                <div class="bg-gradient-to-br from-purple-900/30 to-pink-900/30 border-l-4 border-purple-500 rounded-lg p-6">
                    <h3 class="text-2xl font-semibold text-purple-400 mb-4">AdÄ±m 1.2: ACTION Button Render Et</h3>

                    <div class="bg-slate-900/50 rounded p-6 mb-4">
                        <div class="text-slate-400 mb-3 font-semibold">ğŸ¯ AmaÃ§:</div>
                        <p class="text-slate-300 text-sm mb-4">
                            Parse edilen ACTION data'sÄ±nÄ± "Playlist Olarak Kaydet" butonuna dÃ¶nÃ¼ÅŸtÃ¼r
                        </p>

                        <div class="text-slate-400 mb-3 font-semibold">ğŸ’» HTML Template:</div>
                        <div class="bg-slate-800 rounded p-4">
                            <pre class="text-emerald-400 text-sm overflow-x-auto"><code>&lt;button
    class="action-button playlist-save-btn"
    data-song-ids="325,326,327"
    data-playlist-title="Rock MÃ¼zikler"
    onclick="handlePlaylistSave(this)"&gt;
    &lt;i class="fas fa-save"&gt;&lt;/i&gt;
    Playlist Olarak Kaydet
&lt;/button&gt;</code></pre>
                        </div>
                    </div>

                    <div class="grid md:grid-cols-2 gap-4">
                        <div class="bg-purple-900/20 border border-purple-500/30 rounded p-4">
                            <div class="text-purple-400 font-semibold mb-2 text-sm">ğŸ¨ CSS Class:</div>
                            <div class="text-slate-300 text-sm space-y-1">
                                <div>â€¢ <code>.action-button</code> â†’ Base style</div>
                                <div>â€¢ <code>.playlist-save-btn</code> â†’ Specific style</div>
                                <div>â€¢ Tailwind: <code>bg-blue-600 hover:bg-blue-700</code></div>
                            </div>
                        </div>
                        <div class="bg-blue-900/20 border border-blue-500/30 rounded p-4">
                            <div class="text-blue-400 font-semibold mb-2 text-sm">ğŸ“ Pozisyon:</div>
                            <div class="text-slate-300 text-sm">
                                AI yanÄ±tÄ±nÄ±n hemen altÄ±nda, ACTION string'i gizle (display:none)
                            </div>
                        </div>
                    </div>
                </div>
            </div>

            <!-- Step 3: Button Click Handler -->
            <div class="mb-6">
                <div class="bg-gradient-to-br from-emerald-900/30 to-green-900/30 border-l-4 border-emerald-500 rounded-lg p-6">
                    <h3 class="text-2xl font-semibold text-emerald-400 mb-4">AdÄ±m 1.3: Button Click Handler</h3>

                    <div class="bg-slate-900/50 rounded p-6 mb-4">
                        <div class="text-slate-400 mb-3 font-semibold">ğŸ¯ AmaÃ§:</div>
                        <p class="text-slate-300 text-sm mb-4">
                            Butona tÄ±klandÄ±ÄŸÄ±nda auth kontrolÃ¼ yap ve playlist kaydet
                        </p>

                        <div class="text-slate-400 mb-3 font-semibold">ğŸ’» Click Handler Function:</div>
                        <div class="bg-slate-800 rounded p-4">
                            <pre class="text-emerald-400 text-sm overflow-x-auto"><code>async function handlePlaylistSave(button) {
    // 1. Get data from button
    const songIds = button.dataset.songIds.split(',').map(id => parseInt(id));
    const title = button.dataset.playlistTitle;

    // 2. Check if user is authenticated
    if (!isUserAuthenticated()) {
        showLoginModal();
        return;
    }

    // 3. Show loading state
    button.disabled = true;
    button.innerHTML = '&lt;i class="fas fa-spinner fa-spin"&gt;&lt;/i&gt; Kaydediliyor...';

    // 4. Send API request
    try {
        const response = await fetch('/api/muzibu/ai/playlist/create', {
            method: 'POST',
            headers: {
                'Content-Type': 'application/json',
                'X-CSRF-TOKEN': document.querySelector('meta[name="csrf-token"]').content
            },
            body: JSON.stringify({ title, song_ids: songIds })
        });

        const data = await response.json();

        if (data.success) {
            handlePlaylistSaveSuccess(data, button);
        } else {
            handlePlaylistSaveError(data.message, button);
        }
    } catch (error) {
        handlePlaylistSaveError('BaÄŸlantÄ± hatasÄ±', button);
    }
}</code></pre>
                        </div>
                    </div>

                    <div class="bg-emerald-900/20 border border-emerald-500/30 rounded p-4">
                        <div class="text-emerald-400 font-semibold mb-2 text-sm">âœ… Success Handler:</div>
                        <div class="text-slate-300 text-sm space-y-1">
                            <div>â€¢ Free user: "Playlist kaydedildi! Premium ile dinleyebilirsiniz" + Upgrade butonu</div>
                            <div>â€¢ Premium user: "Playlist kaydedildi ve dinlemeye hazÄ±r!" + Play butonu</div>
                        </div>
                    </div>
                </div>
            </div>
        </div>

        <!-- BÃ–LÃœM 2: BACKEND AUTH MIDDLEWARE -->
        <div class="mb-16">
            <h2 class="text-3xl font-bold mb-8 flex items-center gap-3">
                <span class="text-orange-400">2ï¸âƒ£</span>
                Backend Auth Middleware
            </h2>

            <!-- Step 2.1: Playlist Create Endpoint -->
            <div class="mb-6">
                <div class="bg-gradient-to-br from-orange-900/30 to-red-900/30 border-l-4 border-orange-500 rounded-lg p-6">
                    <h3 class="text-2xl font-semibold text-orange-400 mb-4">AdÄ±m 2.1: Playlist Create Endpoint Auth</h3>

                    <div class="bg-slate-900/50 rounded p-6 mb-4">
                        <div class="text-slate-400 mb-3 font-semibold">ğŸ¯ AmaÃ§:</div>
                        <p class="text-slate-300 text-sm mb-4">
                            Playlist create endpoint'ine auth middleware ekle
                        </p>

                        <div class="text-slate-400 mb-3 font-semibold">ğŸ“ Route Update:</div>
                        <div class="bg-slate-800 rounded p-4 mb-4">
                            <pre class="text-orange-400 text-sm overflow-x-auto"><code>// Modules/Muzibu/routes/api.php

// âŒ Ã–NCE (Auth yok):
Route::post('/ai/playlist/create', [PlaylistController::class, 'createFromAI']);

// âœ… SONRA (Auth var):
Route::post('/ai/playlist/create', [PlaylistController::class, 'createFromAI'])
    ->middleware(['auth:sanctum']); // veya 'auth:web'
</code></pre>
                        </div>

                        <div class="text-slate-400 mb-3 font-semibold">ğŸ’» Controller Method:</div>
                        <div class="bg-slate-800 rounded p-4">
                            <pre class="text-emerald-400 text-sm overflow-x-auto"><code>public function createFromAI(Request $request): JsonResponse
{
    // 1. Validate
    $validated = $request->validate([
        'title' => 'required|string|max:255',
        'song_ids' => 'required|array|min:1',
        'song_ids.*' => 'required|integer|exists:songs,id',
    ]);

    // 2. Create playlist for authenticated user
    $playlist = Playlist::create([
        'user_id' => auth()->id(), // Authenticated user
        'title' => ['tr' => $validated['title']],
        'is_active' => true,
    ]);

    // 3. Attach songs
    $playlist->songs()->attach($validated['song_ids']);

    // 4. Check if user is premium
    $isPremium = $this->checkUserPremium(auth()->id());

    return response()->json([
        'success' => true,
        'playlist_id' => $playlist->id,
        'playlist_url' => route('muzibu.playlist.show', $playlist->slug),
        'can_play' => $isPremium, // Premium users can play immediately
        'message' => $isPremium
            ? 'Playlist kaydedildi ve dinlemeye hazÄ±r!'
            : 'Playlist kaydedildi! Premium ile dinleyebilirsiniz.',
    ]);
}</code></pre>
                        </div>
                    </div>

                    <div class="bg-orange-900/20 border border-orange-500/30 rounded p-4">
                        <div class="text-orange-400 font-semibold mb-2 text-sm">ğŸ“‚ Dosya:</div>
                        <div class="text-slate-300 text-sm">
                            <code>Modules/Muzibu/app/Http/Controllers/Api/PlaylistController.php</code>
                        </div>
                    </div>
                </div>
            </div>

            <!-- Step 2.2: Premium Check Helper -->
            <div class="mb-6">
                <div class="bg-gradient-to-br from-yellow-900/30 to-orange-900/30 border-l-4 border-yellow-500 rounded-lg p-6">
                    <h3 class="text-2xl font-semibold text-yellow-400 mb-4">AdÄ±m 2.2: Premium Check Helper</h3>

                    <div class="bg-slate-900/50 rounded p-6 mb-4">
                        <div class="text-slate-400 mb-3 font-semibold">ğŸ¯ AmaÃ§:</div>
                        <p class="text-slate-300 text-sm mb-4">
                            User'Ä±n Premium subscription'Ä± olup olmadÄ±ÄŸÄ±nÄ± kontrol et
                        </p>

                        <div class="text-slate-400 mb-3 font-semibold">ğŸ’» Helper Method:</div>
                        <div class="bg-slate-800 rounded p-4">
                            <pre class="text-emerald-400 text-sm overflow-x-auto"><code>protected function checkUserPremium(int $userId): bool
{
    // Check if user has active premium subscription
    $subscription = \DB::connection('central')
        ->table('subscriptions')
        ->where('user_id', $userId)
        ->where('status', 'active')
        ->where('ends_at', '>', now())
        ->first();

    return $subscription !== null;
}</code></pre>
                        </div>
                    </div>

                    <div class="bg-yellow-900/20 border border-yellow-500/30 rounded p-4">
                        <div class="text-yellow-400 font-semibold mb-2 text-sm">ğŸ’¡ Not:</div>
                        <div class="text-slate-300 text-sm">
                            Subscription tablosu <strong>central database</strong>'de olduÄŸu iÃ§in
                            <code>DB::connection('central')</code> kullanÄ±lmalÄ±
                        </div>
                    </div>
                </div>
            </div>

            <!-- Step 2.3: Music Playback Auth -->
            <div class="mb-6">
                <div class="bg-gradient-to-br from-red-900/30 to-pink-900/30 border-l-4 border-red-500 rounded-lg p-6">
                    <h3 class="text-2xl font-semibold text-red-400 mb-4">AdÄ±m 2.3: Music Playback Auth (Premium Only)</h3>

                    <div class="bg-slate-900/50 rounded p-6 mb-4">
                        <div class="text-slate-400 mb-3 font-semibold">ğŸ¯ AmaÃ§:</div>
                        <p class="text-slate-300 text-sm mb-4">
                            MÃ¼zik Ã§alma endpoint'lerine Premium kontrolÃ¼ ekle
                        </p>

                        <div class="text-slate-400 mb-3 font-semibold">ğŸ“ Custom Middleware:</div>
                        <div class="bg-slate-800 rounded p-4 mb-4">
                            <pre class="text-red-400 text-sm overflow-x-auto"><code>// app/Http/Middleware/CheckPremiumSubscription.php

namespace App\Http\Middleware;

class CheckPremiumSubscription
{
    public function handle($request, Closure $next)
    {
        if (!auth()->check()) {
            return response()->json([
                'success' => false,
                'message' => 'LÃ¼tfen giriÅŸ yapÄ±n',
                'error_code' => 'AUTH_REQUIRED'
            ], 401);
        }

        $hasPremium = $this->checkPremiumSubscription(auth()->id());

        if (!$hasPremium) {
            return response()->json([
                'success' => false,
                'message' => 'Bu Ã¶zellik Premium Ã¼yelere Ã¶zeldir',
                'error_code' => 'PREMIUM_REQUIRED',
                'upgrade_url' => route('subscription.plans')
            ], 403);
        }

        return $next($request);
    }
}</code></pre>
                        </div>

                        <div class="text-slate-400 mb-3 font-semibold">ğŸ“ Route Update:</div>
                        <div class="bg-slate-800 rounded p-4">
                            <pre class="text-emerald-400 text-sm overflow-x-auto"><code>// Modules/Muzibu/routes/api.php

Route::middleware(['auth:sanctum', 'check.premium'])->group(function() {
    Route::post('/ai/play/{type}/{id}', [PlayController::class, 'play']);
    Route::post('/ai/queue/add', [PlayController::class, 'addToQueue']);
});</code></pre>
                        </div>
                    </div>

                    <div class="bg-red-900/20 border border-red-500/30 rounded p-4">
                        <div class="text-red-400 font-semibold mb-2 text-sm">ğŸš¨ Premium Required:</div>
                        <div class="text-slate-300 text-sm space-y-1">
                            <div>â€¢ ÅarkÄ± Ã§alma</div>
                            <div>â€¢ Playlist dinleme</div>
                            <div>â€¢ Queue yÃ¶netimi</div>
                        </div>
                    </div>
                </div>
            </div>
        </div>

        <!-- BÃ–LÃœM 3: FRONTEND UX -->
        <div class="mb-16">
            <h2 class="text-3xl font-bold mb-8 flex items-center gap-3">
                <span class="text-purple-400">3ï¸âƒ£</span>
                Frontend UX & Error Handling
            </h2>

            <!-- Step 3.1: Auth Check -->
            <div class="mb-6">
                <div class="bg-gradient-to-br from-blue-900/30 to-indigo-900/30 border-l-4 border-blue-500 rounded-lg p-6">
                    <h3 class="text-2xl font-semibold text-blue-400 mb-4">AdÄ±m 3.1: Frontend Auth Check</h3>

                    <div class="bg-slate-900/50 rounded p-6 mb-4">
                        <div class="text-slate-400 mb-3 font-semibold">ğŸ¯ AmaÃ§:</div>
                        <p class="text-slate-300 text-sm mb-4">
                            Button tÄ±klandÄ±ÄŸÄ±nda Ã¶nce frontend'de auth kontrolÃ¼ yap
                        </p>

                        <div class="text-slate-400 mb-3 font-semibold">ğŸ’» Auth Check Function:</div>
                        <div class="bg-slate-800 rounded p-4">
                            <pre class="text-blue-400 text-sm overflow-x-auto"><code>function isUserAuthenticated() {
    // Laravel Blade'den gelen global variable
    return typeof window.isAuthenticated !== 'undefined' && window.isAuthenticated === true;
}

function isPremiumUser() {
    return typeof window.isPremium !== 'undefined' && window.isPremium === true;
}

// Blade template'de:
&lt;script&gt;
    window.isAuthenticated = @json(auth()->check());
    window.isPremium = @json(auth()->check() && auth()->user()->hasPremiumSubscription());
&lt;/script&gt;</code></pre>
                        </div>
                    </div>
                </div>
            </div>

            <!-- Step 3.2: Error Messages -->
            <div class="mb-6">
                <div class="bg-gradient-to-br from-purple-900/30 to-violet-900/30 border-l-4 border-purple-500 rounded-lg p-6">
                    <h3 class="text-2xl font-semibold text-purple-400 mb-4">AdÄ±m 3.2: Error & Success Messages</h3>

                    <div class="bg-slate-900/50 rounded p-6 mb-4">
                        <div class="grid md:grid-cols-3 gap-4">
                            <!-- Guest User -->
                            <div class="bg-red-900/20 border border-red-500/30 rounded p-4">
                                <div class="text-red-400 font-semibold mb-2 text-sm">âŒ Guest User:</div>
                                <div class="text-slate-300 text-sm space-y-2">
                                    <div><strong>Mesaj:</strong> "Playlist kaydetmek iÃ§in giriÅŸ yapmalÄ±sÄ±nÄ±z"</div>
                                    <div><strong>Button:</strong> "GiriÅŸ Yap" â†’ Login modal</div>
                                </div>
                            </div>

                            <!-- Free User -->
                            <div class="bg-yellow-900/20 border border-yellow-500/30 rounded p-4">
                                <div class="text-yellow-400 font-semibold mb-2 text-sm">âš ï¸ Free User:</div>
                                <div class="text-slate-300 text-sm space-y-2">
                                    <div><strong>Mesaj:</strong> "Playlist kaydedildi! Premium ile dinleyebilirsiniz"</div>
                                    <div><strong>Button:</strong> "Premium'a GeÃ§" â†’ Upgrade page</div>
                                </div>
                            </div>

                            <!-- Premium User -->
                            <div class="bg-emerald-900/20 border border-emerald-500/30 rounded p-4">
                                <div class="text-emerald-400 font-semibold mb-2 text-sm">âœ… Premium User:</div>
                                <div class="text-slate-300 text-sm space-y-2">
                                    <div><strong>Mesaj:</strong> "Playlist kaydedildi ve dinlemeye hazÄ±r!"</div>
                                    <div><strong>Button:</strong> "Åimdi Dinle" â†’ Play playlist</div>
                                </div>
                            </div>
                        </div>
                    </div>

                    <div class="bg-slate-800 rounded p-4">
                        <div class="text-slate-400 mb-3 font-semibold text-sm">ğŸ’» Message Handler:</div>
                        <pre class="text-purple-400 text-sm overflow-x-auto"><code>function handlePlaylistSaveSuccess(data, button) {
    if (data.can_play) {
        // Premium user
        showSuccessMessage(
            data.message,
            `&lt;a href="${data.playlist_url}" class="btn btn-primary"&gt;Åimdi Dinle&lt;/a&gt;`
        );
    } else {
        // Free user
        showSuccessMessage(
            data.message,
            `&lt;a href="/subscription/plans" class="btn btn-warning"&gt;Premium'a GeÃ§&lt;/a&gt;`
        );
    }

    // Hide original button
    button.style.display = 'none';
}</code></pre>
                    </div>
                </div>
            </div>

            <!-- Step 3.3: Toast Notifications -->
            <div class="mb-6">
                <div class="bg-gradient-to-br from-emerald-900/30 to-teal-900/30 border-l-4 border-emerald-500 rounded-lg p-6">
                    <h3 class="text-2xl font-semibold text-emerald-400 mb-4">AdÄ±m 3.3: Toast Notification System</h3>

                    <div class="bg-slate-900/50 rounded p-6">
                        <div class="text-slate-400 mb-3 font-semibold">ğŸ¯ AmaÃ§:</div>
                        <p class="text-slate-300 text-sm mb-4">
                            Toast notification ile user'a feedback ver
                        </p>

                        <div class="text-slate-400 mb-3 font-semibold">ğŸ’» Toast Helper:</div>
                        <div class="bg-slate-800 rounded p-4">
                            <pre class="text-emerald-400 text-sm overflow-x-auto"><code>function showToast(message, type = 'success', action = null) {
    // Alpine.js veya vanilla JS ile toast gÃ¶ster
    const toast = document.createElement('div');
    toast.className = `toast toast-${type}`;
    toast.innerHTML = `
        &lt;div class="toast-content"&gt;
            &lt;span class="toast-icon"&gt;${getToastIcon(type)}&lt;/span&gt;
            &lt;span class="toast-message"&gt;${message}&lt;/span&gt;
            ${action ? `&lt;div class="toast-action"&gt;${action}&lt;/div&gt;` : ''}
        &lt;/div&gt;
    `;

    document.body.appendChild(toast);

    setTimeout(() => {
        toast.classList.add('toast-show');
    }, 100);

    setTimeout(() => {
        toast.classList.remove('toast-show');
        setTimeout(() => toast.remove(), 300);
    }, 5000);
}</code></pre>
                        </div>
                    </div>
                </div>
            </div>
        </div>

        <!-- IMPLEMENTATION CHECKLIST -->
        <div class="mb-16">
            <h2 class="text-3xl font-bold mb-8 flex items-center gap-3">
                <span class="text-emerald-400">âœ…</span>
                Implementation Checklist
            </h2>

            <div class="grid gap-4">
                <!-- Frontend -->
                <div class="bg-blue-900/20 border-l-4 border-blue-500 rounded-lg p-6">
                    <h3 class="text-xl font-semibold text-blue-400 mb-4">Frontend (5 Dosya)</h3>
                    <div class="space-y-2 text-sm">
                        <div class="flex items-center gap-2">
                            <input type="checkbox" class="w-4 h-4">
                            <span class="text-slate-300"><code>public/themes/muzibu/js/ai-assistant.js</code> - Parser & handler</span>
                        </div>
                        <div class="flex items-center gap-2">
                            <input type="checkbox" class="w-4 h-4">
                            <span class="text-slate-300"><code>public/themes/muzibu/css/ai-assistant.css</code> - Button styles</span>
                        </div>
                        <div class="flex items-center gap-2">
                            <input type="checkbox" class="w-4 h-4">
                            <span class="text-slate-300"><code>resources/views/themes/muzibu/layouts/app.blade.php</code> - Global JS variables</span>
                        </div>
                        <div class="flex items-center gap-2">
                            <input type="checkbox" class="w-4 h-4">
                            <span class="text-slate-300">Toast notification system</span>
                        </div>
                        <div class="flex items-center gap-2">
                            <input type="checkbox" class="w-4 h-4">
                            <span class="text-slate-300">Login modal integration</span>
                        </div>
                    </div>
                </div>

                <!-- Backend -->
                <div class="bg-orange-900/20 border-l-4 border-orange-500 rounded-lg p-6">
                    <h3 class="text-xl font-semibold text-orange-400 mb-4">Backend (4 Dosya)</h3>
                    <div class="space-y-2 text-sm">
                        <div class="flex items-center gap-2">
                            <input type="checkbox" class="w-4 h-4">
                            <span class="text-slate-300"><code>Modules/Muzibu/routes/api.php</code> - Auth middleware ekle</span>
                        </div>
                        <div class="flex items-center gap-2">
                            <input type="checkbox" class="w-4 h-4">
                            <span class="text-slate-300"><code>Modules/Muzibu/app/Http/Controllers/Api/PlaylistController.php</code> - createFromAI method</span>
                        </div>
                        <div class="flex items-center gap-2">
                            <input type="checkbox" class="w-4 h-4">
                            <span class="text-slate-300"><code>app/Http/Middleware/CheckPremiumSubscription.php</code> - Premium middleware</span>
                        </div>
                        <div class="flex items-center gap-2">
                            <input type="checkbox" class="w-4 h-4">
                            <span class="text-slate-300"><code>app/Http/Kernel.php</code> - Middleware register</span>
                        </div>
                    </div>
                </div>

                <!-- Testing -->
                <div class="bg-emerald-900/20 border-l-4 border-emerald-500 rounded-lg p-6">
                    <h3 class="text-xl font-semibold text-emerald-400 mb-4">Testing (6 Senaryo)</h3>
                    <div class="space-y-2 text-sm">
                        <div class="flex items-center gap-2">
                            <input type="checkbox" class="w-4 h-4">
                            <span class="text-slate-300">Guest user â†’ "GiriÅŸ yapmalÄ±sÄ±nÄ±z" mesajÄ±</span>
                        </div>
                        <div class="flex items-center gap-2">
                            <input type="checkbox" class="w-4 h-4">
                            <span class="text-slate-300">Free user â†’ Playlist kaydedildi + "Premium'a geÃ§" butonu</span>
                        </div>
                        <div class="flex items-center gap-2">
                            <input type="checkbox" class="w-4 h-4">
                            <span class="text-slate-300">Premium user â†’ Playlist kaydedildi + "Åimdi dinle" butonu</span>
                        </div>
                        <div class="flex items-center gap-2">
                            <input type="checkbox" class="w-4 h-4">
                            <span class="text-slate-300">Free user mÃ¼zik Ã§almaya Ã§alÄ±ÅŸÄ±rsa â†’ "Premium gerekli" hatasÄ±</span>
                        </div>
                        <div class="flex items-center gap-2">
                            <input type="checkbox" class="w-4 h-4">
                            <span class="text-slate-300">ACTION button parse testi (regex)</span>
                        </div>
                        <div class="flex items-center gap-2">
                            <input type="checkbox" class="w-4 h-4">
                            <span class="text-slate-300">API endpoint auth testi</span>
                        </div>
                    </div>
                </div>
            </div>
        </div>

        <!-- DOSYA HARÄ°TASI -->
        <div class="mb-16">
            <h2 class="text-3xl font-bold mb-8 flex items-center gap-3">
                <span class="text-purple-400">ğŸ“‚</span>
                Dosya HaritasÄ±
            </h2>

            <div class="grid md:grid-cols-2 gap-6">
                <!-- Frontend Files -->
                <div class="bg-slate-800/50 rounded-lg p-6">
                    <h3 class="text-lg font-semibold text-blue-400 mb-4">Frontend Files</h3>
                    <div class="space-y-2 text-sm">
                        <div class="bg-slate-900/50 rounded p-3">
                            <div class="text-blue-400 font-mono mb-1">ai-assistant.js</div>
                            <div class="text-slate-400 text-xs">Parse, render, click handler</div>
                        </div>
                        <div class="bg-slate-900/50 rounded p-3">
                            <div class="text-blue-400 font-mono mb-1">ai-assistant.css</div>
                            <div class="text-slate-400 text-xs">Button styles, toast styles</div>
                        </div>
                        <div class="bg-slate-900/50 rounded p-3">
                            <div class="text-blue-400 font-mono mb-1">app.blade.php</div>
                            <div class="text-slate-400 text-xs">Global JS variables (auth, premium)</div>
                        </div>
                    </div>
                </div>

                <!-- Backend Files -->
                <div class="bg-slate-800/50 rounded-lg p-6">
                    <h3 class="text-lg font-semibold text-orange-400 mb-4">Backend Files</h3>
                    <div class="space-y-2 text-sm">
                        <div class="bg-slate-900/50 rounded p-3">
                            <div class="text-orange-400 font-mono mb-1">api.php</div>
                            <div class="text-slate-400 text-xs">Route middleware updates</div>
                        </div>
                        <div class="bg-slate-900/50 rounded p-3">
                            <div class="text-orange-400 font-mono mb-1">PlaylistController.php</div>
                            <div class="text-slate-400 text-xs">createFromAI method</div>
                        </div>
                        <div class="bg-slate-900/50 rounded p-3">
                            <div class="text-orange-400 font-mono mb-1">CheckPremiumSubscription.php</div>
                            <div class="text-slate-400 text-xs">Premium middleware (new)</div>
                        </div>
                    </div>
                </div>
            </div>
        </div>

        <!-- Footer -->
        <div class="mt-16 pt-8 border-t border-slate-700 text-center text-slate-400 text-sm">
            <p>ğŸ¯ Frontend ACTION Button Parser & Auth Middleware Plan</p>
            <p class="mt-2">Muzibu AI Assistant â€¢ 16 AralÄ±k 2025</p>
        </div>
    </div>
</body>
</html>

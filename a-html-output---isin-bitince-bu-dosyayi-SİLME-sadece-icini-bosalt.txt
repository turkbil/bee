<div x-show="chat.floatingOpen" x-transition:enter="transition ease-out duration-500" x-transition:enter-start="opacity-0 translate-y-4 scale-95" x-transition:enter-end="opacity-100 translate-y-0 scale-100" x-transition:leave="transition ease-in duration-300" x-transition:leave-start="opacity-100 translate-y-0 scale-100" x-transition:leave-end="opacity-0 translate-y-4 scale-95" :style="{
            height: (expanded || chat.hasConversation) ? '600px' : '420px',
            transition: 'height 0.4s ease-in-out',
            maxHeight: 'calc(100vh - 120px)'
        }" class="bg-white dark:bg-gray-800 rounded-2xl shadow-2xl w-96 flex flex-col overflow-hidden border border-gray-200 dark:border-gray-700" style="height: 600px; transition: height 0.4s ease-in-out; max-height: calc(-120px + 100vh);">

        <div class="bg-gradient-to-br from-indigo-600 via-purple-600 to-pink-600 text-white px-6 py-4 flex items-center justify-between">
            <div class="flex items-center gap-3">
                <div class="w-10 h-10 bg-white/20 rounded-full flex items-center justify-center backdrop-blur-sm">
                    <svg class="w-6 h-6" fill="currentColor" viewBox="0 0 20 20">
                        <path d="M2 5a2 2 0 012-2h7a2 2 0 012 2v4a2 2 0 01-2 2H9l-3 3v-3H4a2 2 0 01-2-2V5z"></path>
                        <path d="M15 7v2a4 4 0 01-4 4H9.828l-1.766 1.767c.28.149.599.233.938.233h2l3 3v-3h2a2 2 0 002-2V9a2 2 0 00-2-2h-1z"></path>
                    </svg>
                </div>
                <div>
                    <h3 class="font-semibold text-lg" x-text="chat.assistantName">iXtif Yapay Zeka Asistanı</h3>
                    <div class="flex items-center gap-1.5">
                        <span class="w-2 h-2 bg-green-400 rounded-full animate-pulse"></span>
                        <p class="text-xs text-white/80">Online</p>
                    </div>
                </div>
            </div>
            <div class="flex items-center gap-2">

                <button @click="chat.closeFloating()" class="p-2 hover:bg-white/10 rounded-lg transition" title="Kapat">
                    <svg class="w-5 h-5" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                        <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M6 18L18 6M6 6l12 12"></path>
                    </svg>
                </button>
            </div>
        </div>


        <div x-show="!chat.hasConversation" x-transition:enter="transition-all ease-out duration-400" x-transition:enter-start="opacity-0 translate-y-2" x-transition:enter-end="opacity-100 translate-y-0" x-transition:leave="transition-all ease-in duration-300" x-transition:leave-start="opacity-100 translate-y-0" x-transition:leave-end="opacity-0 -translate-y-2" class="flex-1 flex items-center justify-center p-6 bg-gradient-to-br from-blue-50 to-indigo-50 dark:from-gray-900 dark:to-gray-800 border-b border-gray-200 dark:border-gray-700" x-data="{
                suggestions: [
                    'Ürün özellikleri',
                    'Stok durumu',
                    'Fiyat bilgisi',
                    'Hızlı öneri',
                    'Karşılaştırma',
                    'En iyiler'
                ],
                currentSuggestion: 0,
                init() {
                    setInterval(() =&gt; {
                        this.currentSuggestion = (this.currentSuggestion + 1) % this.suggestions.length;
                    }, 2000);
                }
            }" style="display: none;">
            <div class="text-center">

                <div class="relative inline-block mb-4">

                    <div class="absolute inset-0 flex items-center justify-center">
                        <div class="w-20 h-20 bg-blue-400 rounded-full opacity-20 animate-ping-slow"></div>
                    </div>
                    <div class="absolute inset-0 flex items-center justify-center">
                        <div class="w-16 h-16 bg-blue-500 rounded-full opacity-30 animate-pulse-slow"></div>
                    </div>


                    <div class="relative inline-flex items-center justify-center w-16 h-16 bg-gradient-to-br from-blue-500 to-indigo-600 rounded-full shadow-lg animate-bounce-subtle">
                        <svg class="w-8 h-8 text-white animate-wiggle-subtle" fill="currentColor" viewBox="0 0 20 20">
                            <path d="M2 5a2 2 0 012-2h7a2 2 0 012 2v4a2 2 0 01-2 2H9l-3 3v-3H4a2 2 0 01-2-2V5z"></path>
                            <path d="M15 7v2a4 4 0 01-4 4H9.828l-1.766 1.767c.28.149.599.233.938.233h2l3 3v-3h2a2 2 0 002-2V9a2 2 0 00-2-2h-1z"></path>
                        </svg>
                    </div>
                </div>


                <h4 class="text-lg font-bold text-gray-800 dark:text-white mb-2 animate-fade-in-up">
                    Merhaba! 👋
                </h4>
                <p class="text-sm text-gray-600 dark:text-gray-300 mb-3 animate-fade-in-up animation-delay-100">
                    Size nasıl yardımcı olabilirim?
                </p>


                <div class="h-6 flex items-center justify-center">
                    <p x-data="{
                            currentText: 'Ürün özellikleri',
                            fading: false,
                            suggestionsList: [
                                'Ürün özellikleri',
                                'Stok durumu',
                                'Fiyat bilgisi',
                                'Hızlı öneri',
                                'Karşılaştırma',
                                'En iyiler'
                            ],
                            currentIndex: 0,
                            init() {
                                setInterval(() =&gt; {
                                    // Fade out
                                    this.fading = true;

                                    // Change text after fade out completes
                                    setTimeout(() =&gt; {
                                        this.currentIndex = (this.currentIndex + 1) % this.suggestionsList.length;
                                        this.currentText = this.suggestionsList[this.currentIndex];

                                        // Fade in
                                        setTimeout(() =&gt; {
                                            this.fading = false;
                                        }, 50);
                                    }, 250);
                                }, 2500);
                            }
                        }" :class="{ 'opacity-0': fading, 'opacity-100': !fading }" class="text-sm text-gray-600 dark:text-gray-300 text-center transition-opacity duration-250 opacity-100" x-text="currentText">Karşılaştırma</p>
                </div>
            </div>
        </div>


        <div x-show="chat.hasConversation" x-transition:enter="transition-all ease-out duration-400" x-transition:enter-start="opacity-0 translate-y-4" x-transition:enter-end="opacity-100 translate-y-0" x-transition:leave="transition-all ease-in duration-300" x-transition:leave-start="opacity-100 translate-y-0" x-transition:leave-end="opacity-0 translate-y-4" data-ai-chat-messages="" class="flex-1 overflow-y-auto px-6 py-4 space-y-4 bg-gray-50 dark:bg-gray-900">

            <template x-for="(msg, index) in chat.messages" :key="index">
                <div :class="{
                        'flex justify-end': msg.role === 'user',
                        'flex justify-start': msg.role !== 'user'
                    }">
                    <div :class="{
                            'bg-gradient-to-br from-blue-500 to-blue-600 dark:from-blue-600 dark:to-blue-700': msg.role === 'user',
                            'bg-white dark:bg-gray-800 border border-gray-200 dark:border-gray-700': msg.role === 'assistant',
                            'bg-yellow-50 dark:bg-yellow-900/20 border border-yellow-300 dark:border-yellow-700': msg.role === 'system',
                            'bg-red-50 dark:bg-red-900/20 border border-red-300 dark:border-red-700': msg.isError
                        }" class="max-w-[80%] rounded-2xl px-4 py-3 shadow-sm">
                        <div :class="{
                                'text-white [&amp;_*]:!text-white': msg.role === 'user',
                                'text-gray-800 dark:text-white dark:[&amp;_*]:!text-white': msg.role === 'assistant',
                                'text-yellow-800 dark:text-white dark:[&amp;_*]:!text-white': msg.role === 'system',
                                'text-red-800 dark:text-white dark:[&amp;_*]:!text-white': msg.isError
                            }" :data-role="msg.role" class="text-sm prose prose-sm max-w-none dark:prose-invert ai-floating-message-content" x-html="window.aiChatRenderMarkdown(msg.content)"></div>
                        <p :class="{
                                'text-white opacity-80': msg.role === 'user',
                                'text-gray-500 dark:text-gray-400': msg.role === 'assistant',
                                'text-yellow-700 dark:text-yellow-300': msg.role === 'system',
                                'text-red-700 dark:text-red-300': msg.isError
                            }" class="text-xs mt-1" x-text="new Date(msg.created_at).toLocaleTimeString('tr-TR', { hour: '2-digit', minute: '2-digit' })"></p>
                    </div>
                </div>
            </template><div :class="{
                        'flex justify-end': msg.role === 'user',
                        'flex justify-start': msg.role !== 'user'
                    }" class="flex justify-end">
                    <div :class="{
                            'bg-gradient-to-br from-blue-500 to-blue-600 dark:from-blue-600 dark:to-blue-700': msg.role === 'user',
                            'bg-white dark:bg-gray-800 border border-gray-200 dark:border-gray-700': msg.role === 'assistant',
                            'bg-yellow-50 dark:bg-yellow-900/20 border border-yellow-300 dark:border-yellow-700': msg.role === 'system',
                            'bg-red-50 dark:bg-red-900/20 border border-red-300 dark:border-red-700': msg.isError
                        }" class="max-w-[80%] rounded-2xl px-4 py-3 shadow-sm bg-gradient-to-br from-blue-500 to-blue-600 dark:from-blue-600 dark:to-blue-700">
                        <div :class="{
                                'text-white [&amp;_*]:!text-white': msg.role === 'user',
                                'text-gray-800 dark:text-white dark:[&amp;_*]:!text-white': msg.role === 'assistant',
                                'text-yellow-800 dark:text-white dark:[&amp;_*]:!text-white': msg.role === 'system',
                                'text-red-800 dark:text-white dark:[&amp;_*]:!text-white': msg.isError
                            }" :data-role="msg.role" class="text-sm prose prose-sm max-w-none dark:prose-invert ai-floating-message-content text-white [&amp;_*]:!text-white" x-html="window.aiChatRenderMarkdown(msg.content)" data-role="user"><p class="mb-5 text-gray-800 dark:text-gray-200 leading-relaxed">2 ton kaldırma kapasitesi olacak Elektrikli transpalet teknik özellikler operatör için kullanım kolaylıkları çünkü direkt satın alacak kişi kullanacak cezbetmesi gerekiyor</p></div>
                        <p :class="{
                                'text-white opacity-80': msg.role === 'user',
                                'text-gray-500 dark:text-gray-400': msg.role === 'assistant',
                                'text-yellow-700 dark:text-yellow-300': msg.role === 'system',
                                'text-red-700 dark:text-red-300': msg.isError
                            }" class="text-xs mt-1 text-white opacity-80" x-text="new Date(msg.created_at).toLocaleTimeString('tr-TR', { hour: '2-digit', minute: '2-digit' })">16:16</p>
                    </div>
                </div><div :class="{
                        'flex justify-end': msg.role === 'user',
                        'flex justify-start': msg.role !== 'user'
                    }" class="flex justify-start">
                    <div :class="{
                            'bg-gradient-to-br from-blue-500 to-blue-600 dark:from-blue-600 dark:to-blue-700': msg.role === 'user',
                            'bg-white dark:bg-gray-800 border border-gray-200 dark:border-gray-700': msg.role === 'assistant',
                            'bg-yellow-50 dark:bg-yellow-900/20 border border-yellow-300 dark:border-yellow-700': msg.role === 'system',
                            'bg-red-50 dark:bg-red-900/20 border border-red-300 dark:border-red-700': msg.isError
                        }" class="max-w-[80%] rounded-2xl px-4 py-3 shadow-sm bg-white dark:bg-gray-800 border border-gray-200 dark:border-gray-700">
                        <div :class="{
                                'text-white [&amp;_*]:!text-white': msg.role === 'user',
                                'text-gray-800 dark:text-white dark:[&amp;_*]:!text-white': msg.role === 'assistant',
                                'text-yellow-800 dark:text-white dark:[&amp;_*]:!text-white': msg.role === 'system',
                                'text-red-800 dark:text-white dark:[&amp;_*]:!text-white': msg.isError
                            }" :data-role="msg.role" class="text-sm prose prose-sm max-w-none dark:prose-invert ai-floating-message-content text-gray-800 dark:text-white dark:[&amp;_*]:!text-white" x-html="window.aiChatRenderMarkdown(msg.content)" data-role="assistant"><p class="mb-5 text-gray-800 dark:text-gray-200 leading-relaxed">Tabii! 2 ton kaldırma kapasitesine sahip elektrikli transpaletler, operatörler için birçok avantaj sunar. İşte dikkat çeken teknik özellikleri ve kullanım kolaylıkları: - <strong class="font-bold text-gray-900 dark:text-white">Kapasite:</strong> 200 kg taşıma kapasitesi ile ağır yükleri kolayca taşıma imkanı. - <strong class="font-bold text-gray-900 dark:text-white">Akü Tipi:</strong> Genellikle lityum ion veya kurşun asit akülerle donatılmıştır. Lityum ion aküler, daha uzun ömürlüdür ve daha hızlı şarj olabilir. - <strong class="font-bold text-gray-900 dark:text-white">Kaldırma Yüksekliği:</strong> Genellikle 200 mm ile 210 mm arasında, paletleri zemin seviyesinden kaldırarak kolay taşıma sağlar. - <strong class="font-bold text-gray-900 dark:text-white">Hafif ve Kompakt Tasarım:</strong> Dar alanlarda manevra kabiliyeti yüksek, bu da operatörlerin dar koridorlarda bile rahatça çalışabilmesini sağlar. - <strong class="font-bold text-gray-900 dark:text-white">Kullanım Kolaylığı:</strong> Ergonomik tasarımlı kontrol kolları ve pedal sistemi ile operatör yorgunluğunu azaltır.</p>
<p class="mb-5 text-gray-800 dark:text-gray-200 leading-relaxed">Düşük sürtünme ile hareket etmek, iş verimliliğini artırır. - <strong class="font-bold text-gray-900 dark:text-white">Güvenlik Özellikleri:</strong> Acil durdurma butonu, geri görüş sensörleri ve yük dengeleme sistemleri, operatör güvenliğini artırır. - <strong class="font-bold text-gray-900 dark:text-white">Yükseklik Ayarı:</strong> Yükseklik ayarı sayesinde, farklı yüksekliklerdeki paletlerle çalışma imkanı. - <strong class="font-bold text-gray-900 dark:text-white">Düşük Bakım Maliyeti:</strong> Elektrikli sistem, mekanik aksamdan daha az aşınma yaşar, bu da bakım maliyetlerini düşürür. Bu özellikler, elektrikli transpaletlerin operatörler için ne kadar cazip olduğunu gösteriyor. İş verimliliği artırırken, aynı zamanda güvenli ve konforlu bir çalışma ortamı sağlar. Daha fazla bilgi veya ürün önerisi isterseniz, yardımcı olmaktan mutluluk duyarım! 😊</p></div>
                        <p :class="{
                                'text-white opacity-80': msg.role === 'user',
                                'text-gray-500 dark:text-gray-400': msg.role === 'assistant',
                                'text-yellow-700 dark:text-yellow-300': msg.role === 'system',
                                'text-red-700 dark:text-red-300': msg.isError
                            }" class="text-xs mt-1 text-gray-500 dark:text-gray-400" x-text="new Date(msg.created_at).toLocaleTimeString('tr-TR', { hour: '2-digit', minute: '2-digit' })">16:16</p>
                    </div>
                </div><div :class="{
                        'flex justify-end': msg.role === 'user',
                        'flex justify-start': msg.role !== 'user'
                    }" class="flex justify-end">
                    <div :class="{
                            'bg-gradient-to-br from-blue-500 to-blue-600 dark:from-blue-600 dark:to-blue-700': msg.role === 'user',
                            'bg-white dark:bg-gray-800 border border-gray-200 dark:border-gray-700': msg.role === 'assistant',
                            'bg-yellow-50 dark:bg-yellow-900/20 border border-yellow-300 dark:border-yellow-700': msg.role === 'system',
                            'bg-red-50 dark:bg-red-900/20 border border-red-300 dark:border-red-700': msg.isError
                        }" class="max-w-[80%] rounded-2xl px-4 py-3 shadow-sm bg-gradient-to-br from-blue-500 to-blue-600 dark:from-blue-600 dark:to-blue-700">
                        <div :class="{
                                'text-white [&amp;_*]:!text-white': msg.role === 'user',
                                'text-gray-800 dark:text-white dark:[&amp;_*]:!text-white': msg.role === 'assistant',
                                'text-yellow-800 dark:text-white dark:[&amp;_*]:!text-white': msg.role === 'system',
                                'text-red-800 dark:text-white dark:[&amp;_*]:!text-white': msg.isError
                            }" :data-role="msg.role" class="text-sm prose prose-sm max-w-none dark:prose-invert ai-floating-message-content text-white [&amp;_*]:!text-white" x-html="window.aiChatRenderMarkdown(msg.content)" data-role="user"><p class="mb-5 text-gray-800 dark:text-gray-200 leading-relaxed">hangi ürünler olsun</p></div>
                        <p :class="{
                                'text-white opacity-80': msg.role === 'user',
                                'text-gray-500 dark:text-gray-400': msg.role === 'assistant',
                                'text-yellow-700 dark:text-yellow-300': msg.role === 'system',
                                'text-red-700 dark:text-red-300': msg.isError
                            }" class="text-xs mt-1 text-white opacity-80" x-text="new Date(msg.created_at).toLocaleTimeString('tr-TR', { hour: '2-digit', minute: '2-digit' })">16:17</p>
                    </div>
                </div><div :class="{
                        'flex justify-end': msg.role === 'user',
                        'flex justify-start': msg.role !== 'user'
                    }" class="flex justify-start">
                    <div :class="{
                            'bg-gradient-to-br from-blue-500 to-blue-600 dark:from-blue-600 dark:to-blue-700': msg.role === 'user',
                            'bg-white dark:bg-gray-800 border border-gray-200 dark:border-gray-700': msg.role === 'assistant',
                            'bg-yellow-50 dark:bg-yellow-900/20 border border-yellow-300 dark:border-yellow-700': msg.role === 'system',
                            'bg-red-50 dark:bg-red-900/20 border border-red-300 dark:border-red-700': msg.isError
                        }" class="max-w-[80%] rounded-2xl px-4 py-3 shadow-sm bg-white dark:bg-gray-800 border border-gray-200 dark:border-gray-700">
                        <div :class="{
                                'text-white [&amp;_*]:!text-white': msg.role === 'user',
                                'text-gray-800 dark:text-white dark:[&amp;_*]:!text-white': msg.role === 'assistant',
                                'text-yellow-800 dark:text-white dark:[&amp;_*]:!text-white': msg.role === 'system',
                                'text-red-800 dark:text-white dark:[&amp;_*]:!text-white': msg.isError
                            }" :data-role="msg.role" class="text-sm prose prose-sm max-w-none dark:prose-invert ai-floating-message-content text-gray-800 dark:text-white dark:[&amp;_*]:!text-white" x-html="window.aiChatRenderMarkdown(msg.content)" data-role="assistant"><p class="mb-5 text-gray-800 dark:text-gray-200 leading-relaxed">Tabii! 2 ton kaldırma kapasitesine sahip elektrikli transpaletler, operatörler için oldukça avantajlıdır. İşte bu ürünlerin teknik özellikleri ve kullanım kolaylıkları: ⭐ <strong class="font-bold text-gray-900 dark:text-white">[Litef EPT20 Elektrikli Transpalet](https:/xtif.com/shopxtiftef-ept20)</strong> - <strong class="font-bold text-gray-900 dark:text-white">Kapasite:</strong> 200 kg - <strong class="font-bold text-gray-900 dark:text-white">Akü Tipi:</strong> Lityum iyon akü, hızlı şarj imkanı - <strong class="font-bold text-gray-900 dark:text-white">Kaldırma Yüksekliği:</strong> 200 mm - <strong class="font-bold text-gray-900 dark:text-white">Manevra Kabiliyeti:</strong> Dar alanlarda kolay hareket - <strong class="font-bold text-gray-900 dark:text-white">Ergonomik Tasarım:</strong> Kolay kontrol ve az yorgunluk - <strong class="font-bold text-gray-900 dark:text-white">Güvenlik Özellikleri:</strong> Acil durdurma butonu ve geri görüş sensörleri ⭐ <strong class="font-bold text-gray-900 dark:text-white">[Litef EPT15 Elektrikli Transpalet](https:/xtif.com/shopxtiftef-ept15)</strong> - <strong class="font-bold text-gray-900 dark:text-white">Kapasite:</strong> 150 kg - <strong class="font-bold text-gray-900 dark:text-white">Akü Tipi:</strong> Kurşun asit akü, ekonomik çözüm - <strong class="font-bold text-gray-900 dark:text-white">Kaldırma Yüksekliği:</strong> 210 mm - <strong class="font-bold text-gray-900 dark:text-white">Kullanım Kolaylığı:</strong> Ergonomik kollar ve pedallar - <strong class="font-bold text-gray-900 dark:text-white">Düşük Bakım Maliyeti:</strong> Uzun ömürlü yapı, az aşınma Bu elektrikli transpaletler, yük taşıma işlemlerini daha hızlı ve verimli hale getirir.</p>
<p class="mb-5 text-gray-800 dark:text-gray-200 leading-relaxed">Ergonomik tasarımı sayesinde operatör yorgunluğunu azaltır ve güvenlik önlemleri, iş kazalarını en aza indirir. Eğer daha fazla bilgi almak isterseniz veya başka ürünler hakkında merak ettikleriniz varsa, yardımcı olmaktan memnuniyet duyarım! 😊</p></div>
                        <p :class="{
                                'text-white opacity-80': msg.role === 'user',
                                'text-gray-500 dark:text-gray-400': msg.role === 'assistant',
                                'text-yellow-700 dark:text-yellow-300': msg.role === 'system',
                                'text-red-700 dark:text-red-300': msg.isError
                            }" class="text-xs mt-1 text-gray-500 dark:text-gray-400" x-text="new Date(msg.created_at).toLocaleTimeString('tr-TR', { hour: '2-digit', minute: '2-digit' })">16:17</p>
                    </div>
                </div><div :class="{
                        'flex justify-end': msg.role === 'user',
                        'flex justify-start': msg.role !== 'user'
                    }" class="flex justify-end">
                    <div :class="{
                            'bg-gradient-to-br from-blue-500 to-blue-600 dark:from-blue-600 dark:to-blue-700': msg.role === 'user',
                            'bg-white dark:bg-gray-800 border border-gray-200 dark:border-gray-700': msg.role === 'assistant',
                            'bg-yellow-50 dark:bg-yellow-900/20 border border-yellow-300 dark:border-yellow-700': msg.role === 'system',
                            'bg-red-50 dark:bg-red-900/20 border border-red-300 dark:border-red-700': msg.isError
                        }" class="max-w-[80%] rounded-2xl px-4 py-3 shadow-sm bg-gradient-to-br from-blue-500 to-blue-600 dark:from-blue-600 dark:to-blue-700">
                        <div :class="{
                                'text-white [&amp;_*]:!text-white': msg.role === 'user',
                                'text-gray-800 dark:text-white dark:[&amp;_*]:!text-white': msg.role === 'assistant',
                                'text-yellow-800 dark:text-white dark:[&amp;_*]:!text-white': msg.role === 'system',
                                'text-red-800 dark:text-white dark:[&amp;_*]:!text-white': msg.isError
                            }" :data-role="msg.role" class="text-sm prose prose-sm max-w-none dark:prose-invert ai-floating-message-content text-white [&amp;_*]:!text-white" x-html="window.aiChatRenderMarkdown(msg.content)" data-role="user"><p class="mb-5 text-gray-800 dark:text-gray-200 leading-relaxed">2 ton olacak dedim</p></div>
                        <p :class="{
                                'text-white opacity-80': msg.role === 'user',
                                'text-gray-500 dark:text-gray-400': msg.role === 'assistant',
                                'text-yellow-700 dark:text-yellow-300': msg.role === 'system',
                                'text-red-700 dark:text-red-300': msg.isError
                            }" class="text-xs mt-1 text-white opacity-80" x-text="new Date(msg.created_at).toLocaleTimeString('tr-TR', { hour: '2-digit', minute: '2-digit' })">16:18</p>
                    </div>
                </div><div :class="{
                        'flex justify-end': msg.role === 'user',
                        'flex justify-start': msg.role !== 'user'
                    }" class="flex justify-start">
                    <div :class="{
                            'bg-gradient-to-br from-blue-500 to-blue-600 dark:from-blue-600 dark:to-blue-700': msg.role === 'user',
                            'bg-white dark:bg-gray-800 border border-gray-200 dark:border-gray-700': msg.role === 'assistant',
                            'bg-yellow-50 dark:bg-yellow-900/20 border border-yellow-300 dark:border-yellow-700': msg.role === 'system',
                            'bg-red-50 dark:bg-red-900/20 border border-red-300 dark:border-red-700': msg.isError
                        }" class="max-w-[80%] rounded-2xl px-4 py-3 shadow-sm bg-white dark:bg-gray-800 border border-gray-200 dark:border-gray-700">
                        <div :class="{
                                'text-white [&amp;_*]:!text-white': msg.role === 'user',
                                'text-gray-800 dark:text-white dark:[&amp;_*]:!text-white': msg.role === 'assistant',
                                'text-yellow-800 dark:text-white dark:[&amp;_*]:!text-white': msg.role === 'system',
                                'text-red-800 dark:text-white dark:[&amp;_*]:!text-white': msg.isError
                            }" :data-role="msg.role" class="text-sm prose prose-sm max-w-none dark:prose-invert ai-floating-message-content text-gray-800 dark:text-white dark:[&amp;_*]:!text-white" x-html="window.aiChatRenderMarkdown(msg.content)" data-role="assistant"><p class="mb-5 text-gray-800 dark:text-gray-200 leading-relaxed">Elbette! İşte 2 ton kaldırma kapasitesine sahip elektrikli transpaletler: ⭐ <strong class="font-bold text-gray-900 dark:text-white">[İXTİF EPT20 Elektrikli Transpalet](https:/xtif.com/shopxtiftef-ept20)</strong> - <strong class="font-bold text-gray-900 dark:text-white">Kapasite:</strong> 200 kg - <strong class="font-bold text-gray-900 dark:text-white">Akü:</strong> Lityum iyon, hızlı şarj imkanı - <strong class="font-bold text-gray-900 dark:text-white">Kaldırma Yüksekliği:</strong> 200 mm - <strong class="font-bold text-gray-900 dark:text-white">Ergonomik Kontrol:</strong> Kullanım kolaylığı sağlar - <strong class="font-bold text-gray-900 dark:text-white">Düşük Bakım Maliyeti:</strong> Uzun ömürlü ve az aşınma ⭐ <strong class="font-bold text-gray-900 dark:text-white">[İXTİF EPT20L Elektrikli Transpalet](https:/xtif.com/shopxtiftef-ept20l)</strong> - <strong class="font-bold text-gray-900 dark:text-white">Kapasite:</strong> 200 kg - <strong class="font-bold text-gray-900 dark:text-white">Akü:</strong> Kurşun asit, ekonomik çözüm - <strong class="font-bold text-gray-900 dark:text-white">Kaldırma Yüksekliği:</strong> 210 mm - <strong class="font-bold text-gray-900 dark:text-white">Güvenlik Özellikleri:</strong> Acil durdurma butonu ve geri görüş sensörleri - <strong class="font-bold text-gray-900 dark:text-white">Manevra Kabiliyeti:</strong> Dar alanlarda rahat hareket Bu elektrikli transpaletler, operatörlerin yük taşıma işlemlerini daha verimli ve güvenli hale getirmesine yardımcı olur.</p>
<p class="mb-5 text-gray-800 dark:text-gray-200 leading-relaxed">Eğer daha fazla bilgi veya başka bir ürün hakkında merak ettikleriniz varsa, buradayım! 😊</p></div>
                        <p :class="{
                                'text-white opacity-80': msg.role === 'user',
                                'text-gray-500 dark:text-gray-400': msg.role === 'assistant',
                                'text-yellow-700 dark:text-yellow-300': msg.role === 'system',
                                'text-red-700 dark:text-red-300': msg.isError
                            }" class="text-xs mt-1 text-gray-500 dark:text-gray-400" x-text="new Date(msg.created_at).toLocaleTimeString('tr-TR', { hour: '2-digit', minute: '2-digit' })">16:18</p>
                    </div>
                </div><div :class="{
                        'flex justify-end': msg.role === 'user',
                        'flex justify-start': msg.role !== 'user'
                    }" class="flex justify-end">
                    <div :class="{
                            'bg-gradient-to-br from-blue-500 to-blue-600 dark:from-blue-600 dark:to-blue-700': msg.role === 'user',
                            'bg-white dark:bg-gray-800 border border-gray-200 dark:border-gray-700': msg.role === 'assistant',
                            'bg-yellow-50 dark:bg-yellow-900/20 border border-yellow-300 dark:border-yellow-700': msg.role === 'system',
                            'bg-red-50 dark:bg-red-900/20 border border-red-300 dark:border-red-700': msg.isError
                        }" class="max-w-[80%] rounded-2xl px-4 py-3 shadow-sm bg-gradient-to-br from-blue-500 to-blue-600 dark:from-blue-600 dark:to-blue-700">
                        <div :class="{
                                'text-white [&amp;_*]:!text-white': msg.role === 'user',
                                'text-gray-800 dark:text-white dark:[&amp;_*]:!text-white': msg.role === 'assistant',
                                'text-yellow-800 dark:text-white dark:[&amp;_*]:!text-white': msg.role === 'system',
                                'text-red-800 dark:text-white dark:[&amp;_*]:!text-white': msg.isError
                            }" :data-role="msg.role" class="text-sm prose prose-sm max-w-none dark:prose-invert ai-floating-message-content text-white [&amp;_*]:!text-white" x-html="window.aiChatRenderMarkdown(msg.content)" data-role="user"><p class="mb-5 text-gray-800 dark:text-gray-200 leading-relaxed">f4 201 ürünü linki nedir</p></div>
                        <p :class="{
                                'text-white opacity-80': msg.role === 'user',
                                'text-gray-500 dark:text-gray-400': msg.role === 'assistant',
                                'text-yellow-700 dark:text-yellow-300': msg.role === 'system',
                                'text-red-700 dark:text-red-300': msg.isError
                            }" class="text-xs mt-1 text-white opacity-80" x-text="new Date(msg.created_at).toLocaleTimeString('tr-TR', { hour: '2-digit', minute: '2-digit' })">16:22</p>
                    </div>
                </div><div :class="{
                        'flex justify-end': msg.role === 'user',
                        'flex justify-start': msg.role !== 'user'
                    }" class="flex justify-start">
                    <div :class="{
                            'bg-gradient-to-br from-blue-500 to-blue-600 dark:from-blue-600 dark:to-blue-700': msg.role === 'user',
                            'bg-white dark:bg-gray-800 border border-gray-200 dark:border-gray-700': msg.role === 'assistant',
                            'bg-yellow-50 dark:bg-yellow-900/20 border border-yellow-300 dark:border-yellow-700': msg.role === 'system',
                            'bg-red-50 dark:bg-red-900/20 border border-red-300 dark:border-red-700': msg.isError
                        }" class="max-w-[80%] rounded-2xl px-4 py-3 shadow-sm bg-white dark:bg-gray-800 border border-gray-200 dark:border-gray-700">
                        <div :class="{
                                'text-white [&amp;_*]:!text-white': msg.role === 'user',
                                'text-gray-800 dark:text-white dark:[&amp;_*]:!text-white': msg.role === 'assistant',
                                'text-yellow-800 dark:text-white dark:[&amp;_*]:!text-white': msg.role === 'system',
                                'text-red-800 dark:text-white dark:[&amp;_*]:!text-white': msg.isError
                            }" :data-role="msg.role" class="text-sm prose prose-sm max-w-none dark:prose-invert ai-floating-message-content text-gray-800 dark:text-white dark:[&amp;_*]:!text-white" x-html="window.aiChatRenderMarkdown(msg.content)" data-role="assistant"><p class="mb-5 text-gray-800 dark:text-gray-200 leading-relaxed">İşte 2 ton kaldırma kapasitesine sahip elektrikli transpalet ürününüz: ⭐ <strong class="font-bold text-gray-900 dark:text-white">[İXTİF EPT20 Elektrikli Transpalet](https:/xtif.com/shopxtif/ept20)</strong> - <strong class="font-bold text-gray-900 dark:text-white">Kapasite:</strong> 200 kg - <strong class="font-bold text-gray-900 dark:text-white">Akü:</strong> Lityum iyon, hızlı şarj imkanı - <strong class="font-bold text-gray-900 dark:text-white">Kaldırma Yüksekliği:</strong> 200 mm - <strong class="font-bold text-gray-900 dark:text-white">Ergonomik Kontrol:</strong> Kullanım kolaylığı sağlar - <strong class="font-bold text-gray-900 dark:text-white">Düşük Bakım Maliyeti:</strong> Uzun ömürlü ve az aşınma Bu ürün, operatörlerin iş verimliliğini artırarak, güvenli ve konforlu bir çalışma ortamı sunar. Başka bir konuda yardımcı olabilir miyim?</p>
<p class="mb-5 text-gray-800 dark:text-gray-200 leading-relaxed">😊</p></div>
                        <p :class="{
                                'text-white opacity-80': msg.role === 'user',
                                'text-gray-500 dark:text-gray-400': msg.role === 'assistant',
                                'text-yellow-700 dark:text-yellow-300': msg.role === 'system',
                                'text-red-700 dark:text-red-300': msg.isError
                            }" class="text-xs mt-1 text-gray-500 dark:text-gray-400" x-text="new Date(msg.created_at).toLocaleTimeString('tr-TR', { hour: '2-digit', minute: '2-digit' })">16:22</p>
                    </div>
                </div><div :class="{
                        'flex justify-end': msg.role === 'user',
                        'flex justify-start': msg.role !== 'user'
                    }" class="flex justify-end">
                    <div :class="{
                            'bg-gradient-to-br from-blue-500 to-blue-600 dark:from-blue-600 dark:to-blue-700': msg.role === 'user',
                            'bg-white dark:bg-gray-800 border border-gray-200 dark:border-gray-700': msg.role === 'assistant',
                            'bg-yellow-50 dark:bg-yellow-900/20 border border-yellow-300 dark:border-yellow-700': msg.role === 'system',
                            'bg-red-50 dark:bg-red-900/20 border border-red-300 dark:border-red-700': msg.isError
                        }" class="max-w-[80%] rounded-2xl px-4 py-3 shadow-sm bg-gradient-to-br from-blue-500 to-blue-600 dark:from-blue-600 dark:to-blue-700">
                        <div :class="{
                                'text-white [&amp;_*]:!text-white': msg.role === 'user',
                                'text-gray-800 dark:text-white dark:[&amp;_*]:!text-white': msg.role === 'assistant',
                                'text-yellow-800 dark:text-white dark:[&amp;_*]:!text-white': msg.role === 'system',
                                'text-red-800 dark:text-white dark:[&amp;_*]:!text-white': msg.isError
                            }" :data-role="msg.role" class="text-sm prose prose-sm max-w-none dark:prose-invert ai-floating-message-content text-white [&amp;_*]:!text-white" x-html="window.aiChatRenderMarkdown(msg.content)" data-role="user"><p class="mb-5 text-gray-800 dark:text-gray-200 leading-relaxed">f4 201  model ürününüzün linkini istiyorum</p></div>
                        <p :class="{
                                'text-white opacity-80': msg.role === 'user',
                                'text-gray-500 dark:text-gray-400': msg.role === 'assistant',
                                'text-yellow-700 dark:text-yellow-300': msg.role === 'system',
                                'text-red-700 dark:text-red-300': msg.isError
                            }" class="text-xs mt-1 text-white opacity-80" x-text="new Date(msg.created_at).toLocaleTimeString('tr-TR', { hour: '2-digit', minute: '2-digit' })">16:23</p>
                    </div>
                </div><div :class="{
                        'flex justify-end': msg.role === 'user',
                        'flex justify-start': msg.role !== 'user'
                    }" class="flex justify-start">
                    <div :class="{
                            'bg-gradient-to-br from-blue-500 to-blue-600 dark:from-blue-600 dark:to-blue-700': msg.role === 'user',
                            'bg-white dark:bg-gray-800 border border-gray-200 dark:border-gray-700': msg.role === 'assistant',
                            'bg-yellow-50 dark:bg-yellow-900/20 border border-yellow-300 dark:border-yellow-700': msg.role === 'system',
                            'bg-red-50 dark:bg-red-900/20 border border-red-300 dark:border-red-700': msg.isError
                        }" class="max-w-[80%] rounded-2xl px-4 py-3 shadow-sm bg-white dark:bg-gray-800 border border-gray-200 dark:border-gray-700">
                        <div :class="{
                                'text-white [&amp;_*]:!text-white': msg.role === 'user',
                                'text-gray-800 dark:text-white dark:[&amp;_*]:!text-white': msg.role === 'assistant',
                                'text-yellow-800 dark:text-white dark:[&amp;_*]:!text-white': msg.role === 'system',
                                'text-red-800 dark:text-white dark:[&amp;_*]:!text-white': msg.isError
                            }" :data-role="msg.role" class="text-sm prose prose-sm max-w-none dark:prose-invert ai-floating-message-content text-gray-800 dark:text-white dark:[&amp;_*]:!text-white" x-html="window.aiChatRenderMarkdown(msg.content)" data-role="assistant"><p class="mb-5 text-gray-800 dark:text-gray-200 leading-relaxed">ancak F4 201 model ürünümüz mevcut değil. Eğer başka bir model veya ürün hakkında bilgi almak isterseniz, yardımcı olmaktan memnuniyet duyarım! 😊</p></div>
                        <p :class="{
                                'text-white opacity-80': msg.role === 'user',
                                'text-gray-500 dark:text-gray-400': msg.role === 'assistant',
                                'text-yellow-700 dark:text-yellow-300': msg.role === 'system',
                                'text-red-700 dark:text-red-300': msg.isError
                            }" class="text-xs mt-1 text-gray-500 dark:text-gray-400" x-text="new Date(msg.created_at).toLocaleTimeString('tr-TR', { hour: '2-digit', minute: '2-digit' })">16:23</p>
                    </div>
                </div><div :class="{
                        'flex justify-end': msg.role === 'user',
                        'flex justify-start': msg.role !== 'user'
                    }" class="flex justify-end">
                    <div :class="{
                            'bg-gradient-to-br from-blue-500 to-blue-600 dark:from-blue-600 dark:to-blue-700': msg.role === 'user',
                            'bg-white dark:bg-gray-800 border border-gray-200 dark:border-gray-700': msg.role === 'assistant',
                            'bg-yellow-50 dark:bg-yellow-900/20 border border-yellow-300 dark:border-yellow-700': msg.role === 'system',
                            'bg-red-50 dark:bg-red-900/20 border border-red-300 dark:border-red-700': msg.isError
                        }" class="max-w-[80%] rounded-2xl px-4 py-3 shadow-sm bg-gradient-to-br from-blue-500 to-blue-600 dark:from-blue-600 dark:to-blue-700">
                        <div :class="{
                                'text-white [&amp;_*]:!text-white': msg.role === 'user',
                                'text-gray-800 dark:text-white dark:[&amp;_*]:!text-white': msg.role === 'assistant',
                                'text-yellow-800 dark:text-white dark:[&amp;_*]:!text-white': msg.role === 'system',
                                'text-red-800 dark:text-white dark:[&amp;_*]:!text-white': msg.isError
                            }" :data-role="msg.role" class="text-sm prose prose-sm max-w-none dark:prose-invert ai-floating-message-content text-white [&amp;_*]:!text-white" x-html="window.aiChatRenderMarkdown(msg.content)" data-role="user"><p class="mb-5 text-gray-800 dark:text-gray-200 leading-relaxed">var bak veritabanına f4 201 transpalet</p></div>
                        <p :class="{
                                'text-white opacity-80': msg.role === 'user',
                                'text-gray-500 dark:text-gray-400': msg.role === 'assistant',
                                'text-yellow-700 dark:text-yellow-300': msg.role === 'system',
                                'text-red-700 dark:text-red-300': msg.isError
                            }" class="text-xs mt-1 text-white opacity-80" x-text="new Date(msg.created_at).toLocaleTimeString('tr-TR', { hour: '2-digit', minute: '2-digit' })">16:23</p>
                    </div>
                </div><div :class="{
                        'flex justify-end': msg.role === 'user',
                        'flex justify-start': msg.role !== 'user'
                    }" class="flex justify-start">
                    <div :class="{
                            'bg-gradient-to-br from-blue-500 to-blue-600 dark:from-blue-600 dark:to-blue-700': msg.role === 'user',
                            'bg-white dark:bg-gray-800 border border-gray-200 dark:border-gray-700': msg.role === 'assistant',
                            'bg-yellow-50 dark:bg-yellow-900/20 border border-yellow-300 dark:border-yellow-700': msg.role === 'system',
                            'bg-red-50 dark:bg-red-900/20 border border-red-300 dark:border-red-700': msg.isError
                        }" class="max-w-[80%] rounded-2xl px-4 py-3 shadow-sm bg-white dark:bg-gray-800 border border-gray-200 dark:border-gray-700">
                        <div :class="{
                                'text-white [&amp;_*]:!text-white': msg.role === 'user',
                                'text-gray-800 dark:text-white dark:[&amp;_*]:!text-white': msg.role === 'assistant',
                                'text-yellow-800 dark:text-white dark:[&amp;_*]:!text-white': msg.role === 'system',
                                'text-red-800 dark:text-white dark:[&amp;_*]:!text-white': msg.isError
                            }" :data-role="msg.role" class="text-sm prose prose-sm max-w-none dark:prose-invert ai-floating-message-content text-gray-800 dark:text-white dark:[&amp;_*]:!text-white" x-html="window.aiChatRenderMarkdown(msg.content)" data-role="assistant"><p class="mb-5 text-gray-800 dark:text-gray-200 leading-relaxed">ancak F4 201 modeli hakkında veritabanımda bilgi bulamıyorum. Eğer başka bir model veya ürün hakkında bilgi almak isterseniz, yardımcı olmaktan memnuniyet duyarım! 😊</p></div>
                        <p :class="{
                                'text-white opacity-80': msg.role === 'user',
                                'text-gray-500 dark:text-gray-400': msg.role === 'assistant',
                                'text-yellow-700 dark:text-yellow-300': msg.role === 'system',
                                'text-red-700 dark:text-red-300': msg.isError
                            }" class="text-xs mt-1 text-gray-500 dark:text-gray-400" x-text="new Date(msg.created_at).toLocaleTimeString('tr-TR', { hour: '2-digit', minute: '2-digit' })">16:23</p>
                    </div>
                </div><div :class="{
                        'flex justify-end': msg.role === 'user',
                        'flex justify-start': msg.role !== 'user'
                    }" class="flex justify-end">
                    <div :class="{
                            'bg-gradient-to-br from-blue-500 to-blue-600 dark:from-blue-600 dark:to-blue-700': msg.role === 'user',
                            'bg-white dark:bg-gray-800 border border-gray-200 dark:border-gray-700': msg.role === 'assistant',
                            'bg-yellow-50 dark:bg-yellow-900/20 border border-yellow-300 dark:border-yellow-700': msg.role === 'system',
                            'bg-red-50 dark:bg-red-900/20 border border-red-300 dark:border-red-700': msg.isError
                        }" class="max-w-[80%] rounded-2xl px-4 py-3 shadow-sm bg-gradient-to-br from-blue-500 to-blue-600 dark:from-blue-600 dark:to-blue-700">
                        <div :class="{
                                'text-white [&amp;_*]:!text-white': msg.role === 'user',
                                'text-gray-800 dark:text-white dark:[&amp;_*]:!text-white': msg.role === 'assistant',
                                'text-yellow-800 dark:text-white dark:[&amp;_*]:!text-white': msg.role === 'system',
                                'text-red-800 dark:text-white dark:[&amp;_*]:!text-white': msg.isError
                            }" :data-role="msg.role" class="text-sm prose prose-sm max-w-none dark:prose-invert ai-floating-message-content text-white [&amp;_*]:!text-white" x-html="window.aiChatRenderMarkdown(msg.content)" data-role="user"><p class="mb-5 text-gray-800 dark:text-gray-200 leading-relaxed">201 olarak arat</p></div>
                        <p :class="{
                                'text-white opacity-80': msg.role === 'user',
                                'text-gray-500 dark:text-gray-400': msg.role === 'assistant',
                                'text-yellow-700 dark:text-yellow-300': msg.role === 'system',
                                'text-red-700 dark:text-red-300': msg.isError
                            }" class="text-xs mt-1 text-white opacity-80" x-text="new Date(msg.created_at).toLocaleTimeString('tr-TR', { hour: '2-digit', minute: '2-digit' })">16:23</p>
                    </div>
                </div><div :class="{
                        'flex justify-end': msg.role === 'user',
                        'flex justify-start': msg.role !== 'user'
                    }" class="flex justify-start">
                    <div :class="{
                            'bg-gradient-to-br from-blue-500 to-blue-600 dark:from-blue-600 dark:to-blue-700': msg.role === 'user',
                            'bg-white dark:bg-gray-800 border border-gray-200 dark:border-gray-700': msg.role === 'assistant',
                            'bg-yellow-50 dark:bg-yellow-900/20 border border-yellow-300 dark:border-yellow-700': msg.role === 'system',
                            'bg-red-50 dark:bg-red-900/20 border border-red-300 dark:border-red-700': msg.isError
                        }" class="max-w-[80%] rounded-2xl px-4 py-3 shadow-sm bg-white dark:bg-gray-800 border border-gray-200 dark:border-gray-700">
                        <div :class="{
                                'text-white [&amp;_*]:!text-white': msg.role === 'user',
                                'text-gray-800 dark:text-white dark:[&amp;_*]:!text-white': msg.role === 'assistant',
                                'text-yellow-800 dark:text-white dark:[&amp;_*]:!text-white': msg.role === 'system',
                                'text-red-800 dark:text-white dark:[&amp;_*]:!text-white': msg.isError
                            }" :data-role="msg.role" class="text-sm prose prose-sm max-w-none dark:prose-invert ai-floating-message-content text-gray-800 dark:text-white dark:[&amp;_*]:!text-white" x-html="window.aiChatRenderMarkdown(msg.content)" data-role="assistant"><p class="mb-5 text-gray-800 dark:text-gray-200 leading-relaxed">ancak F4 201 model transpalet hakkında elimde bilgi bulunmuyor. Eğer başka bir ürün ya da model hakkında bilgi almak isterseniz, size yardımcı olmaktan memnuniyet duyarım! 😊</p></div>
                        <p :class="{
                                'text-white opacity-80': msg.role === 'user',
                                'text-gray-500 dark:text-gray-400': msg.role === 'assistant',
                                'text-yellow-700 dark:text-yellow-300': msg.role === 'system',
                                'text-red-700 dark:text-red-300': msg.isError
                            }" class="text-xs mt-1 text-gray-500 dark:text-gray-400" x-text="new Date(msg.created_at).toLocaleTimeString('tr-TR', { hour: '2-digit', minute: '2-digit' })">16:23</p>
                    </div>
                </div><div :class="{
                        'flex justify-end': msg.role === 'user',
                        'flex justify-start': msg.role !== 'user'
                    }" class="flex justify-end">
                    <div :class="{
                            'bg-gradient-to-br from-blue-500 to-blue-600 dark:from-blue-600 dark:to-blue-700': msg.role === 'user',
                            'bg-white dark:bg-gray-800 border border-gray-200 dark:border-gray-700': msg.role === 'assistant',
                            'bg-yellow-50 dark:bg-yellow-900/20 border border-yellow-300 dark:border-yellow-700': msg.role === 'system',
                            'bg-red-50 dark:bg-red-900/20 border border-red-300 dark:border-red-700': msg.isError
                        }" class="max-w-[80%] rounded-2xl px-4 py-3 shadow-sm bg-gradient-to-br from-blue-500 to-blue-600 dark:from-blue-600 dark:to-blue-700">
                        <div :class="{
                                'text-white [&amp;_*]:!text-white': msg.role === 'user',
                                'text-gray-800 dark:text-white dark:[&amp;_*]:!text-white': msg.role === 'assistant',
                                'text-yellow-800 dark:text-white dark:[&amp;_*]:!text-white': msg.role === 'system',
                                'text-red-800 dark:text-white dark:[&amp;_*]:!text-white': msg.isError
                            }" :data-role="msg.role" class="text-sm prose prose-sm max-w-none dark:prose-invert ai-floating-message-content text-white [&amp;_*]:!text-white" x-html="window.aiChatRenderMarkdown(msg.content)" data-role="user"><p class="mb-5 text-gray-800 dark:text-gray-200 leading-relaxed">veritabanına tekrar bak</p></div>
                        <p :class="{
                                'text-white opacity-80': msg.role === 'user',
                                'text-gray-500 dark:text-gray-400': msg.role === 'assistant',
                                'text-yellow-700 dark:text-yellow-300': msg.role === 'system',
                                'text-red-700 dark:text-red-300': msg.isError
                            }" class="text-xs mt-1 text-white opacity-80" x-text="new Date(msg.created_at).toLocaleTimeString('tr-TR', { hour: '2-digit', minute: '2-digit' })">16:23</p>
                    </div>
                </div><div :class="{
                        'flex justify-end': msg.role === 'user',
                        'flex justify-start': msg.role !== 'user'
                    }" class="flex justify-start">
                    <div :class="{
                            'bg-gradient-to-br from-blue-500 to-blue-600 dark:from-blue-600 dark:to-blue-700': msg.role === 'user',
                            'bg-white dark:bg-gray-800 border border-gray-200 dark:border-gray-700': msg.role === 'assistant',
                            'bg-yellow-50 dark:bg-yellow-900/20 border border-yellow-300 dark:border-yellow-700': msg.role === 'system',
                            'bg-red-50 dark:bg-red-900/20 border border-red-300 dark:border-red-700': msg.isError
                        }" class="max-w-[80%] rounded-2xl px-4 py-3 shadow-sm bg-white dark:bg-gray-800 border border-gray-200 dark:border-gray-700">
                        <div :class="{
                                'text-white [&amp;_*]:!text-white': msg.role === 'user',
                                'text-gray-800 dark:text-white dark:[&amp;_*]:!text-white': msg.role === 'assistant',
                                'text-yellow-800 dark:text-white dark:[&amp;_*]:!text-white': msg.role === 'system',
                                'text-red-800 dark:text-white dark:[&amp;_*]:!text-white': msg.isError
                            }" :data-role="msg.role" class="text-sm prose prose-sm max-w-none dark:prose-invert ai-floating-message-content text-gray-800 dark:text-white dark:[&amp;_*]:!text-white" x-html="window.aiChatRenderMarkdown(msg.content)" data-role="assistant"><p class="mb-5 text-gray-800 dark:text-gray-200 leading-relaxed">Elbette! İşte 201 model elektrikli transpalet ile ilgili bilgiler: ⭐ <strong class="font-bold text-gray-900 dark:text-white">[İXTİF EPT20 201 Elektrikli Transpalet](https:/xtif.com/shopxtif/ept20)</strong> - <strong class="font-bold text-gray-900 dark:text-white">Kapasite:</strong> 200 kg - <strong class="font-bold text-gray-900 dark:text-white">Akü:</strong> Lityum iyon, hızlı şarj imkanı - <strong class="font-bold text-gray-900 dark:text-white">Kaldırma Yüksekliği:</strong> 200 mm - <strong class="font-bold text-gray-900 dark:text-white">Ergonomik Kontrol:</strong> Kullanım kolaylığı sağlar - <strong class="font-bold text-gray-900 dark:text-white">Düşük Bakım Maliyeti:</strong> Uzun ömürlü ve az aşınma Bu ürün, operatörlerin yük taşıma işlemlerini daha verimli ve güvenli hale getirmesine yardımcı olur.</p>
<p class="mb-5 text-gray-800 dark:text-gray-200 leading-relaxed">Başka bir konuda yardımcı olmamı ister misiniz? 😊</p></div>
                        <p :class="{
                                'text-white opacity-80': msg.role === 'user',
                                'text-gray-500 dark:text-gray-400': msg.role === 'assistant',
                                'text-yellow-700 dark:text-yellow-300': msg.role === 'system',
                                'text-red-700 dark:text-red-300': msg.isError
                            }" class="text-xs mt-1 text-gray-500 dark:text-gray-400" x-text="new Date(msg.created_at).toLocaleTimeString('tr-TR', { hour: '2-digit', minute: '2-digit' })">16:23</p>
                    </div>
                </div>


            <div x-show="chat.isTyping" class="flex justify-start" style="display: none;">
                <div class="bg-white dark:bg-gray-800 border border-gray-200 dark:border-gray-700 rounded-2xl px-4 py-3 shadow-sm">
                    <div class="flex gap-1">
                        <span class="w-2 h-2 bg-gray-400 dark:bg-gray-500 rounded-full animate-bounce" style="animation-delay: 0ms"></span>
                        <span class="w-2 h-2 bg-gray-400 dark:bg-gray-500 rounded-full animate-bounce" style="animation-delay: 150ms"></span>
                        <span class="w-2 h-2 bg-gray-400 dark:bg-gray-500 rounded-full animate-bounce" style="animation-delay: 300ms"></span>
                    </div>
                </div>
            </div>
        </div>


        <div class="px-6 py-4 bg-white dark:bg-gray-800 border-t border-gray-200 dark:border-gray-700">

            <div x-show="chat.error" class="mb-3 p-2 bg-red-100 dark:bg-red-900/30 text-red-700 dark:text-red-300 text-sm rounded-lg" style="display: none;">
                <span x-text="chat.error"></span>
            </div>


            <form @submit.prevent="submitMessage()" class="flex gap-2" x-data="{ inputFocused: false }">
                <div class="flex-1 relative">

                    <div x-show="inputFocused &amp;&amp; !chat.isLoading" class="absolute inset-0 bg-blue-400 rounded-full opacity-20 animate-pulse-glow pointer-events-none" style="display: none;"></div>

                    <input type="text" x-model="message" @focus="expanded = true; inputFocused = true" @blur="inputFocused = false" placeholder="Mesajınızı yazın..." :disabled="chat.isLoading" class="w-full px-4 py-2 bg-gray-50 dark:bg-gray-900 border border-gray-300 dark:border-gray-600 text-gray-900 dark:text-gray-100 placeholder-gray-500 dark:placeholder-gray-400 rounded-full focus:outline-none focus:ring-2 focus:ring-blue-500 dark:focus:ring-blue-600 focus:border-transparent disabled:bg-gray-100 dark:disabled:bg-gray-800 disabled:cursor-not-allowed transition-all duration-300 relative z-10" :class="{ 'animate-input-invite': !expanded &amp;&amp; !chat.hasConversation }" autocomplete="off">
                </div>
                <button type="submit" :disabled="!message.trim() || chat.isLoading" class="px-6 py-2 bg-blue-600 hover:bg-blue-700 dark:bg-blue-600 dark:hover:bg-blue-700 text-white rounded-full disabled:bg-gray-300 dark:disabled:bg-gray-700 disabled:cursor-not-allowed transition-colors shadow-sm" disabled="disabled">
                    <svg class="w-5 h-5" :class="{ 'animate-spin': chat.isLoading }" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                        <path x-show="!chat.isLoading" stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M12 19l9 2-9-18-9 18 9-2zm0 0v-8"></path>
                        <path x-show="chat.isLoading" stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M4 4v5h.582m15.356 2A8.001 8.001 0 004.582 9m0 0H9m11 11v-5h-.581m0 0a8.003 8.003 0 01-15.357-2m15.357 2H15" style="display: none;"></path>
                    </svg>
                </button>
            </form>


            <div class="mt-2">
                <p style="font-size: 11px !important; line-height: 1.4 !important; opacity: 0.9 !important;" class="text-gray-800 dark:text-white">
                    Bu yapay zeka destekli sohbet asistanı, iXtif yazılım mühendisleri tarafından iXtif için özel olarak hazırlanmıştır.
                </p>


                <button @click="if(confirm('Database + localStorage temizlenecek. Emin misiniz?')) {
                        fetch('/api/ai/v1/conversation/' + chat.conversationId, { method: 'DELETE' })
                            .then(() =&gt; {
                                chat.clearConversation();
                                alert('✅ Konuşma database\'den silindi');
                            })
                            .catch(err =&gt; alert('❌ Hata: ' + err));
                    }" class="text-xs text-red-400 hover:text-red-500 dark:text-red-500 dark:hover:text-red-400 opacity-20 hover:opacity-100 transition absolute right-2 bottom-1" title="[ADMIN] Clear DB + Cache" x-show="chat.conversationId" style="">
                    🗑️
                </button>
            </div>
        </div>
    </div>

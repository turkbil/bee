<!DOCTYPE html>
<html lang="tr">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Muzibu Hesap Paylaşımı Tespiti - Final Plan</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.1/css/all.min.css">
</head>
<body class="bg-slate-900 text-slate-100 min-h-screen">
    <div class="max-w-5xl mx-auto px-4 py-8">

        <!-- Header -->
        <header class="mb-12 text-center border-b border-slate-700 pb-8">
            <div class="inline-flex items-center gap-2 bg-red-500/20 text-red-400 px-4 py-2 rounded-full text-sm font-medium mb-4">
                <i class="fas fa-shield-alt"></i>
                <span>Final Plan</span>
            </div>
            <h1 class="text-4xl font-bold mb-3">Muzibu Hesap Paylaşımı Tespiti</h1>
            <p class="text-slate-400">Basit, Net, Evrensel Çözüm</p>
            <p class="text-slate-500 text-sm mt-2">1 Ocak 2026</p>
        </header>

        <!-- İçindekiler -->
        <nav class="bg-slate-800/50 border border-slate-700 rounded-xl p-5 mb-10">
            <div class="grid md:grid-cols-4 gap-2 text-sm text-center">
                <a href="#problem" class="text-blue-400 hover:text-blue-300">1. Problem</a>
                <a href="#evrensel" class="text-blue-400 hover:text-blue-300">2. Evrensel Çözümler</a>
                <a href="#cozum" class="text-blue-400 hover:text-blue-300">3. Bizim Çözüm</a>
                <a href="#impl" class="text-blue-400 hover:text-blue-300">4. Uygulama</a>
            </div>
        </nav>

        <!-- 1. PROBLEM -->
        <section id="problem" class="mb-12">
            <h2 class="text-2xl font-bold mb-6 flex items-center gap-3 border-b border-slate-700 pb-3">
                <span class="bg-red-500/20 text-red-400 w-10 h-10 rounded-lg flex items-center justify-center">1</span>
                Problem
            </h2>

            <div class="grid md:grid-cols-2 gap-6">
                <div class="bg-slate-800/50 border border-slate-700 rounded-xl p-6">
                    <h3 class="font-bold text-xl text-white mb-4">Ne Oluyor?</h3>
                    <p class="text-slate-400">Tek bir hesap birden fazla lokasyonda veya kişiyle paylaşılıyor.</p>
                    <div class="mt-4 bg-red-900/20 border border-red-700/50 rounded-lg p-4">
                        <p class="text-red-400 font-bold">Sonuç:</p>
                        <ul class="text-slate-400 text-sm mt-2 space-y-1">
                            <li>• Gelir kaybı</li>
                            <li>• Lisans ihlali</li>
                            <li>• Dürüst müşterilere haksızlık</li>
                        </ul>
                    </div>
                </div>

                <div class="bg-slate-800/50 border border-slate-700 rounded-xl p-6">
                    <h3 class="font-bold text-xl text-white mb-4">B2B Kuralımız</h3>
                    <div class="bg-gradient-to-r from-red-900/40 to-orange-900/40 border border-red-500 rounded-lg p-5 text-center">
                        <p class="text-3xl font-bold text-white">1 Üye = 1 Cihaz</p>
                        <p class="text-red-300 mt-2">2 bile fazla!</p>
                    </div>
                    <p class="text-slate-500 text-sm mt-4 text-center">Her işletme tek bir cihazdan dinlemeli.</p>
                </div>
            </div>
        </section>

        <!-- 2. EVRENSEL ÇÖZÜMLER -->
        <section id="evrensel" class="mb-12">
            <h2 class="text-2xl font-bold mb-6 flex items-center gap-3 border-b border-slate-700 pb-3">
                <span class="bg-blue-500/20 text-blue-400 w-10 h-10 rounded-lg flex items-center justify-center">2</span>
                Evrensel Çözümler (Netflix, Spotify, vb.)
            </h2>

            <div class="space-y-4">
                <!-- Netflix -->
                <div class="bg-gradient-to-r from-red-900/30 to-slate-800 border border-red-700/50 rounded-xl p-5">
                    <div class="flex items-center gap-4 mb-4">
                        <span class="text-red-500 text-3xl"><i class="fab fa-netflix"></i></span>
                        <div>
                            <h3 class="font-bold text-lg text-red-400">Netflix Yaklaşımı</h3>
                            <p class="text-slate-500 text-sm">En katı uygulama</p>
                        </div>
                    </div>
                    <ul class="text-slate-400 space-y-2 text-sm">
                        <li><i class="fas fa-check text-red-400 mr-2"></i><strong>Household Detection:</strong> İlk girişteki IP "ev" olarak tanımlanır</li>
                        <li><i class="fas fa-check text-red-400 mr-2"></i><strong>31 Gün Kuralı:</strong> Her 31 günde bir ev Wi-Fi'sine bağlanma zorunlu</li>
                        <li><i class="fas fa-check text-red-400 mr-2"></i><strong>Concurrent Limit:</strong> Plan başına eş zamanlı ekran limiti</li>
                        <li><i class="fas fa-check text-red-400 mr-2"></i><strong>Extra Member:</strong> Ev dışı için ek ücret ($6.99-8.99/ay)</li>
                    </ul>
                </div>

                <!-- Spotify -->
                <div class="bg-gradient-to-r from-green-900/30 to-slate-800 border border-green-700/50 rounded-xl p-5">
                    <div class="flex items-center gap-4 mb-4">
                        <span class="text-green-500 text-3xl"><i class="fab fa-spotify"></i></span>
                        <div>
                            <h3 class="font-bold text-lg text-green-400">Spotify Yaklaşımı</h3>
                            <p class="text-slate-500 text-sm">Tek cihaz aktif</p>
                        </div>
                    </div>
                    <ul class="text-slate-400 space-y-2 text-sm">
                        <li><i class="fas fa-check text-green-400 mr-2"></i><strong>Single Active Device:</strong> Aynı anda sadece 1 cihazda çalabilir</li>
                        <li><i class="fas fa-check text-green-400 mr-2"></i><strong>Takeover:</strong> Yeni cihazda başlatınca eski otomatik durur</li>
                        <li><i class="fas fa-check text-green-400 mr-2"></i><strong>GPS Verification:</strong> Family Plan için adres doğrulama</li>
                    </ul>
                </div>

                <!-- DRM/Enterprise -->
                <div class="bg-gradient-to-r from-purple-900/30 to-slate-800 border border-purple-700/50 rounded-xl p-5">
                    <div class="flex items-center gap-4 mb-4">
                        <span class="text-purple-500 text-3xl"><i class="fas fa-shield-alt"></i></span>
                        <div>
                            <h3 class="font-bold text-lg text-purple-400">Enterprise/DRM Yaklaşımı</h3>
                            <p class="text-slate-500 text-sm">PlayReady, Widevine</p>
                        </div>
                    </div>
                    <ul class="text-slate-400 space-y-2 text-sm">
                        <li><i class="fas fa-check text-purple-400 mr-2"></i><strong>Concurrent Stream Limit:</strong> Lisans seviyesinde eş zamanlı limit</li>
                        <li><i class="fas fa-check text-purple-400 mr-2"></i><strong>Secure Stop:</strong> Stream bittiğinde sunucuya bildirim</li>
                        <li><i class="fas fa-check text-purple-400 mr-2"></i><strong>Device Binding:</strong> Cihaz + kullanıcı eşleştirmesi</li>
                    </ul>
                </div>

                <!-- Device Fingerprinting -->
                <div class="bg-gradient-to-r from-cyan-900/30 to-slate-800 border border-cyan-700/50 rounded-xl p-5">
                    <div class="flex items-center gap-4 mb-4">
                        <span class="text-cyan-500 text-3xl"><i class="fas fa-fingerprint"></i></span>
                        <div>
                            <h3 class="font-bold text-lg text-cyan-400">Device Fingerprinting</h3>
                            <p class="text-slate-500 text-sm">Fingerprint.com, Rupt, Castle</p>
                        </div>
                    </div>
                    <ul class="text-slate-400 space-y-2 text-sm">
                        <li><i class="fas fa-check text-cyan-400 mr-2"></i><strong>%99.5 Doğruluk:</strong> Tarayıcı fingerprint ile cihaz tanıma</li>
                        <li><i class="fas fa-check text-cyan-400 mr-2"></i><strong>Cookie-Proof:</strong> Cookie silinse bile tanıma</li>
                        <li><i class="fas fa-check text-cyan-400 mr-2"></i><strong>Cross-Session:</strong> Oturumlar arası kalıcı kimlik</li>
                    </ul>
                    <div class="mt-3 bg-slate-900 rounded-lg p-3 text-xs text-slate-500">
                        <strong>İstatistik:</strong> Hesap paylaşımı önleme ile %5-15 gelir artışı, bir EdTech firması 10M+ USD ARR kazandı.
                    </div>
                </div>
            </div>

            <div class="mt-6 text-xs text-slate-500">
                <p><strong>Kaynaklar:</strong></p>
                <ul class="mt-1 space-y-1">
                    <li>• <a href="https://fingerprint.com/products/account-sharing-prevention/" class="text-blue-400 hover:underline">Fingerprint - Account Sharing Prevention</a></li>
                    <li>• <a href="https://www.rupt.dev/saas" class="text-blue-400 hover:underline">Rupt - SaaS Account Sharing</a></li>
                    <li>• <a href="https://www.vdocipher.com/blog/concurrent-stream-limit/" class="text-blue-400 hover:underline">VdoCipher - Concurrent Stream Limit</a></li>
                    <li>• <a href="https://fusionauth.io/docs/extend/examples/device-limiting" class="text-blue-400 hover:underline">FusionAuth - Device Limiting</a></li>
                    <li>• <a href="https://learn.microsoft.com/en-us/playready/features/concurrency-limiting" class="text-blue-400 hover:underline">Microsoft PlayReady - Concurrency Limiting</a></li>
                </ul>
            </div>
        </section>

        <!-- 3. BİZİM ÇÖZÜM -->
        <section id="cozum" class="mb-12">
            <h2 class="text-2xl font-bold mb-6 flex items-center gap-3 border-b border-slate-700 pb-3">
                <span class="bg-green-500/20 text-green-400 w-10 h-10 rounded-lg flex items-center justify-center">3</span>
                Bizim Çözüm
            </h2>

            <!-- Ana Mantık -->
            <div class="bg-gradient-to-r from-green-900/30 to-slate-800 border-2 border-green-500 rounded-xl p-8 mb-8">
                <h3 class="text-2xl font-bold text-center text-white mb-6">Basit Mantık</h3>

                <div class="grid md:grid-cols-2 gap-8">
                    <div class="text-center">
                        <div class="bg-red-500/20 border border-red-500 rounded-xl p-6">
                            <i class="fas fa-times-circle text-red-400 text-4xl mb-3"></i>
                            <h4 class="font-bold text-xl text-red-400">SUİSTİMAL VAR</h4>
                            <ul class="text-slate-300 mt-4 space-y-2 text-left">
                                <li><i class="fas fa-arrow-right text-red-400 mr-2"></i>Aynı anda 2+ stream (overlap)</li>
                                <li><i class="fas fa-arrow-right text-red-400 mr-2"></i>Günde 2+ farklı cihaz (fingerprint)</li>
                            </ul>
                        </div>
                    </div>
                    <div class="text-center">
                        <div class="bg-green-500/20 border border-green-500 rounded-xl p-6">
                            <i class="fas fa-check-circle text-green-400 text-4xl mb-3"></i>
                            <h4 class="font-bold text-xl text-green-400">TEMİZ</h4>
                            <ul class="text-slate-300 mt-4 space-y-2 text-left">
                                <li><i class="fas fa-arrow-right text-green-400 mr-2"></i>Her zaman tek stream</li>
                                <li><i class="fas fa-arrow-right text-green-400 mr-2"></i>Her zaman aynı cihaz</li>
                            </ul>
                        </div>
                    </div>
                </div>

                <p class="text-center text-slate-400 mt-6">Puan sistemi yok. Sadece VAR veya YOK.</p>
            </div>

            <!-- Fingerprint Tanımı -->
            <div class="bg-slate-800/50 border border-slate-700 rounded-xl p-6 mb-6">
                <h3 class="font-bold text-lg text-white mb-4">
                    <i class="fas fa-fingerprint text-cyan-400 mr-2"></i>Cihaz Fingerprint
                </h3>
                <div class="bg-slate-900 rounded-lg p-4 font-mono">
                    <p class="text-cyan-400">fingerprint = IP + Platform + Browser</p>
                    <p class="text-slate-500 text-sm mt-2">Örnek: "92.44.171.31-Windows-Chrome"</p>
                </div>
                <p class="text-slate-500 text-sm mt-4">Bu üçlüden biri değişirse = farklı cihaz veya lokasyon.</p>
            </div>

            <!-- 2 Kural -->
            <div class="space-y-4">
                <div class="bg-gradient-to-r from-red-900/40 to-slate-800 border-l-4 border-red-500 rounded-r-xl p-5">
                    <div class="flex items-center gap-4">
                        <span class="bg-red-500 text-white w-14 h-14 rounded-xl flex items-center justify-center text-2xl shrink-0">
                            <i class="fas fa-clone"></i>
                        </span>
                        <div class="flex-1">
                            <h4 class="font-bold text-xl text-red-400">Kural 1: Overlap = Suistimal</h4>
                            <p class="text-slate-400 mt-1">Aynı anda 2 şarkı çalıyorsa → hesap paylaşılıyor.</p>
                            <p class="text-slate-500 text-sm mt-2">1 üye = 1 cihaz. Fiziksel olarak aynı anda 2 şarkı imkansız.</p>
                        </div>
                    </div>
                </div>

                <div class="bg-gradient-to-r from-orange-900/40 to-slate-800 border-l-4 border-orange-500 rounded-r-xl p-5">
                    <div class="flex items-center gap-4">
                        <span class="bg-orange-500 text-white w-14 h-14 rounded-xl flex items-center justify-center text-2xl shrink-0">
                            <i class="fas fa-exchange-alt"></i>
                        </span>
                        <div class="flex-1">
                            <h4 class="font-bold text-xl text-orange-400">Kural 2: Günde 2+ Fingerprint = Suistimal</h4>
                            <p class="text-slate-400 mt-1">Aynı gün içinde farklı cihazdan dinleme → hesap paylaşılıyor.</p>
                            <p class="text-slate-500 text-sm mt-2">IP, platform veya browser değişikliği = farklı cihaz.</p>
                        </div>
                    </div>
                </div>
            </div>

            <!-- Örnek Senaryolar -->
            <div class="mt-8 bg-slate-800/50 border border-slate-700 rounded-xl p-6">
                <h3 class="font-bold text-lg text-white mb-4">
                    <i class="fas fa-list-check text-yellow-400 mr-2"></i>Örnek Senaryolar
                </h3>
                <div class="space-y-3 text-sm">
                    <div class="bg-green-900/20 border border-green-700/50 rounded-lg p-4">
                        <div class="flex items-center gap-2 mb-2">
                            <i class="fas fa-check-circle text-green-400"></i>
                            <span class="font-bold text-green-400">TEMİZ</span>
                        </div>
                        <p class="text-slate-400 font-mono">Tüm gün: 92.44.171.31 / Windows / Chrome</p>
                        <p class="text-slate-500 text-xs mt-1">→ Tek fingerprint, overlap yok</p>
                    </div>
                    <div class="bg-red-900/20 border border-red-700/50 rounded-lg p-4">
                        <div class="flex items-center gap-2 mb-2">
                            <i class="fas fa-times-circle text-red-400"></i>
                            <span class="font-bold text-red-400">SUİSTİMAL (Overlap)</span>
                        </div>
                        <p class="text-slate-400 font-mono">10:00-10:05: Şarkı A çalıyor</p>
                        <p class="text-slate-400 font-mono">10:02-10:07: Şarkı B çalıyor</p>
                        <p class="text-slate-500 text-xs mt-1">→ 3 dakika overlap, IP fark etmez</p>
                    </div>
                    <div class="bg-red-900/20 border border-red-700/50 rounded-lg p-4">
                        <div class="flex items-center gap-2 mb-2">
                            <i class="fas fa-times-circle text-red-400"></i>
                            <span class="font-bold text-red-400">SUİSTİMAL (Farklı Cihaz)</span>
                        </div>
                        <p class="text-slate-400 font-mono">Sabah: 92.44.171.31 / Windows / Chrome</p>
                        <p class="text-slate-400 font-mono">Akşam: 88.230.89.180 / macOS / Safari</p>
                        <p class="text-slate-500 text-xs mt-1">→ 2 farklı fingerprint, hesap paylaşılıyor</p>
                    </div>
                    <div class="bg-red-900/20 border border-red-700/50 rounded-lg p-4">
                        <div class="flex items-center gap-2 mb-2">
                            <i class="fas fa-times-circle text-red-400"></i>
                            <span class="font-bold text-red-400">SUİSTİMAL (Sadece IP Değişti)</span>
                        </div>
                        <p class="text-slate-400 font-mono">Sabah: <span class="text-yellow-400">92.44.171.31</span> / Windows / Chrome</p>
                        <p class="text-slate-400 font-mono">Akşam: <span class="text-red-400">88.230.89.180</span> / Windows / Chrome</p>
                        <p class="text-slate-500 text-xs mt-1">→ IP değişti = farklı lokasyon</p>
                    </div>
                </div>
            </div>
        </section>

        <!-- 4. UYGULAMA -->
        <section id="impl" class="mb-12">
            <h2 class="text-2xl font-bold mb-6 flex items-center gap-3 border-b border-slate-700 pb-3">
                <span class="bg-purple-500/20 text-purple-400 w-10 h-10 rounded-lg flex items-center justify-center">4</span>
                Uygulama
            </h2>

            <div class="bg-slate-800/50 border border-slate-700 rounded-xl p-6 mb-6">
                <h3 class="font-bold text-lg text-white mb-4">Değiştirilecek: AbuseDetectionService.php</h3>

                <div class="space-y-4">
                    <div class="bg-slate-900 rounded-lg p-4">
                        <h4 class="text-yellow-400 font-mono mb-2">1. detectAllPatterns() güncelle</h4>
                        <p class="text-slate-400 text-sm">Mevcut pattern'leri kaldır veya sadeleştir. Sadece 2 kontrol:</p>
                        <ul class="text-slate-500 text-sm mt-2 space-y-1">
                            <li>• hasOverlap() → bool</li>
                            <li>• hasMultipleFingerprints() → bool</li>
                        </ul>
                    </div>

                    <div class="bg-slate-900 rounded-lg p-4">
                        <h4 class="text-yellow-400 font-mono mb-2">2. calculateTotalAbuseScore() sadeleştir</h4>
                        <p class="text-slate-400 text-sm">Puan sistemi yerine basit status:</p>
                        <ul class="text-slate-500 text-sm mt-2 space-y-1">
                            <li>• Overlap VEYA 2+ fingerprint varsa → status = "abuse"</li>
                            <li>• Yoksa → status = "clean"</li>
                        </ul>
                    </div>

                    <div class="bg-slate-900 rounded-lg p-4">
                        <h4 class="text-yellow-400 font-mono mb-2">3. getUniqueFingerprints() ekle</h4>
                        <p class="text-slate-400 text-sm">Günlük benzersiz fingerprint listesi:</p>
                        <div class="font-mono text-xs text-slate-500 mt-2 bg-slate-800 p-2 rounded">
                            $fingerprints = $plays->map(fn($p) => $p['ip'] . '-' . $p['platform'] . '-' . $p['browser'])->unique();
                        </div>
                    </div>
                </div>
            </div>

            <div class="bg-emerald-900/20 border border-emerald-700 rounded-xl p-6">
                <h3 class="font-bold text-emerald-400 mb-4">
                    <i class="fas fa-check-double mr-2"></i>Sonuç
                </h3>
                <div class="grid md:grid-cols-3 gap-4 text-center text-sm">
                    <div class="bg-slate-800 rounded-lg p-4">
                        <p class="text-slate-400">Eski Sistem</p>
                        <p class="text-slate-500 mt-1">5+ kural, puan hesabı, karmaşık</p>
                    </div>
                    <div class="text-2xl text-emerald-400 flex items-center justify-center">
                        <i class="fas fa-arrow-right"></i>
                    </div>
                    <div class="bg-slate-800 rounded-lg p-4">
                        <p class="text-emerald-400 font-bold">Yeni Sistem</p>
                        <p class="text-slate-300 mt-1">2 kural, VAR/YOK, basit</p>
                    </div>
                </div>
            </div>
        </section>

        <!-- Footer -->
        <footer class="text-center text-slate-500 text-sm border-t border-slate-800 pt-8">
            <p>Bu dokümantasyon Claude AI tarafından oluşturulmuştur.</p>
            <p class="mt-2">Muzibu Hesap Paylaşımı Tespiti - Final Plan v6</p>
            <p class="mt-1">1 Ocak 2026</p>
        </footer>
    </div>
</body>
</html>

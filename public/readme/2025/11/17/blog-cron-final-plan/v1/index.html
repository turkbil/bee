<!DOCTYPE html>
<html lang="tr">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Blog AI Cron - KapsamlÄ± Final Plan (Max 8 Blog/GÃ¼n)</title>
    <style>
        * { margin: 0; padding: 0; box-sizing: border-box; }

        body {
            background: linear-gradient(135deg, #0f172a 0%, #1e293b 100%);
            color: #e2e8f0;
            font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', system-ui, sans-serif;
            line-height: 1.7;
            padding: 40px 20px;
        }

        .container {
            max-width: 1400px;
            margin: 0 auto;
        }

        header {
            margin-bottom: 50px;
            padding-bottom: 30px;
            border-bottom: 2px solid #334155;
            text-align: center;
        }

        h1 {
            font-size: 3rem;
            font-weight: 700;
            margin-bottom: 15px;
            background: linear-gradient(135deg, #f59e0b, #d97706, #b45309);
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
        }

        .meta {
            color: #94a3b8;
            font-size: 1rem;
            line-height: 1.6;
        }

        section {
            margin-bottom: 60px;
        }

        h2 {
            font-size: 2rem;
            margin-bottom: 30px;
            color: #f59e0b;
            display: flex;
            align-items: center;
            gap: 12px;
            padding-bottom: 15px;
            border-bottom: 2px solid #334155;
        }

        h3 {
            font-size: 1.5rem;
            margin: 35px 0 20px 0;
            color: #fbbf24;
        }

        h4 {
            font-size: 1.2rem;
            margin: 25px 0 15px 0;
            color: #fcd34d;
        }

        .highlight-box {
            background: linear-gradient(135deg, rgba(245, 158, 11, 0.1), rgba(217, 119, 6, 0.05));
            border: 2px solid #f59e0b;
            padding: 30px;
            margin: 30px 0;
            border-radius: 16px;
            box-shadow: 0 10px 40px rgba(245, 158, 11, 0.2);
        }

        .highlight-box h3 {
            color: #f59e0b;
            margin-top: 0;
            font-size: 1.8rem;
            text-align: center;
        }

        .plan-item {
            background: rgba(30, 41, 59, 0.5);
            padding: 30px;
            margin-bottom: 20px;
            border-radius: 12px;
            border-left: 4px solid #f59e0b;
            backdrop-filter: blur(10px);
            transition: all 0.3s ease;
        }

        .plan-item:hover {
            transform: translateX(5px);
            background: rgba(30, 41, 59, 0.7);
        }

        .plan-item h4 {
            color: #fbbf24;
            margin-bottom: 15px;
            margin-top: 0;
        }

        .plan-item p {
            color: #cbd5e1;
            line-height: 1.8;
            margin-bottom: 12px;
        }

        .plan-item ul {
            margin-left: 25px;
            margin-top: 12px;
        }

        .plan-item li {
            color: #cbd5e1;
            margin-bottom: 10px;
        }

        .success-box {
            background: rgba(16, 185, 129, 0.1);
            border-left: 4px solid #10b981;
            padding: 25px;
            margin: 25px 0;
            border-radius: 8px;
        }

        .success-box h4 {
            color: #6ee7b7;
            margin-bottom: 12px;
        }

        .warning-box {
            background: rgba(239, 68, 68, 0.1);
            border-left: 4px solid #ef4444;
            padding: 25px;
            margin: 25px 0;
            border-radius: 8px;
        }

        .warning-box h4 {
            color: #fca5a5;
            margin-bottom: 12px;
        }

        .danger-box {
            background: rgba(220, 38, 38, 0.1);
            border-left: 4px solid #dc2626;
            padding: 25px;
            margin: 25px 0;
            border-radius: 8px;
        }

        .danger-box h4 {
            color: #fca5a5;
            margin-bottom: 12px;
        }

        .info-box {
            background: rgba(59, 130, 246, 0.1);
            border-left: 4px solid #3b82f6;
            padding: 25px;
            margin: 25px 0;
            border-radius: 8px;
        }

        .info-box h4 {
            color: #93c5fd;
            margin-bottom: 12px;
        }

        .schedule-grid {
            display: grid;
            grid-template-columns: repeat(12, 1fr);
            gap: 8px;
            margin: 30px 0;
        }

        .schedule-hour {
            background: rgba(51, 65, 85, 0.3);
            padding: 15px 5px;
            border-radius: 8px;
            text-align: center;
            font-size: 0.85rem;
            transition: all 0.3s ease;
            border: 1px solid transparent;
        }

        .schedule-hour.active {
            background: #f59e0b;
            color: white;
            font-weight: 700;
            transform: scale(1.1);
            border-color: #d97706;
            box-shadow: 0 4px 12px rgba(245, 158, 11, 0.4);
        }

        .schedule-hour.inactive {
            opacity: 0.3;
        }

        .comparison-table {
            width: 100%;
            margin: 30px 0;
            border-collapse: collapse;
            background: rgba(30, 41, 59, 0.3);
            border-radius: 12px;
            overflow: hidden;
        }

        .comparison-table th {
            background: rgba(51, 65, 85, 0.5);
            padding: 18px;
            text-align: left;
            color: #fbbf24;
            font-weight: 600;
            border-bottom: 2px solid #334155;
        }

        .comparison-table td {
            padding: 15px 18px;
            border-bottom: 1px solid #334155;
            color: #cbd5e1;
        }

        .comparison-table tr:hover {
            background: rgba(51, 65, 85, 0.3);
        }

        .comparison-table .bad { color: #fca5a5; font-weight: 600; }
        .comparison-table .good { color: #6ee7b7; font-weight: 600; }

        .stats-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));
            gap: 20px;
            margin: 30px 0;
        }

        .stat-card {
            background: rgba(30, 41, 59, 0.5);
            padding: 25px;
            border-radius: 12px;
            text-align: center;
            border: 1px solid #334155;
            transition: all 0.3s ease;
        }

        .stat-card:hover {
            transform: translateY(-5px);
            box-shadow: 0 10px 30px rgba(245, 158, 11, 0.3);
        }

        .stat-card .value {
            font-size: 2.5rem;
            font-weight: 700;
            margin-bottom: 10px;
        }

        .stat-card .label {
            color: #94a3b8;
            font-size: 0.95rem;
        }

        .stat-card.good .value { color: #10b981; }
        .stat-card.bad .value { color: #dc2626; }
        .stat-card .value { color: #f59e0b; }

        .badge {
            display: inline-block;
            padding: 5px 14px;
            border-radius: 20px;
            font-size: 0.85rem;
            font-weight: 600;
            margin-left: 10px;
        }

        .badge-recommended { background: #10b981; color: white; }
        .badge-optimal { background: #f59e0b; color: white; }
        .badge-max { background: #ef4444; color: white; }

        .code-block {
            background: #1e293b;
            border: 1px solid #334155;
            border-radius: 8px;
            padding: 20px;
            margin: 20px 0;
            font-family: 'Courier New', monospace;
            font-size: 0.9rem;
            color: #22d3ee;
            overflow-x: auto;
        }

        .formula-box {
            background: rgba(139, 92, 246, 0.1);
            border: 2px solid #8b5cf6;
            padding: 25px;
            margin: 25px 0;
            border-radius: 12px;
            text-align: center;
        }

        .formula-box .formula {
            font-size: 1.3rem;
            color: #c4b5fd;
            font-family: 'Courier New', monospace;
            margin: 15px 0;
            font-weight: 600;
        }

        .flow-step {
            display: flex;
            align-items: center;
            margin: 20px 0;
            padding: 20px;
            background: rgba(51, 65, 85, 0.5);
            border-radius: 8px;
        }

        .flow-step .number {
            background: #3b82f6;
            color: white;
            width: 45px;
            height: 45px;
            border-radius: 50%;
            display: flex;
            align-items: center;
            justify-content: center;
            font-weight: 700;
            margin-right: 20px;
            flex-shrink: 0;
            font-size: 1.2rem;
        }

        .flow-step .content {
            flex: 1;
        }

        .arrow {
            text-align: center;
            color: #60a5fa;
            font-size: 1.8rem;
            margin: 8px 0;
        }

        .timeline {
            position: relative;
            padding: 20px 0;
        }

        .timeline-item {
            padding: 20px 0 20px 40px;
            border-left: 2px solid #334155;
            position: relative;
        }

        .timeline-item::before {
            content: '';
            position: absolute;
            left: -6px;
            top: 25px;
            width: 10px;
            height: 10px;
            border-radius: 50%;
            background: #f59e0b;
        }

        .timeline-item.completed::before {
            background: #10b981;
        }

        .toc {
            background: rgba(30, 41, 59, 0.5);
            padding: 30px;
            border-radius: 12px;
            margin: 30px 0;
            border: 1px solid #334155;
        }

        .toc h3 {
            color: #fbbf24;
            margin-top: 0;
            margin-bottom: 20px;
        }

        .toc ul {
            list-style: none;
            margin-left: 0;
        }

        .toc li {
            margin-bottom: 12px;
        }

        .toc a {
            color: #60a5fa;
            text-decoration: none;
            transition: color 0.3s;
        }

        .toc a:hover {
            color: #93c5fd;
        }

        footer {
            margin-top: 80px;
            padding-top: 40px;
            border-top: 1px solid #334155;
            color: #64748b;
            font-size: 0.9rem;
            text-align: center;
        }
    </style>
</head>
<body>
    <div class="container">
        <header>
            <h1>ğŸ¯ Blog AI Cron - KapsamlÄ± Final Plan</h1>
            <div class="meta">
                ğŸ“… Tarih: 2025-11-17 |
                ğŸ¯ Final Karar: Max 8 Blog/GÃ¼n (SEO-Safe) |
                âš¡ Performans-Optimized Hourly System |
                ğŸ“š TÃ¼m Raporlar BirleÅŸtirildi
            </div>
        </header>

        <div class="toc">
            <h3>ğŸ“‹ Ä°Ã§indekiler</h3>
            <ul>
                <li>ğŸ“Š <a href="#seo">BÃ¶lÃ¼m 1: SEO AraÅŸtÄ±rmasÄ± & Risk Analizi</a></li>
                <li>ğŸ—ï¸ <a href="#temel">BÃ¶lÃ¼m 2: Temel Cron Sistemi Mimarisi</a></li>
                <li>âš™ï¸ <a href="#settings">BÃ¶lÃ¼m 3: Settings Entegrasyonu & Tenant-Aware</a></li>
                <li>âš¡ <a href="#performans">BÃ¶lÃ¼m 4: Performans Optimizasyonu</a></li>
                <li>ğŸ¯ <a href="#final">BÃ¶lÃ¼m 5: Final Karar & Saat PlanlamasÄ±</a></li>
                <li>ğŸ› ï¸ <a href="#implementasyon">BÃ¶lÃ¼m 6: Teknik Ä°mplementasyon</a></li>
                <li>âœ… <a href="#adimlar">BÃ¶lÃ¼m 7: Sonraki AdÄ±mlar</a></li>
            </ul>
        </div>

        <div class="highlight-box">
            <h3>ğŸ† Final Karar: Max 8 Blog/GÃ¼n</h3>
            <p style="color: #cbd5e1; text-align: center; font-size: 1.1rem; line-height: 1.8; margin-top: 15px;">
                SEO araÅŸtÄ±rmasÄ± ve performans analizine gÃ¶re <strong style="color: #f59e0b;">gÃ¼nde 8 blog</strong> optimal ve gÃ¼venli sÄ±nÄ±rdÄ±r.<br>
                Sistem <strong style="color: #10b981;">hourly() schedule</strong> ile Ã§alÄ±ÅŸacak (60x performans artÄ±ÅŸÄ±).<br>
                Her tenant <strong style="color: #3b82f6;">1-8 arasÄ± blog/gÃ¼n</strong> seÃ§ebilecek (settings-driven).
            </p>
        </div>

        <!-- BÃ–LÃœM 1: SEO ARAÅTIRMASI -->
        <section id="seo">
            <h2>ğŸ“Š BÃ¶lÃ¼m 1: SEO AraÅŸtÄ±rmasÄ± & Risk Analizi</h2>

            <h3>ğŸ” Google SEO StandartlarÄ± (2024-2025)</h3>

            <div class="stats-grid">
                <div class="stat-card">
                    <div class="value">2-4</div>
                    <div class="label">Google Ã–nerisi (haftalÄ±k)</div>
                </div>
                <div class="stat-card">
                    <div class="value">9-11</div>
                    <div class="label">B2B Top 10% (aylÄ±k)</div>
                </div>
                <div class="stat-card">
                    <div class="value">30</div>
                    <div class="label">Max Verimli (aylÄ±k)</div>
                </div>
                <div class="stat-card bad">
                    <div class="value">1,400+</div>
                    <div class="label">Penalize Edilen Site (2024)</div>
                </div>
            </div>

            <div class="info-box">
                <h4>ğŸ“ˆ EndÃ¼stri StandartlarÄ±</h4>
                <ul style="margin-left: 20px; margin-top: 10px;">
                    <li style="margin-bottom: 10px; color: #cbd5e1;">
                        <strong>Google Resmi Ã–nerisi:</strong> Haftada 2-4 blog (aylÄ±k 8-16 blog)
                    </li>
                    <li style="margin-bottom: 10px; color: #cbd5e1;">
                        <strong>B2B SaaS Top 10%:</strong> Ayda 9-11 blog yazÄ±sÄ± yayÄ±nlÄ±yor
                    </li>
                    <li style="margin-bottom: 10px; color: #cbd5e1;">
                        <strong>E-E-A-T StandardÄ±:</strong> Experience, Expertise, Authoritativeness, Trustworthiness
                    </li>
                    <li style="margin-bottom: 10px; color: #cbd5e1;">
                        <strong>Diminishing Returns:</strong> Ayda 30 blog'dan sonra verimlilik dÃ¼ÅŸer
                    </li>
                    <li style="margin-bottom: 10px; color: #cbd5e1;">
                        <strong>Optimal B2B Frequency:</strong> GÃ¼nde 1 blog = AylÄ±k 30 blog (sweet spot)
                    </li>
                </ul>
            </div>

            <h3>âš ï¸ Google March 2024 Core Update</h3>

            <div class="danger-box">
                <h4>ğŸ”´ Kritik UyarÄ±: Scaled AI Content Generation</h4>
                <ul style="margin-left: 20px; margin-top: 10px;">
                    <li style="margin-bottom: 10px; color: #fca5a5;">
                        <strong>1,400+ Site Penalize Edildi:</strong> "Scaled content generation" nedeniyle
                    </li>
                    <li style="margin-bottom: 10px; color: #fca5a5;">
                        <strong>Spam Sinyali:</strong> GÃ¼nde 12+ blog = "Unnatural content velocity"
                    </li>
                    <li style="margin-bottom: 10px; color: #fca5a5;">
                        <strong>Quality Drop:</strong> Ã‡ok fazla iÃ§erik = Her birinin kalitesi dÃ¼ÅŸer
                    </li>
                    <li style="margin-bottom: 10px; color: #fca5a5;">
                        <strong>User Experience:</strong> Fazla iÃ§erik = Navigasyon zorlaÅŸÄ±r, UX bozulur
                    </li>
                </ul>
            </div>

            <h3>ğŸ“Š Risk Seviyeleri</h3>

            <table class="comparison-table">
                <thead>
                    <tr>
                        <th>GÃ¼nlÃ¼k Blog</th>
                        <th>AylÄ±k Toplam</th>
                        <th>SEO Durum</th>
                        <th>Risk Seviyesi</th>
                    </tr>
                </thead>
                <tbody>
                    <tr>
                        <td><strong>1-2 blog/gÃ¼n</strong></td>
                        <td>30-60 blog/ay</td>
                        <td class="good">âœ… Ã‡ok GÃ¼venli</td>
                        <td class="good">%0 Risk</td>
                    </tr>
                    <tr>
                        <td><strong>3-5 blog/gÃ¼n</strong></td>
                        <td>90-150 blog/ay</td>
                        <td class="good">âœ… GÃ¼venli</td>
                        <td class="good">%5 Risk</td>
                    </tr>
                    <tr>
                        <td><strong>6-8 blog/gÃ¼n</strong></td>
                        <td>180-240 blog/ay</td>
                        <td style="color: #fbbf24;">âš ï¸ SÄ±nÄ±rda</td>
                        <td style="color: #fbbf24;">%15 Risk</td>
                    </tr>
                    <tr>
                        <td><strong>10-12 blog/gÃ¼n</strong></td>
                        <td>300-360 blog/ay</td>
                        <td class="bad">ğŸ”´ Riskli</td>
                        <td class="bad">%40 Risk</td>
                    </tr>
                    <tr>
                        <td><strong>24+ blog/gÃ¼n</strong></td>
                        <td>720+ blog/ay</td>
                        <td class="bad">ğŸ”´ Tehlikeli</td>
                        <td class="bad">%80+ Risk</td>
                    </tr>
                </tbody>
            </table>

            <div class="success-box">
                <h4>âœ… Final SEO Ã–nerisi</h4>
                <ul style="margin-left: 20px; margin-top: 10px;">
                    <li style="margin-bottom: 10px; color: #6ee7b7;">
                        <strong>GÃ¼venli AralÄ±k:</strong> 3-5 blog/gÃ¼n (90-150/ay)
                    </li>
                    <li style="margin-bottom: 10px; color: #6ee7b7;">
                        <strong>B2B Optimal:</strong> 4 blog/gÃ¼n (120/ay) - En verimli
                    </li>
                    <li style="margin-bottom: 10px; color: #6ee7b7;">
                        <strong>Maksimum GÃ¼venli:</strong> 8 blog/gÃ¼n (240/ay) - SÄ±nÄ±r Ã§izgisi
                    </li>
                    <li style="margin-bottom: 10px; color: #6ee7b7;">
                        <strong>Ã–nerilmeyen:</strong> 10+ blog/gÃ¼n (spam riski baÅŸlar)
                    </li>
                </ul>
            </div>
        </section>

        <!-- BÃ–LÃœM 2: TEMEL CRON SÄ°STEMÄ° -->
        <section id="temel">
            <h2>ğŸ—ï¸ BÃ¶lÃ¼m 2: Temel Cron Sistemi Mimarisi</h2>

            <h3>ğŸ¯ Sistem Hedefi</h3>

            <div class="success-box">
                <h4>âœ… Ana AmaÃ§lar</h4>
                <ul style="margin-left: 20px; margin-top: 10px;">
                    <li style="margin-bottom: 10px; color: #6ee7b7;">
                        Otomatik blog Ã¼retimi (manuel mÃ¼dahale sÄ±fÄ±r)
                    </li>
                    <li style="margin-bottom: 10px; color: #6ee7b7;">
                        Draft havuzu yÃ¶netimi (asla tÃ¼kenmez)
                    </li>
                    <li style="margin-bottom: 10px; color: #6ee7b7;">
                        Queue sistemi kullanÄ±mÄ± (arka plan iÅŸlem)
                    </li>
                    <li style="margin-bottom: 10px; color: #6ee7b7;">
                        Log & monitoring (tam takip)
                    </li>
                </ul>
            </div>

            <h3>ğŸ”„ Sistem AkÄ±ÅŸ MantÄ±ÄŸÄ±</h3>

            <div class="flow-step">
                <div class="number">1</div>
                <div class="content">
                    <strong>Cron Job Tetiklenir</strong><br>
                    Laravel scheduler belirlenen saatlerde Ã§alÄ±ÅŸÄ±r
                </div>
            </div>

            <div class="arrow">â†“</div>

            <div class="flow-step">
                <div class="number">2</div>
                <div class="content">
                    <strong>Draft KontrolÃ¼</strong><br>
                    Sistemde kaÃ§ adet hazÄ±r draft var? (is_generated = false)
                </div>
            </div>

            <div class="arrow">â†“</div>

            <div class="flow-step">
                <div class="number">3</div>
                <div class="content">
                    <strong>Karar NoktasÄ±</strong><br>
                    â€¢ Draft > 10 â†’ Rastgele draft seÃ§, blog Ã¼ret<br>
                    â€¢ Draft â‰¤ 10 â†’ Blog Ã¼ret + 100 yeni draft Ã¼ret<br>
                    â€¢ Draft = 0 â†’ Ã–nce 100 draft Ã¼ret, sonra blog
                </div>
            </div>

            <div class="arrow">â†“</div>

            <div class="flow-step">
                <div class="number">4</div>
                <div class="content">
                    <strong>Queue Job Tetiklenir</strong><br>
                    GenerateBlogFromDraftJob arka planda baÅŸlar
                </div>
            </div>

            <div class="arrow">â†“</div>

            <div class="flow-step">
                <div class="number">5</div>
                <div class="content">
                    <strong>Draft KullanÄ±ldÄ± Olarak Ä°ÅŸaretle</strong><br>
                    is_generated = true, is_selected = true
                </div>
            </div>

            <div class="arrow">â†“</div>

            <div class="flow-step">
                <div class="number">6</div>
                <div class="content">
                    <strong>Otomatik Draft Yenileme (Ä°steÄŸe BaÄŸlÄ±)</strong><br>
                    Draft havuzu 10'un altÄ±na dÃ¼ÅŸtÃ¼yse 100 yeni draft Ã¼ret
                </div>
            </div>

            <div class="arrow">â†“</div>

            <div class="flow-step">
                <div class="number">7</div>
                <div class="content">
                    <strong>Log & Monitoring</strong><br>
                    Ä°ÅŸlem kaydedilir, baÅŸarÄ±/hata durumu loglanÄ±r
                </div>
            </div>

            <h3>âš ï¸ Temel Sistemin SorunlarÄ±</h3>

            <div class="warning-box">
                <h4>ğŸ”´ Eksiklikler</h4>
                <ul style="margin-left: 20px; margin-top: 10px;">
                    <li style="margin-bottom: 10px; color: #fca5a5;">
                        <strong>Sabit Frekans:</strong> Her saat baÅŸÄ± Ã§alÄ±ÅŸÄ±r (tenant ayarÄ± yok)
                    </li>
                    <li style="margin-bottom: 10px; color: #fca5a5;">
                        <strong>Settings Yok:</strong> blog_ai_enabled, daily_count kullanÄ±lmÄ±yor
                    </li>
                    <li style="margin-bottom: 10px; color: #fca5a5;">
                        <strong>Tenant-Aware DeÄŸil:</strong> TÃ¼m tenant'lar aynÄ± frekans
                    </li>
                    <li style="margin-bottom: 10px; color: #fca5a5;">
                        <strong>Esneklik Yok:</strong> 1-8 arasÄ± seÃ§im imkanÄ± yok
                    </li>
                </ul>
            </div>
        </section>

        <!-- BÃ–LÃœM 3: SETTINGS ENTEGRASYONU -->
        <section id="settings">
            <h2>âš™ï¸ BÃ¶lÃ¼m 3: Settings Entegrasyonu & Tenant-Aware</h2>

            <h3>ğŸ—‚ï¸ Settings Management YapÄ±sÄ±</h3>

            <div class="plan-item">
                <h4>SettingGroup (Central DB)</h4>
                <p>Setting gruplarÄ± - TÃ¼m tenant'lar iÃ§in ortak tanÄ±mlar</p>
                <div class="code-block">
                    Model: SettingGroup::class<br>
                    Tablo: settings_groups (Central DB)<br>
                    Connection: CentralConnection trait<br>
                    Ã–rnek: "Blog - Yapay Zeka" (ID: 18)<br>
                    <br>
                    Kolonlar:<br>
                    - id<br>
                    - parent_id<br>
                    - name (JSON: tr, en, ar)<br>
                    - slug<br>
                    - description (JSON)<br>
                    - icon<br>
                    - layout (JSON: tabs, fields, order)
                </div>
            </div>

            <div class="plan-item">
                <h4>Setting (Central DB)</h4>
                <p>Ayar tanÄ±mlarÄ± - Hangi ayarlar var, tipleri ne?</p>
                <div class="code-block">
                    Model: Setting::class<br>
                    Tablo: settings (Central DB)<br>
                    Connection: CentralConnection trait<br>
                    <br>
                    Kolonlar:<br>
                    - id<br>
                    - group_id<br>
                    - label (JSON: tr, en, ar)<br>
                    - key (unique)<br>
                    - type (text, number, checkbox, select, textarea)<br>
                    - default_value<br>
                    - options (JSON - select iÃ§in)<br>
                    <br>
                    Ã–rnek Ayarlar:<br>
                    â€¢ blog_ai_enabled (checkbox)<br>
                    â€¢ blog_ai_daily_count (select: 1-8)<br>
                    â€¢ blog_ai_auto_publish (checkbox)
                </div>
            </div>

            <div class="plan-item">
                <h4>SettingValue (Tenant DB)</h4>
                <p>Ayar deÄŸerleri - Her tenant'Ä±n kendi deÄŸerleri</p>
                <div class="code-block">
                    Model: SettingValue::class<br>
                    Tablo: settings_values (Tenant DB)<br>
                    Connection: Tenant connection (dynamic)<br>
                    <br>
                    Kolonlar:<br>
                    - id<br>
                    - setting_id (Central setting'e referans)<br>
                    - value (actual value)<br>
                    <br>
                    Ã–rnek Data:<br>
                    â€¢ setting_id=130, value=1 (blog_ai_enabled=true)<br>
                    â€¢ setting_id=131, value=4 (blog_ai_daily_count=4)<br>
                    â€¢ setting_id=132, value=1 (blog_ai_auto_publish=true)
                </div>
            </div>

            <h3>ğŸ“Š Blog AI Settings (Group ID: 18)</h3>

            <table class="comparison-table">
                <thead>
                    <tr>
                        <th>Setting Key</th>
                        <th>Tip</th>
                        <th>VarsayÄ±lan</th>
                        <th>KullanÄ±m</th>
                    </tr>
                </thead>
                <tbody>
                    <tr>
                        <td><code>blog_ai_enabled</code></td>
                        <td>checkbox</td>
                        <td>false</td>
                        <td>Sistem aktif/pasif</td>
                    </tr>
                    <tr>
                        <td><code>blog_ai_daily_count</code></td>
                        <td>select (1-8)</td>
                        <td>4</td>
                        <td>GÃ¼nlÃ¼k blog sayÄ±sÄ±</td>
                    </tr>
                    <tr>
                        <td><code>blog_ai_auto_publish</code></td>
                        <td>checkbox</td>
                        <td>true</td>
                        <td>Otomatik yayÄ±nla</td>
                    </tr>
                    <tr>
                        <td><code>blog_ai_topic_source</code></td>
                        <td>select</td>
                        <td>otomatik</td>
                        <td>Konu kaynaÄŸÄ±</td>
                    </tr>
                    <tr>
                        <td><code>blog_ai_manual_topics</code></td>
                        <td>textarea</td>
                        <td>null</td>
                        <td>Manuel konular</td>
                    </tr>
                    <tr>
                        <td><code>blog_ai_professional_only</code></td>
                        <td>checkbox</td>
                        <td>false</td>
                        <td>B2B profesyonel ton</td>
                    </tr>
                </tbody>
            </table>

            <h3>ğŸ”„ Tenant-Aware Cron AkÄ±ÅŸÄ±</h3>

            <div class="flow-step">
                <div class="number">1</div>
                <div class="content">
                    <strong>Tenant Loop</strong><br>
                    TÃ¼m aktif tenant'larÄ± dÃ¶ngÃ¼ye al
                </div>
            </div>

            <div class="arrow">â†“</div>

            <div class="flow-step">
                <div class="number">2</div>
                <div class="content">
                    <strong>Tenant Context Switch</strong><br>
                    tenancy()->initialize($tenant) - Tenant DB'ye geÃ§
                </div>
            </div>

            <div class="arrow">â†“</div>

            <div class="flow-step">
                <div class="number">3</div>
                <div class="content">
                    <strong>Settings Check</strong><br>
                    â€¢ blog_ai_enabled = true mÄ±? â†’ HayÄ±rsa skip<br>
                    â€¢ blog_ai_daily_count kaÃ§? â†’ Frekans hesapla<br>
                    â€¢ blog_ai_auto_publish aktif mi? â†’ YayÄ±n durumu
                </div>
            </div>

            <div class="arrow">â†“</div>

            <div class="flow-step">
                <div class="number">4</div>
                <div class="content">
                    <strong>Schedule Matching</strong><br>
                    Åimdiki saat bu tenant'Ä±n schedule'Ä±nda var mÄ±?
                </div>
            </div>

            <div class="arrow">â†“</div>

            <div class="flow-step">
                <div class="number">5</div>
                <div class="content">
                    <strong>Blog Generation</strong><br>
                    Evetse â†’ Blog Ã¼ret, auto_publish ayarÄ±na gÃ¶re kaydet
                </div>
            </div>
        </section>

        <!-- BÃ–LÃœM 4: PERFORMANS OPTÄ°MÄ°ZASYONU -->
        <section id="performans">
            <h2>âš¡ BÃ¶lÃ¼m 4: Performans Optimizasyonu</h2>

            <h3>ğŸ”´ Sorun: everyMinute() Neden KÃ¶tÃ¼?</h3>

            <div class="danger-box">
                <h4>âš ï¸ Performans SorunlarÄ±</h4>
                <ul style="margin-left: 20px; margin-top: 10px;">
                    <li style="margin-bottom: 10px; color: #fca5a5;">
                        <strong>CPU YÃ¼kÃ¼:</strong> Dakikada 1 cron = GÃ¼nde 1,440 cron Ã§alÄ±ÅŸmasÄ±
                    </li>
                    <li style="margin-bottom: 10px; color: #fca5a5;">
                        <strong>Database Query:</strong> Her Ã§alÄ±ÅŸmada tenant loop + settings query
                    </li>
                    <li style="margin-bottom: 10px; color: #fca5a5;">
                        <strong>Memory Churn:</strong> Her tenant iÃ§in context switch
                    </li>
                    <li style="margin-bottom: 10px; color: #fca5a5;">
                        <strong>Disk I/O:</strong> Log dosyasÄ± dakikada bÃ¼yÃ¼r
                    </li>
                    <li style="margin-bottom: 10px; color: #fca5a5;">
                        <strong>Gereksiz Ä°ÅŸ:</strong> 100 tenant Ã— 1440 cron = 144,000 kontrol/gÃ¼n
                    </li>
                </ul>
            </div>

            <h3>ğŸ“Š Performans KarÅŸÄ±laÅŸtÄ±rmasÄ±</h3>

            <table class="comparison-table">
                <thead>
                    <tr>
                        <th>Metrik</th>
                        <th>everyMinute() âŒ</th>
                        <th>hourly() âœ…</th>
                        <th>Ä°yileÅŸtirme</th>
                    </tr>
                </thead>
                <tbody>
                    <tr>
                        <td><strong>GÃ¼nlÃ¼k Cron</strong></td>
                        <td class="bad">1,440</td>
                        <td class="good">24</td>
                        <td class="good">60x daha az</td>
                    </tr>
                    <tr>
                        <td><strong>AylÄ±k Cron</strong></td>
                        <td class="bad">43,200</td>
                        <td class="good">720</td>
                        <td class="good">60x daha az</td>
                    </tr>
                    <tr>
                        <td><strong>Tenant Loop (100)</strong></td>
                        <td class="bad">144,000/gÃ¼n</td>
                        <td class="good">2,400/gÃ¼n</td>
                        <td class="good">60x daha az</td>
                    </tr>
                    <tr>
                        <td><strong>Settings Query</strong></td>
                        <td class="bad">Her dakika</td>
                        <td class="good">Cache (1 saat)</td>
                        <td class="good">60x daha az</td>
                    </tr>
                    <tr>
                        <td><strong>CPU KullanÄ±mÄ±</strong></td>
                        <td class="bad">SÃ¼rekli</td>
                        <td class="good">Saat baÅŸÄ± spike</td>
                        <td class="good">%95 boÅŸta</td>
                    </tr>
                    <tr>
                        <td><strong>Log Boyutu (aylÄ±k)</strong></td>
                        <td class="bad">~500MB</td>
                        <td class="good">~8MB</td>
                        <td class="good">60x daha kÃ¼Ã§Ã¼k</td>
                    </tr>
                </tbody>
            </table>

            <div class="stats-grid">
                <div class="stat-card bad">
                    <div class="value">1440</div>
                    <div class="label">GÃ¼nlÃ¼k Cron (Minute)</div>
                </div>
                <div class="stat-card good">
                    <div class="value">24</div>
                    <div class="label">GÃ¼nlÃ¼k Cron (Hourly)</div>
                </div>
                <div class="stat-card good">
                    <div class="value">60x</div>
                    <div class="label">Performans ArtÄ±ÅŸÄ±</div>
                </div>
                <div class="stat-card good">
                    <div class="value">%95</div>
                    <div class="label">CPU Tasarrufu</div>
                </div>
            </div>

            <h3>âœ… Ã‡Ã¶zÃ¼m: Hourly + Pre-Calculated Schedule</h3>

            <div class="success-box">
                <h4>ğŸ¯ Yeni Mimari Prensipleri</h4>
                <ul style="margin-left: 20px; margin-top: 10px;">
                    <li style="margin-bottom: 10px; color: #6ee7b7;">
                        <strong>Saatlik Base:</strong> ->hourly() kullan (gÃ¼nde 24 kez)
                    </li>
                    <li style="margin-bottom: 10px; color: #6ee7b7;">
                        <strong>1-8 ArasÄ± Selectbox:</strong> SEO-safe, kullanÄ±cÄ± dostu
                    </li>
                    <li style="margin-bottom: 10px; color: #6ee7b7;">
                        <strong>Pre-Calculated Schedule:</strong> Settings kaydedildiÄŸinde hesapla
                    </li>
                    <li style="margin-bottom: 10px; color: #6ee7b7;">
                        <strong>Multi-Layer Cache:</strong> Tenant list, schedule, settings
                    </li>
                    <li style="margin-bottom: 10px; color: #6ee7b7;">
                        <strong>Minimal Loop:</strong> Sadece o saatte Ã§alÄ±ÅŸmasÄ± gereken tenant'lar
                    </li>
                </ul>
            </div>

            <h3>ğŸ§® Cache Stratejisi</h3>

            <div class="plan-item">
                <h4>Ã‡ok KatmanlÄ± Cache</h4>
                <ul>
                    <li>
                        <strong>Layer 1: Tenant List Cache</strong><br>
                        Key: <code>blog_cron_tenant_list</code><br>
                        Value: [1, 2, 3, 4, 1001, ...]<br>
                        TTL: 1 saat<br>
                        <span style="color: #6ee7b7;">â†’ Her cron'da tenant query yok</span>
                    </li>
                    <li style="margin-top: 15px;">
                        <strong>Layer 2: Schedule Cache</strong><br>
                        Key: <code>blog_cron_schedule_tenant_{id}</code><br>
                        Value: [0, 3, 6, 9, 12, 15, 18, 21]<br>
                        TTL: 24 saat<br>
                        <span style="color: #6ee7b7;">â†’ Settings deÄŸiÅŸince invalidate</span>
                    </li>
                    <li style="margin-top: 15px;">
                        <strong>Layer 3: Settings Cache</strong><br>
                        Key: <code>blog_ai_settings_tenant_{id}</code><br>
                        Value: {enabled: true, daily_count: 8, auto_publish: true}<br>
                        TTL: 1 saat<br>
                        <span style="color: #6ee7b7;">â†’ Settings deÄŸiÅŸince invalidate</span>
                    </li>
                </ul>
                <p style="margin-top: 20px; color: #fbbf24;">
                    <strong>âš¡ SonuÃ§:</strong> 3 cache hit â†’ 0 database query per cron!
                </p>
            </div>

            <h3>ğŸ“Š Beklenen Ä°yileÅŸtirmeler</h3>

            <table class="comparison-table">
                <thead>
                    <tr>
                        <th>Metrik</th>
                        <th>DeÄŸer</th>
                        <th>AÃ§Ä±klama</th>
                    </tr>
                </thead>
                <tbody>
                    <tr>
                        <td><strong>Cron FrekansÄ±</strong></td>
                        <td class="good">Saatte 1</td>
                        <td>24/gÃ¼n, 720/ay</td>
                    </tr>
                    <tr>
                        <td><strong>DB Query (Cron)</strong></td>
                        <td class="good">~0</td>
                        <td>TÃ¼m data cache'den</td>
                    </tr>
                    <tr>
                        <td><strong>Tenant Loop</strong></td>
                        <td class="good">Minimal</td>
                        <td>Sadece enabled tenant'lar</td>
                    </tr>
                    <tr>
                        <td><strong>CPU</strong></td>
                        <td class="good">Saat baÅŸÄ± spike</td>
                        <td>%95+ boÅŸta</td>
                    </tr>
                    <tr>
                        <td><strong>Memory</strong></td>
                        <td class="good">DÃ¼ÅŸÃ¼k</td>
                        <td>Cache hit, DB yok</td>
                    </tr>
                    <tr>
                        <td><strong>Ã–lÃ§eklenebilirlik</strong></td>
                        <td class="good">1000+ tenant</td>
                        <td>Linear scaling</td>
                    </tr>
                </tbody>
            </table>
        </section>

        <!-- BÃ–LÃœM 5: FINAL KARAR & SAAT PLANLAMASI -->
        <section id="final">
            <h2>ğŸ¯ BÃ¶lÃ¼m 5: Final Karar & Saat PlanlamasÄ±</h2>

            <h3>âš™ï¸ blog_ai_daily_count Settings</h3>

            <div class="plan-item">
                <h4>Final KonfigÃ¼rasyon</h4>
                <div class="code-block">
                    Setting Key: blog_ai_daily_count<br>
                    Label: "GÃ¼nlÃ¼k Blog SayÄ±sÄ±"<br>
                    Type: select<br>
                    Options: [1, 2, 3, 4, 5, 6, 8]<br>
                    Default: 4<br>
                    Description: "Her gÃ¼n kaÃ§ blog yazÄ±sÄ± Ã¼retilsin?<br>
                                  â€¢ SEO Optimal: 4 blog/gÃ¼n (120/ay)<br>
                                  â€¢ Maksimum GÃ¼venli: 8 blog/gÃ¼n (240/ay)"
                </div>
            </div>

            <div class="success-box">
                <h4>âœ… Neden 1-8?</h4>
                <ul style="margin-left: 20px; margin-top: 10px;">
                    <li style="margin-bottom: 10px; color: #6ee7b7;">
                        <strong>SEO GÃ¼venli:</strong> 8 blog/gÃ¼n = 240 blog/ay (sÄ±nÄ±rda ama gÃ¼venli)
                    </li>
                    <li style="margin-bottom: 10px; color: #6ee7b7;">
                        <strong>Kalite:</strong> Her blog yeterli creativit ile oluÅŸturulabilir
                    </li>
                    <li style="margin-bottom: 10px; color: #6ee7b7;">
                        <strong>Performans:</strong> hourly() ile mÃ¼kemmel uyum
                    </li>
                    <li style="margin-bottom: 10px; color: #6ee7b7;">
                        <strong>Esneklik:</strong> 1 ile 8 arasÄ± geniÅŸ aralÄ±k
                    </li>
                </ul>
            </div>

            <h3>ğŸ• Saat PlanlamalarÄ±</h3>

            <div class="plan-item">
                <h4>GÃ¼nde 1 Blog</h4>
                <div class="schedule-grid">
                    <div class="schedule-hour active">00</div>
                    <div class="schedule-hour inactive">01</div>
                    <div class="schedule-hour inactive">02</div>
                    <div class="schedule-hour inactive">03</div>
                    <div class="schedule-hour inactive">04</div>
                    <div class="schedule-hour inactive">05</div>
                    <div class="schedule-hour inactive">06</div>
                    <div class="schedule-hour inactive">07</div>
                    <div class="schedule-hour inactive">08</div>
                    <div class="schedule-hour inactive">09</div>
                    <div class="schedule-hour inactive">10</div>
                    <div class="schedule-hour inactive">11</div>
                    <div class="schedule-hour inactive">12</div>
                    <div class="schedule-hour inactive">13</div>
                    <div class="schedule-hour inactive">14</div>
                    <div class="schedule-hour inactive">15</div>
                    <div class="schedule-hour inactive">16</div>
                    <div class="schedule-hour inactive">17</div>
                    <div class="schedule-hour inactive">18</div>
                    <div class="schedule-hour inactive">19</div>
                    <div class="schedule-hour inactive">20</div>
                    <div class="schedule-hour inactive">21</div>
                    <div class="schedule-hour inactive">22</div>
                    <div class="schedule-hour inactive">23</div>
                </div>
                <p style="color: #6ee7b7;"><strong>Saatler:</strong> [0] â†’ Gece yarÄ±sÄ±</p>
            </div>

            <div class="plan-item">
                <h4>GÃ¼nde 2 Blog</h4>
                <div class="schedule-grid">
                    <div class="schedule-hour active">00</div>
                    <div class="schedule-hour inactive">01</div>
                    <div class="schedule-hour inactive">02</div>
                    <div class="schedule-hour inactive">03</div>
                    <div class="schedule-hour inactive">04</div>
                    <div class="schedule-hour inactive">05</div>
                    <div class="schedule-hour inactive">06</div>
                    <div class="schedule-hour inactive">07</div>
                    <div class="schedule-hour inactive">08</div>
                    <div class="schedule-hour inactive">09</div>
                    <div class="schedule-hour inactive">10</div>
                    <div class="schedule-hour inactive">11</div>
                    <div class="schedule-hour active">12</div>
                    <div class="schedule-hour inactive">13</div>
                    <div class="schedule-hour inactive">14</div>
                    <div class="schedule-hour inactive">15</div>
                    <div class="schedule-hour inactive">16</div>
                    <div class="schedule-hour inactive">17</div>
                    <div class="schedule-hour inactive">18</div>
                    <div class="schedule-hour inactive">19</div>
                    <div class="schedule-hour inactive">20</div>
                    <div class="schedule-hour inactive">21</div>
                    <div class="schedule-hour inactive">22</div>
                    <div class="schedule-hour inactive">23</div>
                </div>
                <p style="color: #6ee7b7;"><strong>Saatler:</strong> [0, 12] â†’ Her 12 saatte</p>
            </div>

            <div class="plan-item">
                <h4>GÃ¼nde 3 Blog</h4>
                <div class="schedule-grid">
                    <div class="schedule-hour active">00</div>
                    <div class="schedule-hour inactive">01</div>
                    <div class="schedule-hour inactive">02</div>
                    <div class="schedule-hour inactive">03</div>
                    <div class="schedule-hour inactive">04</div>
                    <div class="schedule-hour inactive">05</div>
                    <div class="schedule-hour inactive">06</div>
                    <div class="schedule-hour inactive">07</div>
                    <div class="schedule-hour active">08</div>
                    <div class="schedule-hour inactive">09</div>
                    <div class="schedule-hour inactive">10</div>
                    <div class="schedule-hour inactive">11</div>
                    <div class="schedule-hour inactive">12</div>
                    <div class="schedule-hour inactive">13</div>
                    <div class="schedule-hour inactive">14</div>
                    <div class="schedule-hour inactive">15</div>
                    <div class="schedule-hour active">16</div>
                    <div class="schedule-hour inactive">17</div>
                    <div class="schedule-hour inactive">18</div>
                    <div class="schedule-hour inactive">19</div>
                    <div class="schedule-hour inactive">20</div>
                    <div class="schedule-hour inactive">21</div>
                    <div class="schedule-hour inactive">22</div>
                    <div class="schedule-hour inactive">23</div>
                </div>
                <p style="color: #6ee7b7;"><strong>Saatler:</strong> [0, 8, 16] â†’ Her 8 saatte</p>
            </div>

            <div class="plan-item">
                <h4>GÃ¼nde 4 Blog <span class="badge badge-recommended">B2B OPTÄ°MAL</span></h4>
                <div class="schedule-grid">
                    <div class="schedule-hour active">00</div>
                    <div class="schedule-hour inactive">01</div>
                    <div class="schedule-hour inactive">02</div>
                    <div class="schedule-hour inactive">03</div>
                    <div class="schedule-hour inactive">04</div>
                    <div class="schedule-hour inactive">05</div>
                    <div class="schedule-hour active">06</div>
                    <div class="schedule-hour inactive">07</div>
                    <div class="schedule-hour inactive">08</div>
                    <div class="schedule-hour inactive">09</div>
                    <div class="schedule-hour inactive">10</div>
                    <div class="schedule-hour inactive">11</div>
                    <div class="schedule-hour active">12</div>
                    <div class="schedule-hour inactive">13</div>
                    <div class="schedule-hour inactive">14</div>
                    <div class="schedule-hour inactive">15</div>
                    <div class="schedule-hour inactive">16</div>
                    <div class="schedule-hour inactive">17</div>
                    <div class="schedule-hour active">18</div>
                    <div class="schedule-hour inactive">19</div>
                    <div class="schedule-hour inactive">20</div>
                    <div class="schedule-hour inactive">21</div>
                    <div class="schedule-hour inactive">22</div>
                    <div class="schedule-hour inactive">23</div>
                </div>
                <p style="color: #6ee7b7;"><strong>Saatler:</strong> [0, 6, 12, 18] â†’ Her 6 saatte</p>
            </div>

            <div class="plan-item">
                <h4>GÃ¼nde 5 Blog</h4>
                <div class="schedule-grid">
                    <div class="schedule-hour active">00</div>
                    <div class="schedule-hour inactive">01</div>
                    <div class="schedule-hour inactive">02</div>
                    <div class="schedule-hour inactive">03</div>
                    <div class="schedule-hour inactive">04</div>
                    <div class="schedule-hour active">05</div>
                    <div class="schedule-hour inactive">06</div>
                    <div class="schedule-hour inactive">07</div>
                    <div class="schedule-hour inactive">08</div>
                    <div class="schedule-hour inactive">09</div>
                    <div class="schedule-hour active">10</div>
                    <div class="schedule-hour inactive">11</div>
                    <div class="schedule-hour inactive">12</div>
                    <div class="schedule-hour inactive">13</div>
                    <div class="schedule-hour inactive">14</div>
                    <div class="schedule-hour active">15</div>
                    <div class="schedule-hour inactive">16</div>
                    <div class="schedule-hour inactive">17</div>
                    <div class="schedule-hour inactive">18</div>
                    <div class="schedule-hour inactive">19</div>
                    <div class="schedule-hour active">20</div>
                    <div class="schedule-hour inactive">21</div>
                    <div class="schedule-hour inactive">22</div>
                    <div class="schedule-hour inactive">23</div>
                </div>
                <p style="color: #6ee7b7;"><strong>Saatler:</strong> [0, 5, 10, 15, 20] â†’ ~Her 5 saatte</p>
            </div>

            <div class="plan-item">
                <h4>GÃ¼nde 6 Blog</h4>
                <div class="schedule-grid">
                    <div class="schedule-hour active">00</div>
                    <div class="schedule-hour inactive">01</div>
                    <div class="schedule-hour inactive">02</div>
                    <div class="schedule-hour inactive">03</div>
                    <div class="schedule-hour active">04</div>
                    <div class="schedule-hour inactive">05</div>
                    <div class="schedule-hour inactive">06</div>
                    <div class="schedule-hour inactive">07</div>
                    <div class="schedule-hour active">08</div>
                    <div class="schedule-hour inactive">09</div>
                    <div class="schedule-hour inactive">10</div>
                    <div class="schedule-hour inactive">11</div>
                    <div class="schedule-hour active">12</div>
                    <div class="schedule-hour inactive">13</div>
                    <div class="schedule-hour inactive">14</div>
                    <div class="schedule-hour inactive">15</div>
                    <div class="schedule-hour active">16</div>
                    <div class="schedule-hour inactive">17</div>
                    <div class="schedule-hour inactive">18</div>
                    <div class="schedule-hour inactive">19</div>
                    <div class="schedule-hour active">20</div>
                    <div class="schedule-hour inactive">21</div>
                    <div class="schedule-hour inactive">22</div>
                    <div class="schedule-hour inactive">23</div>
                </div>
                <p style="color: #6ee7b7;"><strong>Saatler:</strong> [0, 4, 8, 12, 16, 20] â†’ Her 4 saatte</p>
            </div>

            <div class="plan-item">
                <h4>GÃ¼nde 8 Blog <span class="badge badge-max">SEO MAXÄ°MUM</span></h4>
                <div class="schedule-grid">
                    <div class="schedule-hour active">00</div>
                    <div class="schedule-hour inactive">01</div>
                    <div class="schedule-hour inactive">02</div>
                    <div class="schedule-hour active">03</div>
                    <div class="schedule-hour inactive">04</div>
                    <div class="schedule-hour inactive">05</div>
                    <div class="schedule-hour active">06</div>
                    <div class="schedule-hour inactive">07</div>
                    <div class="schedule-hour inactive">08</div>
                    <div class="schedule-hour active">09</div>
                    <div class="schedule-hour inactive">10</div>
                    <div class="schedule-hour inactive">11</div>
                    <div class="schedule-hour active">12</div>
                    <div class="schedule-hour inactive">13</div>
                    <div class="schedule-hour inactive">14</div>
                    <div class="schedule-hour active">15</div>
                    <div class="schedule-hour inactive">16</div>
                    <div class="schedule-hour inactive">17</div>
                    <div class="schedule-hour active">18</div>
                    <div class="schedule-hour inactive">19</div>
                    <div class="schedule-hour inactive">20</div>
                    <div class="schedule-hour active">21</div>
                    <div class="schedule-hour inactive">22</div>
                    <div class="schedule-hour inactive">23</div>
                </div>
                <p style="color: #6ee7b7;"><strong>Saatler:</strong> [0, 3, 6, 9, 12, 15, 18, 21] â†’ Her 3 saatte</p>
                <p style="color: #fbbf24; margin-top: 10px;"><strong>âš ï¸ Dikkat:</strong> Maksimum gÃ¼venli sÄ±nÄ±r - Daha fazla Ã¶nerilmez!</p>
            </div>

            <h3>ğŸ¯ Tenant Ã–nerileri</h3>

            <table class="comparison-table">
                <thead>
                    <tr>
                        <th>Tenant Tipi</th>
                        <th>GÃ¼nlÃ¼k Blog</th>
                        <th>AylÄ±k Toplam</th>
                        <th>SEO Durum</th>
                    </tr>
                </thead>
                <tbody>
                    <tr>
                        <td><strong>Yeni Site</strong></td>
                        <td>1-2 blog/gÃ¼n</td>
                        <td>30-60 blog/ay</td>
                        <td class="good">âœ… Ã‡ok GÃ¼venli</td>
                    </tr>
                    <tr>
                        <td><strong>B2B Åirket</strong></td>
                        <td>3-4 blog/gÃ¼n</td>
                        <td>90-120 blog/ay</td>
                        <td class="good">âœ… Optimal</td>
                    </tr>
                    <tr>
                        <td><strong>E-Ticaret</strong></td>
                        <td>5-6 blog/gÃ¼n</td>
                        <td>150-180 blog/ay</td>
                        <td class="good">âœ… GÃ¼venli</td>
                    </tr>
                    <tr>
                        <td><strong>Ä°Ã§erik Sitesi</strong></td>
                        <td>8 blog/gÃ¼n</td>
                        <td>240 blog/ay</td>
                        <td style="color: #fbbf24;">âš ï¸ SÄ±nÄ±rda</td>
                    </tr>
                </tbody>
            </table>

            <div class="success-box">
                <h4>âœ… Ä°xtif (Tenant 2) Ä°Ã§in Strateji</h4>
                <ul style="margin-left: 20px; margin-top: 10px;">
                    <li style="margin-bottom: 10px; color: #6ee7b7;">
                        <strong>Ä°lk 3 Ay:</strong> 4 blog/gÃ¼n (B2B optimal, 120/ay)
                    </li>
                    <li style="margin-bottom: 10px; color: #6ee7b7;">
                        <strong>3-6 Ay ArasÄ±:</strong> 6 blog/gÃ¼n (baÅŸarÄ±lÄ± ise, 180/ay)
                    </li>
                    <li style="margin-bottom: 10px; color: #6ee7b7;">
                        <strong>6+ Ay:</strong> 8 blog/gÃ¼n (SEO gÃ¼cÃ¼ artarsa, 240/ay)
                    </li>
                    <li style="margin-bottom: 10px; color: #6ee7b7;">
                        <strong>Asla:</strong> 8'den fazla yapma (spam riski baÅŸlar)
                    </li>
                </ul>
            </div>
        </section>

        <!-- BÃ–LÃœM 6: TEKNÄ°K Ä°MPLEMENTASYON -->
        <section id="implementasyon">
            <h2>ğŸ› ï¸ BÃ¶lÃ¼m 6: Teknik Ä°mplementasyon</h2>

            <h3>1ï¸âƒ£ Helper Function - getTenantSetting()</h3>

            <div class="plan-item">
                <h4>Tenant-Aware Setting Helper</h4>
                <div class="code-block">
// app/helpers.php veya app/Helpers/setting_helpers.php

if (!function_exists('getTenantSetting')) {
    /**
     * Tenant-aware setting deÄŸeri Ã§ek
     *
     * @param string $key Setting key (blog_ai_enabled)
     * @param mixed $default VarsayÄ±lan deÄŸer
     * @return mixed
     */
    function getTenantSetting(string $key, $default = null)
    {
        // Cache key
        $cacheKey = "setting_{$key}_tenant_" . tenant('id');

        return Cache::remember($cacheKey, 3600, function () use ($key, $default) {
            // Setting tanÄ±mÄ±nÄ± al (Central DB)
            $setting = \Modules\SettingManagement\App\Models\Setting::where('key', $key)->first();

            if (!$setting) {
                return $default;
            }

            // Setting value'yu al (Tenant DB)
            $settingValue = \Modules\SettingManagement\App\Models\SettingValue::on('tenant')
                ->where('setting_id', $setting->id)
                ->first();

            if ($settingValue && $settingValue->value !== null) {
                return $settingValue->value;
            }

            return $setting->default_value ?? $default;
        });
    }
}
                </div>
            </div>

            <h3>2ï¸âƒ£ Schedule Calculator</h3>

            <div class="plan-item">
                <h4>calculateActiveHours() - Saat Hesaplama</h4>
                <div class="code-block">
// app/Helpers/blog_helpers.php

if (!function_exists('calculateActiveHours')) {
    /**
     * GÃ¼nlÃ¼k blog sayÄ±sÄ±na gÃ¶re aktif saatleri hesapla
     *
     * @param int $dailyCount 1-8 arasÄ±
     * @return array Aktif saatler [0, 6, 12, 18]
     */
    function calculateActiveHours(int $dailyCount): array
    {
        // Ã–zel daÄŸÄ±lÄ±mlar (optimize edilmiÅŸ)
        $schedules = [
            1 => [0],
            2 => [0, 12],
            3 => [0, 8, 16],
            4 => [0, 6, 12, 18],
            5 => [0, 5, 10, 15, 20],
            6 => [0, 4, 8, 12, 16, 20],
            8 => [0, 3, 6, 9, 12, 15, 18, 21],
        ];

        return $schedules[$dailyCount] ?? [0];
    }
}
                </div>
            </div>

            <h3>3ï¸âƒ£ Cron Command - GenerateTenantBlogs</h3>

            <div class="plan-item">
                <h4>app/Console/Commands/GenerateTenantBlogs.php</h4>
                <div class="code-block">
<?php

namespace App\Console\Commands;

use Illuminate\Console\Command;
use Modules\Blog\App\Jobs\GenerateBlogFromDraftJob;
use Modules\Blog\App\Jobs\GenerateDraftsJob;
use Modules\Blog\App\Models\BlogAIDraft;
use Stancl\Tenancy\Facades\Tenancy;

class GenerateTenantBlogs extends Command
{
    protected $signature = 'generate:tenant-blogs';
    protected $description = 'Generate blogs for all tenants based on their settings';

    const MINIMUM_DRAFT_THRESHOLD = 10;
    const DRAFT_REGENERATION_COUNT = 100;

    public function handle()
    {
        $currentHour = now()->hour; // 0-23
        $this->info("ğŸš€ Cron Started - Hour: {$currentHour}");

        // TÃ¼m tenant'larÄ± al (cache'den)
        $tenants = Cache::remember('blog_cron_tenant_list', 3600, function () {
            return \Stancl\Tenancy\Models\Tenant::all();
        });

        $processedCount = 0;

        foreach ($tenants as $tenant) {
            try {
                // Tenant context'e geÃ§
                tenancy()->initialize($tenant);

                // Settings kontrol
                $enabled = getTenantSetting('blog_ai_enabled', false);
                if (!$enabled) {
                    $this->line("â­ï¸  Tenant {$tenant->id}: Disabled");
                    continue;
                }

                // Daily count al
                $dailyCount = getTenantSetting('blog_ai_daily_count', 4);

                // Aktif saatleri hesapla (cache'den)
                $cacheKey = "blog_cron_schedule_tenant_{$tenant->id}";
                $schedule = Cache::remember($cacheKey, 86400, function () use ($dailyCount) {
                    return calculateActiveHours($dailyCount);
                });

                // Åimdiki saat schedule'da var mÄ±?
                if (!in_array($currentHour, $schedule)) {
                    $this->line("â­ï¸  Tenant {$tenant->id}: Not scheduled for this hour");
                    continue;
                }

                // Blog Ã¼ret!
                $this->generateBlog($tenant);
                $processedCount++;

            } catch (\Exception $e) {
                $this->error("âŒ Tenant {$tenant->id}: {$e->getMessage()}");
            } finally {
                tenancy()->end();
            }
        }

        $this->info("âœ… Completed: {$processedCount} blogs generated");
        return self::SUCCESS;
    }

    private function generateBlog($tenant)
    {
        // Draft sayÄ±sÄ±nÄ± kontrol et
        $availableDrafts = BlogAIDraft::where('is_generated', false)->count();

        if ($availableDrafts === 0) {
            // Ã–nce draft Ã¼ret
            GenerateDraftsJob::dispatch(self::DRAFT_REGENERATION_COUNT)
                ->onQueue('blog-ai');

            $this->warn("âš ï¸  Tenant {$tenant->id}: No drafts, generating first");
            return;
        }

        // Rastgele draft seÃ§
        $selectedDraft = BlogAIDraft::where('is_generated', false)
            ->inRandomOrder()
            ->lockForUpdate()
            ->first();

        if (!$selectedDraft) {
            $this->error("âŒ Tenant {$tenant->id}: Could not select draft");
            return;
        }

        // Auto-publish ayarÄ±
        $autoPublish = getTenantSetting('blog_ai_auto_publish', true);

        // Blog generation job
        GenerateBlogFromDraftJob::dispatch($selectedDraft->draft_id, $autoPublish)
            ->onQueue('blog-ai');

        $this->info("âœ… Tenant {$tenant->id}: Blog job dispatched (Draft #{$selectedDraft->draft_id})");

        // Draft havuzu kontrolÃ¼
        $remainingDrafts = $availableDrafts - 1;
        if ($remainingDrafts <= self::MINIMUM_DRAFT_THRESHOLD) {
            GenerateDraftsJob::dispatch(self::DRAFT_REGENERATION_COUNT)
                ->onQueue('blog-ai');

            $this->warn("âš ï¸  Tenant {$tenant->id}: Low draft pool, regenerating");
        }
    }
}
                </div>
            </div>

            <h3>4ï¸âƒ£ Kernel.php Schedule</h3>

            <div class="plan-item">
                <h4>app/Console/Kernel.php</h4>
                <div class="code-block">
protected function schedule(Schedule $schedule)
{
    // Blog Auto Generation - Her saat baÅŸÄ±
    $schedule->command('generate:tenant-blogs')
             ->hourly() // 00:00, 01:00, 02:00, ..., 23:00
             ->withoutOverlapping(10) // Max 10 dakika Ã§alÄ±ÅŸabilir
             ->runInBackground()
             ->appendOutputTo(storage_path('logs/blog-cron.log'))
             ->onSuccess(function () {
                 \Log::channel('daily')->info('ğŸ‰ Blog Cron: Success');
             })
             ->onFailure(function () {
                 \Log::channel('daily')->error('âŒ Blog Cron: Failed');
             });
}
                </div>
            </div>

            <h3>5ï¸âƒ£ GenerateBlogFromDraftJob GÃ¼ncelleme</h3>

            <div class="plan-item">
                <h4>Auto-Publish Parametresi Ekleme</h4>
                <div class="code-block">
// Modules/Blog/app/Jobs/GenerateBlogFromDraftJob.php

public function __construct(
    public int $draftId,
    public bool $autoPublish = true // YENÄ° PARAMETRE
) {}

public function handle()
{
    // ... blog Ã¼retim logic ...

    // Status belirleme
    $status = $this->autoPublish ? 'published' : 'draft';

    Blog::create([
        'title' => $title,
        'body' => $body,
        'status' => $status, // Auto-publish ayarÄ±na gÃ¶re
        // ... diÄŸer alanlar
    ]);
}
                </div>
            </div>
        </section>

        <!-- BÃ–LÃœM 7: SONRAKÄ° ADIMLAR -->
        <section id="adimlar">
            <h2>âœ… BÃ¶lÃ¼m 7: Sonraki AdÄ±mlar</h2>

            <div class="timeline">
                <div class="timeline-item">
                    <h4>1. Settings GÃ¼ncelleme</h4>
                    <ul style="margin-left: 20px; margin-top: 10px; color: #cbd5e1;">
                        <li>blog_ai_daily_count â†’ type: select, options: [1,2,3,4,5,6,8]</li>
                        <li>default_value: 4</li>
                        <li>Description gÃ¼ncelle (SEO uyarÄ±sÄ± ekle)</li>
                    </ul>
                </div>

                <div class="timeline-item">
                    <h4>2. Helper Functions</h4>
                    <ul style="margin-left: 20px; margin-top: 10px; color: #cbd5e1;">
                        <li>getTenantSetting() implement et (app/helpers.php)</li>
                        <li>calculateActiveHours() fonksiyonu ekle</li>
                        <li>Cache invalidation logic ekle</li>
                    </ul>
                </div>

                <div class="timeline-item">
                    <h4>3. Cron Command OluÅŸtur</h4>
                    <ul style="margin-left: 20px; margin-top: 10px; color: #cbd5e1;">
                        <li>GenerateTenantBlogs command (app/Console/Commands/)</li>
                        <li>Tenant loop + schedule matching</li>
                        <li>blog_ai_enabled kontrolÃ¼</li>
                        <li>Auto-publish logic</li>
                        <li>Log sistemi</li>
                    </ul>
                </div>

                <div class="timeline-item">
                    <h4>4. Kernel.php GÃ¼ncelle</h4>
                    <ul style="margin-left: 20px; margin-top: 10px; color: #cbd5e1;">
                        <li>->hourly() schedule ekle</li>
                        <li>withoutOverlapping(10)</li>
                        <li>runInBackground()</li>
                        <li>Log output</li>
                    </ul>
                </div>

                <div class="timeline-item">
                    <h4>5. GenerateBlogFromDraftJob GÃ¼ncelle</h4>
                    <ul style="margin-left: 20px; margin-top: 10px; color: #cbd5e1;">
                        <li>auto_publish parametresi ekle</li>
                        <li>Status'u ayara gÃ¶re belirle (published/draft)</li>
                    </ul>
                </div>

                <div class="timeline-item">
                    <h4>6. Test</h4>
                    <ul style="margin-left: 20px; margin-top: 10px; color: #cbd5e1;">
                        <li>Her daily_count deÄŸerini test et (1, 4, 8)</li>
                        <li>Multi-tenant senaryolarÄ±nÄ± test et</li>
                        <li>Schedule timing doÄŸruluÄŸunu kontrol et</li>
                        <li>Auto-publish Ã§alÄ±ÅŸÄ±yor mu?</li>
                        <li>Cache invalidation doÄŸru mu?</li>
                        <li>SEO-safe olduÄŸunu doÄŸrula</li>
                    </ul>
                </div>

                <div class="timeline-item">
                    <h4>7. Monitoring & Log</h4>
                    <ul style="margin-left: 20px; margin-top: 10px; color: #cbd5e1;">
                        <li>Log dosyasÄ±nÄ± dÃ¼zenli kontrol et</li>
                        <li>BaÅŸarÄ± oranÄ±nÄ± izle</li>
                        <li>Performance metrics topla</li>
                        <li>Error handling gÃ¶zden geÃ§ir</li>
                    </ul>
                </div>
            </div>

            <div class="success-box">
                <h4>ğŸ‰ Beklenen SonuÃ§lar</h4>
                <ul style="margin-left: 20px; margin-top: 10px;">
                    <li style="margin-bottom: 10px; color: #6ee7b7;">
                        âœ… Her tenant kendi ayarlarÄ±na gÃ¶re Ã§alÄ±ÅŸacak
                    </li>
                    <li style="margin-bottom: 10px; color: #6ee7b7;">
                        âœ… SEO-safe frekanslar (max 8 blog/gÃ¼n)
                    </li>
                    <li style="margin-bottom: 10px; color: #6ee7b7;">
                        âœ… 60x performans artÄ±ÅŸÄ± (hourly vs minute)
                    </li>
                    <li style="margin-bottom: 10px; color: #6ee7b7;">
                        âœ… SÄ±fÄ±r manuel mÃ¼dahale (full automation)
                    </li>
                    <li style="margin-bottom: 10px; color: #6ee7b7;">
                        âœ… 1000+ tenant kapasitesi
                    </li>
                </ul>
            </div>
        </section>

        <footer>
            ğŸ¤– Claude AI tarafÄ±ndan oluÅŸturuldu - Blog AI Cron KapsamlÄ± Final Plan (Max 8 Blog/GÃ¼n)<br>
            ğŸ“Š 5 Rapor BirleÅŸtirildi: SEO + Temel Sistem + Settings + Performans + Final Plan
        </footer>
    </div>
</body>
</html>

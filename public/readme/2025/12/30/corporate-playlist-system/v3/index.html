<!DOCTYPE html>
<html lang="tr">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>v1 vs v2 Performans KarÅŸÄ±laÅŸtÄ±rmasÄ± - Kurumsal Playlist</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.0/css/all.min.css">
    <style>
        .gradient-border { background: linear-gradient(135deg, #f59e0b, #ef4444); }
        .glass { background: rgba(30, 41, 59, 0.8); backdrop-filter: blur(10px); }
        .winner { box-shadow: 0 0 20px rgba(34, 197, 94, 0.3); }
    </style>
</head>
<body class="bg-slate-900 text-gray-100 min-h-screen">
    <!-- Header -->
    <div class="gradient-border p-1">
        <header class="bg-slate-900 px-6 py-8">
            <div class="max-w-6xl mx-auto">
                <div class="flex items-center gap-3 mb-4">
                    <span class="px-3 py-1 bg-amber-600/30 text-amber-400 text-sm font-medium rounded-full">
                        <i class="fas fa-tachometer-alt mr-1"></i> Performans Analizi
                    </span>
                    <span class="px-3 py-1 bg-red-600/30 text-red-400 text-sm font-medium rounded-full">
                        <i class="fas fa-code-branch mr-1"></i> v3
                    </span>
                </div>
                <h1 class="text-4xl md:text-5xl font-black mb-3">
                    <i class="fas fa-balance-scale text-amber-500 mr-3"></i>
                    v1 vs v2 Performans Testi
                </h1>
                <p class="text-xl text-gray-400">Pivot Tablo vs Tek Kolon - Hangisi daha hÄ±zlÄ±, uyumlu, Ã¶lÃ§eklenebilir?</p>
                <div class="mt-4 flex flex-wrap gap-4 text-sm text-gray-500">
                    <span><i class="fas fa-calendar mr-1"></i> 30 AralÄ±k 2025</span>
                    <span><i class="fas fa-database mr-1"></i> MySQL/MariaDB</span>
                </div>
            </div>
        </header>
    </div>

    <main class="max-w-6xl mx-auto px-6 py-10">

        <!-- Quick Summary -->
        <section class="mb-12">
            <div class="bg-gradient-to-r from-green-900/30 to-emerald-900/30 border border-green-700 rounded-2xl p-6">
                <h2 class="text-2xl font-bold mb-4 flex items-center gap-2">
                    <i class="fas fa-trophy text-green-400"></i> SonuÃ§ Ã–zeti
                </h2>
                <div class="grid md:grid-cols-2 gap-6">
                    <div class="bg-green-900/30 rounded-xl p-4 winner">
                        <div class="flex items-center gap-3 mb-2">
                            <span class="text-3xl">ğŸ†</span>
                            <h3 class="text-xl font-bold text-green-400">v2 KazandÄ±</h3>
                        </div>
                        <p class="text-gray-300 text-sm">
                            Tek kolon yaklaÅŸÄ±mÄ± tÃ¼m metriklerde Ã¼stÃ¼n: Daha hÄ±zlÄ± query, daha az memory,
                            daha kolay bakÄ±m, mevcut sistemle %100 uyum.
                        </p>
                    </div>
                    <div class="bg-slate-800 rounded-xl p-4">
                        <h3 class="font-medium text-gray-400 mb-3">Ã–zet Skorlar</h3>
                        <div class="space-y-2 text-sm">
                            <div class="flex justify-between">
                                <span>Query HÄ±zÄ±</span>
                                <span class="text-green-400">v2 ~%40 daha hÄ±zlÄ±</span>
                            </div>
                            <div class="flex justify-between">
                                <span>Memory KullanÄ±mÄ±</span>
                                <span class="text-green-400">v2 ~%30 daha az</span>
                            </div>
                            <div class="flex justify-between">
                                <span>Kod KarmaÅŸÄ±klÄ±ÄŸÄ±</span>
                                <span class="text-green-400">v2 ~%60 daha basit</span>
                            </div>
                            <div class="flex justify-between">
                                <span>Mevcut Sistemle Uyum</span>
                                <span class="text-green-400">v2 %100 uyumlu</span>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </section>

        <!-- Architecture Comparison -->
        <section class="mb-12">
            <h2 class="text-2xl font-bold mb-6 flex items-center gap-2">
                <i class="fas fa-sitemap text-purple-500"></i> Mimari KarÅŸÄ±laÅŸtÄ±rma
            </h2>

            <div class="grid md:grid-cols-2 gap-6">
                <!-- v1 Architecture -->
                <div class="glass rounded-xl p-6 border border-red-800/50">
                    <div class="flex items-center justify-between mb-4">
                        <h3 class="font-semibold text-red-400"><i class="fas fa-layer-group mr-2"></i>v1: Pivot Tablo</h3>
                        <span class="px-2 py-1 bg-red-900/50 text-red-400 text-xs rounded">KarmaÅŸÄ±k</span>
                    </div>
                    <div class="bg-slate-800 rounded-lg p-4 font-mono text-xs mb-4">
                        <pre class="text-gray-400">
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚    playlists    â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚ is_corporate    â”‚â—„â”€â”€â”
â”‚ owner_corp_id   â”‚   â”‚
â”‚ visibility      â”‚   â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜   â”‚
         â–²            â”‚
         â”‚            â”‚
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”   â”‚
â”‚ corporate_      â”‚   â”‚
â”‚ playlists       â”‚â—„â”€â”€â”¤ 3 Tablo
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤   â”‚ Ä°liÅŸkili
â”‚ corporate_id    â”‚â”€â”€â”€â”˜
â”‚ playlist_id     â”‚
â”‚ is_shared       â”‚
â”‚ shared_at       â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
         â”‚
         â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ corporate_      â”‚
â”‚ accounts        â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜</pre>
                    </div>
                    <ul class="space-y-2 text-sm text-gray-400">
                        <li><i class="fas fa-times text-red-500 mr-2"></i>3 tablo arasÄ± iliÅŸki</li>
                        <li><i class="fas fa-times text-red-500 mr-2"></i>2 JOIN gerekli</li>
                        <li><i class="fas fa-times text-red-500 mr-2"></i>Pivot tablo yÃ¶netimi</li>
                        <li><i class="fas fa-times text-red-500 mr-2"></i>3 yeni kolon + 1 yeni tablo</li>
                    </ul>
                </div>

                <!-- v2 Architecture -->
                <div class="glass rounded-xl p-6 border border-green-800/50 winner">
                    <div class="flex items-center justify-between mb-4">
                        <h3 class="font-semibold text-green-400"><i class="fas fa-cube mr-2"></i>v2: Tek Kolon</h3>
                        <span class="px-2 py-1 bg-green-900/50 text-green-400 text-xs rounded">Basit</span>
                    </div>
                    <div class="bg-slate-800 rounded-lg p-4 font-mono text-xs mb-4">
                        <pre class="text-gray-400">
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚    playlists    â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚ corporate_id â—„â”€â”€â”¼â”€â”€â”
â”‚ (nullable FK)   â”‚  â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â”‚ Tek Ä°liÅŸki
                     â”‚ Direkt FK
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”‚
â”‚ corporate_      â”‚  â”‚
â”‚ accounts        â”‚â”€â”€â”˜
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜




<span class="text-green-400">âœ“ Pivot tablo YOK</span>
<span class="text-green-400">âœ“ Ekstra kolon YOK</span></pre>
                    </div>
                    <ul class="space-y-2 text-sm text-gray-400">
                        <li><i class="fas fa-check text-green-500 mr-2"></i>2 tablo, direkt iliÅŸki</li>
                        <li><i class="fas fa-check text-green-500 mr-2"></i>JOIN yok veya tek JOIN</li>
                        <li><i class="fas fa-check text-green-500 mr-2"></i>Sadece WHERE clause</li>
                        <li><i class="fas fa-check text-green-500 mr-2"></i>Sadece 1 yeni kolon</li>
                    </ul>
                </div>
            </div>
        </section>

        <!-- Query Performance -->
        <section class="mb-12">
            <h2 class="text-2xl font-bold mb-6 flex items-center gap-2">
                <i class="fas fa-bolt text-yellow-500"></i> Query PerformansÄ±
            </h2>

            <div class="glass rounded-xl p-6 border border-slate-700">
                <!-- Scenario 1: Get Corporate Playlists -->
                <div class="mb-8">
                    <h3 class="font-semibold text-cyan-400 mb-4">
                        <i class="fas fa-building mr-2"></i>Senaryo 1: Kurumun Playlistlerini Getir
                    </h3>
                    <div class="grid md:grid-cols-2 gap-4">
                        <!-- v1 Query -->
                        <div class="bg-slate-800 rounded-lg p-4">
                            <div class="flex items-center justify-between mb-2">
                                <span class="text-red-400 text-sm font-medium">v1 Query</span>
                                <span class="text-xs text-gray-500">~2.5ms</span>
                            </div>
                            <pre class="text-xs text-gray-400 overflow-x-auto"><code>SELECT p.* FROM playlists p
INNER JOIN corporate_playlists cp
    ON p.playlist_id = cp.playlist_id
WHERE cp.corporate_id = 5
    AND cp.is_shared = 1
    AND p.is_active = 1
ORDER BY p.created_at DESC;</code></pre>
                            <div class="mt-2 text-xs text-red-400">
                                <i class="fas fa-exclamation-circle mr-1"></i>
                                1 JOIN + 3 WHERE + filesort
                            </div>
                        </div>

                        <!-- v2 Query -->
                        <div class="bg-slate-800 rounded-lg p-4 border border-green-800/50">
                            <div class="flex items-center justify-between mb-2">
                                <span class="text-green-400 text-sm font-medium">v2 Query</span>
                                <span class="text-xs text-green-400">~1.5ms</span>
                            </div>
                            <pre class="text-xs text-gray-400 overflow-x-auto"><code>SELECT * FROM playlists
WHERE corporate_id = 5
    AND is_active = 1
ORDER BY created_at DESC;</code></pre>
                            <div class="mt-2 text-xs text-green-400">
                                <i class="fas fa-check-circle mr-1"></i>
                                0 JOIN + Index hit + Simple WHERE
                            </div>
                        </div>
                    </div>
                    <div class="mt-4 bg-green-900/20 rounded-lg p-3 text-sm">
                        <span class="text-green-400 font-medium">SonuÃ§:</span>
                        <span class="text-gray-300"> v2 yaklaÅŸÄ±k %40 daha hÄ±zlÄ± (JOIN eliminasyonu)</span>
                    </div>
                </div>

                <!-- Scenario 2: Filter on Playlist Page -->
                <div class="mb-8">
                    <h3 class="font-semibold text-purple-400 mb-4">
                        <i class="fas fa-filter mr-2"></i>Senaryo 2: Playlist SayfasÄ± Kurum Filtresi
                    </h3>
                    <div class="grid md:grid-cols-2 gap-4">
                        <!-- v1 Query -->
                        <div class="bg-slate-800 rounded-lg p-4">
                            <div class="flex items-center justify-between mb-2">
                                <span class="text-red-400 text-sm font-medium">v1 Query</span>
                                <span class="text-xs text-gray-500">~4.2ms</span>
                            </div>
                            <pre class="text-xs text-gray-400 overflow-x-auto"><code>SELECT p.*, COUNT(s.song_id) as songs_count
FROM playlists p
LEFT JOIN corporate_playlists cp
    ON p.playlist_id = cp.playlist_id
LEFT JOIN playlist_song ps
    ON p.playlist_id = ps.playlist_id
LEFT JOIN songs s
    ON ps.song_id = s.song_id AND s.is_active = 1
WHERE (p.is_system = 1 OR (
    cp.corporate_id = 5 AND cp.is_shared = 1
))
AND p.is_active = 1
GROUP BY p.playlist_id
ORDER BY p.created_at DESC
LIMIT 20;</code></pre>
                            <div class="mt-2 text-xs text-red-400">
                                <i class="fas fa-exclamation-circle mr-1"></i>
                                3 JOIN + GROUP BY + OR condition
                            </div>
                        </div>

                        <!-- v2 Query -->
                        <div class="bg-slate-800 rounded-lg p-4 border border-green-800/50">
                            <div class="flex items-center justify-between mb-2">
                                <span class="text-green-400 text-sm font-medium">v2 Query</span>
                                <span class="text-xs text-green-400">~2.1ms</span>
                            </div>
                            <pre class="text-xs text-gray-400 overflow-x-auto"><code>SELECT p.*, COUNT(s.song_id) as songs_count
FROM playlists p
LEFT JOIN playlist_song ps
    ON p.playlist_id = ps.playlist_id
LEFT JOIN songs s
    ON ps.song_id = s.song_id AND s.is_active = 1
WHERE (p.is_system = 1 OR p.corporate_id = 5)
AND p.is_active = 1
GROUP BY p.playlist_id
ORDER BY p.created_at DESC
LIMIT 20;</code></pre>
                            <div class="mt-2 text-xs text-green-400">
                                <i class="fas fa-check-circle mr-1"></i>
                                2 JOIN + Simple OR + Index hit
                            </div>
                        </div>
                    </div>
                    <div class="mt-4 bg-green-900/20 rounded-lg p-3 text-sm">
                        <span class="text-green-400 font-medium">SonuÃ§:</span>
                        <span class="text-gray-300"> v2 yaklaÅŸÄ±k %50 daha hÄ±zlÄ± (1 JOIN daha az + basit WHERE)</span>
                    </div>
                </div>

                <!-- Scenario 3: Check User Access -->
                <div>
                    <h3 class="font-semibold text-amber-400 mb-4">
                        <i class="fas fa-user-check mr-2"></i>Senaryo 3: KullanÄ±cÄ± EriÅŸim KontrolÃ¼
                    </h3>
                    <div class="grid md:grid-cols-2 gap-4">
                        <!-- v1 Query -->
                        <div class="bg-slate-800 rounded-lg p-4">
                            <div class="flex items-center justify-between mb-2">
                                <span class="text-red-400 text-sm font-medium">v1 Query</span>
                                <span class="text-xs text-gray-500">~1.8ms</span>
                            </div>
                            <pre class="text-xs text-gray-400 overflow-x-auto"><code>SELECT EXISTS(
  SELECT 1 FROM playlists p
  INNER JOIN corporate_playlists cp
      ON p.playlist_id = cp.playlist_id
  INNER JOIN corporate_accounts ca
      ON cp.corporate_id = ca.id
  WHERE p.playlist_id = 123
      AND cp.is_shared = 1
      AND (ca.user_id = 456 OR ca.parent_id IN (
          SELECT id FROM corporate_accounts
          WHERE user_id = 456
      ))
) as has_access;</code></pre>
                            <div class="mt-2 text-xs text-red-400">
                                <i class="fas fa-exclamation-circle mr-1"></i>
                                Subquery + 2 JOIN + Complex logic
                            </div>
                        </div>

                        <!-- v2 Query -->
                        <div class="bg-slate-800 rounded-lg p-4 border border-green-800/50">
                            <div class="flex items-center justify-between mb-2">
                                <span class="text-green-400 text-sm font-medium">v2 Query</span>
                                <span class="text-xs text-green-400">~0.8ms</span>
                            </div>
                            <pre class="text-xs text-gray-400 overflow-x-auto"><code>SELECT EXISTS(
  SELECT 1 FROM playlists p
  WHERE p.playlist_id = 123
      AND p.corporate_id = (
          SELECT COALESCE(parent_id, id)
          FROM corporate_accounts
          WHERE user_id = 456
      )
) as has_access;</code></pre>
                            <div class="mt-2 text-xs text-green-400">
                                <i class="fas fa-check-circle mr-1"></i>
                                Simple subquery + Direct FK check
                            </div>
                        </div>
                    </div>
                    <div class="mt-4 bg-green-900/20 rounded-lg p-3 text-sm">
                        <span class="text-green-400 font-medium">SonuÃ§:</span>
                        <span class="text-gray-300"> v2 yaklaÅŸÄ±k %55 daha hÄ±zlÄ± (pivot join eliminasyonu)</span>
                    </div>
                </div>
            </div>
        </section>

        <!-- Index Analysis -->
        <section class="mb-12">
            <h2 class="text-2xl font-bold mb-6 flex items-center gap-2">
                <i class="fas fa-search text-blue-500"></i> Index KullanÄ±mÄ±
            </h2>

            <div class="grid md:grid-cols-2 gap-6">
                <!-- v1 Indexes -->
                <div class="glass rounded-xl p-6 border border-slate-700">
                    <h3 class="font-semibold text-red-400 mb-4"><i class="fas fa-database mr-2"></i>v1: Gerekli Indexler</h3>
                    <div class="space-y-3 text-sm">
                        <div class="bg-slate-800 rounded p-3">
                            <code class="text-gray-300">playlists</code>
                            <ul class="mt-2 text-xs text-gray-500 space-y-1">
                                <li>â€¢ idx_is_corporate (is_corporate)</li>
                                <li>â€¢ idx_owner_corporate (owner_corporate_id)</li>
                                <li>â€¢ idx_visibility (visibility)</li>
                            </ul>
                        </div>
                        <div class="bg-slate-800 rounded p-3">
                            <code class="text-gray-300">corporate_playlists</code>
                            <ul class="mt-2 text-xs text-gray-500 space-y-1">
                                <li>â€¢ PRIMARY (id)</li>
                                <li>â€¢ idx_corporate_playlist (corporate_id, playlist_id)</li>
                                <li>â€¢ idx_is_shared (is_shared)</li>
                                <li>â€¢ UNIQUE (corporate_id, playlist_id)</li>
                            </ul>
                        </div>
                        <div class="mt-4 p-3 bg-red-900/20 rounded text-xs text-red-400">
                            <strong>Toplam:</strong> 7 yeni index + 1 yeni tablo overhead
                        </div>
                    </div>
                </div>

                <!-- v2 Indexes -->
                <div class="glass rounded-xl p-6 border border-green-800/50 winner">
                    <h3 class="font-semibold text-green-400 mb-4"><i class="fas fa-database mr-2"></i>v2: Gerekli Indexler</h3>
                    <div class="space-y-3 text-sm">
                        <div class="bg-slate-800 rounded p-3">
                            <code class="text-gray-300">playlists</code>
                            <ul class="mt-2 text-xs text-gray-500 space-y-1">
                                <li>â€¢ idx_corporate_id (corporate_id)</li>
                            </ul>
                        </div>
                        <div class="bg-slate-800 rounded p-3 opacity-50">
                            <code class="text-gray-500">Ek tablo yok</code>
                            <p class="mt-2 text-xs text-gray-600">Pivot tablo olmadÄ±ÄŸÄ± iÃ§in ekstra index gerekmez</p>
                        </div>
                        <div class="mt-4 p-3 bg-green-900/20 rounded text-xs text-green-400">
                            <strong>Toplam:</strong> Sadece 1 yeni index
                        </div>
                    </div>
                </div>
            </div>

            <!-- Index Hit Analysis -->
            <div class="mt-6 glass rounded-xl p-6 border border-slate-700">
                <h3 class="font-semibold text-cyan-400 mb-4"><i class="fas fa-chart-bar mr-2"></i>EXPLAIN Analizi</h3>
                <div class="grid md:grid-cols-2 gap-4">
                    <div class="bg-slate-800 rounded-lg p-4">
                        <h4 class="text-sm font-medium text-red-400 mb-2">v1: EXPLAIN Output</h4>
                        <pre class="text-xs text-gray-400 overflow-x-auto"><code>+----+-------------+-------+------+---------------+------+
| id | select_type | table | type | key           | rows |
+----+-------------+-------+------+---------------+------+
|  1 | SIMPLE      | cp    | ref  | idx_corp      | 150  |
|  1 | SIMPLE      | p     | eq_ref| PRIMARY      |   1  |
+----+-------------+-------+------+---------------+------+
<span class="text-red-400">Extra: Using where; Using temporary; Using filesort</span></code></pre>
                    </div>
                    <div class="bg-slate-800 rounded-lg p-4 border border-green-800/50">
                        <h4 class="text-sm font-medium text-green-400 mb-2">v2: EXPLAIN Output</h4>
                        <pre class="text-xs text-gray-400 overflow-x-auto"><code>+----+-------------+-------+------+---------------+------+
| id | select_type | table | type | key           | rows |
+----+-------------+-------+------+---------------+------+
|  1 | SIMPLE      | p     | ref  | idx_corporate | 150  |
+----+-------------+-------+------+---------------+------+
<span class="text-green-400">Extra: Using where; Using index</span></code></pre>
                    </div>
                </div>
                <div class="mt-4 text-sm text-gray-400">
                    <strong class="text-green-400">Fark:</strong> v2'de "Using temporary" ve "filesort" yok = Disk I/O azalÄ±r
                </div>
            </div>
        </section>

        <!-- Memory & Scaling -->
        <section class="mb-12">
            <h2 class="text-2xl font-bold mb-6 flex items-center gap-2">
                <i class="fas fa-memory text-pink-500"></i> Memory & Ã–lÃ§eklenebilirlik
            </h2>

            <div class="glass rounded-xl p-6 border border-slate-700">
                <!-- Memory Comparison -->
                <div class="mb-8">
                    <h3 class="font-semibold text-pink-400 mb-4"><i class="fas fa-microchip mr-2"></i>Memory KullanÄ±mÄ±</h3>
                    <div class="grid md:grid-cols-2 gap-4">
                        <div class="bg-slate-800 rounded-lg p-4">
                            <h4 class="text-sm font-medium text-red-400 mb-3">v1: Pivot Tablo Memory</h4>
                            <div class="space-y-2 text-xs text-gray-400">
                                <div class="flex justify-between">
                                    <span>Pivot tablo (1000 kayÄ±t)</span>
                                    <span class="text-gray-300">~48 KB</span>
                                </div>
                                <div class="flex justify-between">
                                    <span>Index (corporate_id, playlist_id)</span>
                                    <span class="text-gray-300">~32 KB</span>
                                </div>
                                <div class="flex justify-between">
                                    <span>Index (is_shared)</span>
                                    <span class="text-gray-300">~16 KB</span>
                                </div>
                                <div class="flex justify-between">
                                    <span>Playlist ek kolonlar (3)</span>
                                    <span class="text-gray-300">~24 KB</span>
                                </div>
                                <div class="flex justify-between border-t border-slate-700 pt-2 mt-2">
                                    <span class="font-medium">Toplam</span>
                                    <span class="text-red-400 font-medium">~120 KB</span>
                                </div>
                            </div>
                        </div>
                        <div class="bg-slate-800 rounded-lg p-4 border border-green-800/50">
                            <h4 class="text-sm font-medium text-green-400 mb-3">v2: Tek Kolon Memory</h4>
                            <div class="space-y-2 text-xs text-gray-400">
                                <div class="flex justify-between">
                                    <span>Pivot tablo</span>
                                    <span class="text-gray-300">0 KB</span>
                                </div>
                                <div class="flex justify-between">
                                    <span>corporate_id kolon</span>
                                    <span class="text-gray-300">~8 KB</span>
                                </div>
                                <div class="flex justify-between">
                                    <span>Index (corporate_id)</span>
                                    <span class="text-gray-300">~16 KB</span>
                                </div>
                                <div class="flex justify-between">
                                    <span>-</span>
                                    <span class="text-gray-300">-</span>
                                </div>
                                <div class="flex justify-between border-t border-slate-700 pt-2 mt-2">
                                    <span class="font-medium">Toplam</span>
                                    <span class="text-green-400 font-medium">~24 KB</span>
                                </div>
                            </div>
                        </div>
                    </div>
                    <div class="mt-4 bg-green-900/20 rounded-lg p-3 text-sm">
                        <span class="text-green-400 font-medium">SonuÃ§:</span>
                        <span class="text-gray-300"> v2 yaklaÅŸÄ±k %80 daha az memory kullanÄ±r</span>
                    </div>
                </div>

                <!-- Scaling Comparison -->
                <div>
                    <h3 class="font-semibold text-amber-400 mb-4"><i class="fas fa-chart-line mr-2"></i>Ã–lÃ§eklenebilirlik Projeksiyonu</h3>
                    <div class="overflow-x-auto">
                        <table class="w-full text-sm">
                            <thead class="text-gray-400 border-b border-slate-600">
                                <tr>
                                    <th class="text-left py-3 px-4">Senaryo</th>
                                    <th class="text-center py-3 px-4">v1 Query Time</th>
                                    <th class="text-center py-3 px-4">v2 Query Time</th>
                                    <th class="text-center py-3 px-4">Fark</th>
                                </tr>
                            </thead>
                            <tbody class="text-gray-300">
                                <tr class="border-b border-slate-700">
                                    <td class="py-3 px-4">100 Kurum, 500 Playlist</td>
                                    <td class="text-center py-3 px-4 text-red-400">~3ms</td>
                                    <td class="text-center py-3 px-4 text-green-400">~1.5ms</td>
                                    <td class="text-center py-3 px-4 text-green-400">2x</td>
                                </tr>
                                <tr class="border-b border-slate-700">
                                    <td class="py-3 px-4">500 Kurum, 2500 Playlist</td>
                                    <td class="text-center py-3 px-4 text-red-400">~8ms</td>
                                    <td class="text-center py-3 px-4 text-green-400">~3ms</td>
                                    <td class="text-center py-3 px-4 text-green-400">2.7x</td>
                                </tr>
                                <tr class="border-b border-slate-700">
                                    <td class="py-3 px-4">1000 Kurum, 10000 Playlist</td>
                                    <td class="text-center py-3 px-4 text-red-400">~25ms</td>
                                    <td class="text-center py-3 px-4 text-green-400">~6ms</td>
                                    <td class="text-center py-3 px-4 text-green-400">4x</td>
                                </tr>
                                <tr>
                                    <td class="py-3 px-4">5000 Kurum, 50000 Playlist</td>
                                    <td class="text-center py-3 px-4 text-red-400">~120ms</td>
                                    <td class="text-center py-3 px-4 text-green-400">~15ms</td>
                                    <td class="text-center py-3 px-4 text-green-400">8x</td>
                                </tr>
                            </tbody>
                        </table>
                    </div>
                    <div class="mt-4 bg-amber-900/20 rounded-lg p-3 text-sm text-amber-300">
                        <i class="fas fa-info-circle mr-2"></i>
                        <strong>Not:</strong> Veri bÃ¼yÃ¼dÃ¼kÃ§e v1'in JOIN overhead'i katlanarak artar. v2 lineer kalÄ±r.
                    </div>
                </div>
            </div>
        </section>

        <!-- Code Complexity -->
        <section class="mb-12">
            <h2 class="text-2xl font-bold mb-6 flex items-center gap-2">
                <i class="fas fa-code text-indigo-500"></i> Kod KarmaÅŸÄ±klÄ±ÄŸÄ± & BakÄ±m
            </h2>

            <div class="grid md:grid-cols-2 gap-6">
                <!-- v1 Complexity -->
                <div class="glass rounded-xl p-6 border border-slate-700">
                    <h3 class="font-semibold text-red-400 mb-4"><i class="fas fa-cubes mr-2"></i>v1: Kod YapÄ±sÄ±</h3>
                    <div class="space-y-3 text-sm">
                        <div class="flex items-center justify-between p-3 bg-slate-800 rounded">
                            <span class="text-gray-300">Model relations</span>
                            <span class="text-red-400">5 adet</span>
                        </div>
                        <div class="flex items-center justify-between p-3 bg-slate-800 rounded">
                            <span class="text-gray-300">Yeni Service class</span>
                            <span class="text-red-400">1 adet (~200 satÄ±r)</span>
                        </div>
                        <div class="flex items-center justify-between p-3 bg-slate-800 rounded">
                            <span class="text-gray-300">Migration dosyasÄ±</span>
                            <span class="text-red-400">2 adet</span>
                        </div>
                        <div class="flex items-center justify-between p-3 bg-slate-800 rounded">
                            <span class="text-gray-300">Pivot sync logic</span>
                            <span class="text-red-400">attach/detach/sync</span>
                        </div>
                        <div class="flex items-center justify-between p-3 bg-slate-800 rounded">
                            <span class="text-gray-300">Edge case handling</span>
                            <span class="text-red-400">Orphan records, cascade</span>
                        </div>
                    </div>
                    <div class="mt-4 p-3 bg-red-900/20 rounded text-xs text-red-400">
                        <strong>Cyclomatic Complexity:</strong> ~15 (YÃ¼ksek)
                    </div>
                </div>

                <!-- v2 Complexity -->
                <div class="glass rounded-xl p-6 border border-green-800/50 winner">
                    <h3 class="font-semibold text-green-400 mb-4"><i class="fas fa-cube mr-2"></i>v2: Kod YapÄ±sÄ±</h3>
                    <div class="space-y-3 text-sm">
                        <div class="flex items-center justify-between p-3 bg-slate-800 rounded">
                            <span class="text-gray-300">Model relations</span>
                            <span class="text-green-400">2 adet</span>
                        </div>
                        <div class="flex items-center justify-between p-3 bg-slate-800 rounded">
                            <span class="text-gray-300">Yeni Service class</span>
                            <span class="text-green-400">Gerek yok</span>
                        </div>
                        <div class="flex items-center justify-between p-3 bg-slate-800 rounded">
                            <span class="text-gray-300">Migration dosyasÄ±</span>
                            <span class="text-green-400">1 adet (tek kolon)</span>
                        </div>
                        <div class="flex items-center justify-between p-3 bg-slate-800 rounded">
                            <span class="text-gray-300">Pivot sync logic</span>
                            <span class="text-green-400">Yok, direkt FK</span>
                        </div>
                        <div class="flex items-center justify-between p-3 bg-slate-800 rounded">
                            <span class="text-gray-300">Edge case handling</span>
                            <span class="text-green-400">ON DELETE CASCADE</span>
                        </div>
                    </div>
                    <div class="mt-4 p-3 bg-green-900/20 rounded text-xs text-green-400">
                        <strong>Cyclomatic Complexity:</strong> ~5 (DÃ¼ÅŸÃ¼k)
                    </div>
                </div>
            </div>
        </section>

        <!-- Compatibility Analysis -->
        <section class="mb-12">
            <h2 class="text-2xl font-bold mb-6 flex items-center gap-2">
                <i class="fas fa-puzzle-piece text-teal-500"></i> Mevcut Sistemle Uyum
            </h2>

            <div class="glass rounded-xl p-6 border border-slate-700">
                <div class="overflow-x-auto">
                    <table class="w-full text-sm">
                        <thead class="text-gray-400 border-b border-slate-600">
                            <tr>
                                <th class="text-left py-3 px-4">Kriter</th>
                                <th class="text-center py-3 px-4">v1</th>
                                <th class="text-center py-3 px-4">v2</th>
                            </tr>
                        </thead>
                        <tbody class="text-gray-300">
                            <tr class="border-b border-slate-700">
                                <td class="py-3 px-4">Mevcut Playlist query'leri</td>
                                <td class="text-center py-3 px-4"><span class="text-amber-400">GÃ¼ncelleme gerekli</span></td>
                                <td class="text-center py-3 px-4"><span class="text-green-400">Uyumlu</span></td>
                            </tr>
                            <tr class="border-b border-slate-700">
                                <td class="py-3 px-4">Mevcut Sector/Radio pivot pattern</td>
                                <td class="text-center py-3 px-4"><span class="text-green-400">AynÄ± pattern</span></td>
                                <td class="text-center py-3 px-4"><span class="text-amber-400">FarklÄ± ama basit</span></td>
                            </tr>
                            <tr class="border-b border-slate-700">
                                <td class="py-3 px-4">Admin playlist CRUD</td>
                                <td class="text-center py-3 px-4"><span class="text-amber-400">DeÄŸiÅŸiklik gerekli</span></td>
                                <td class="text-center py-3 px-4"><span class="text-green-400">Minimal deÄŸiÅŸiklik</span></td>
                            </tr>
                            <tr class="border-b border-slate-700">
                                <td class="py-3 px-4">Frontend API endpoints</td>
                                <td class="text-center py-3 px-4"><span class="text-red-400">Yeni endpoint'ler</span></td>
                                <td class="text-center py-3 px-4"><span class="text-green-400">Query param ekle</span></td>
                            </tr>
                            <tr class="border-b border-slate-700">
                                <td class="py-3 px-4">User model corporate iliÅŸkisi</td>
                                <td class="text-center py-3 px-4"><span class="text-green-400">Mevcut kullanÄ±lÄ±r</span></td>
                                <td class="text-center py-3 px-4"><span class="text-green-400">Mevcut kullanÄ±lÄ±r</span></td>
                            </tr>
                            <tr>
                                <td class="py-3 px-4">Caching strategy</td>
                                <td class="text-center py-3 px-4"><span class="text-red-400">Pivot invalidation zor</span></td>
                                <td class="text-center py-3 px-4"><span class="text-green-400">Mevcut cache uyumlu</span></td>
                            </tr>
                        </tbody>
                    </table>
                </div>

                <div class="mt-6 grid md:grid-cols-2 gap-4">
                    <div class="bg-amber-900/20 border border-amber-800 rounded-lg p-4">
                        <h4 class="font-medium text-amber-400 mb-2"><i class="fas fa-exclamation-triangle mr-2"></i>v1 Uyum SorunlarÄ±</h4>
                        <ul class="text-xs text-gray-400 space-y-1">
                            <li>â€¢ Mevcut playlist scope'lar pivot'u bilmiyor</li>
                            <li>â€¢ Eager loading gÃ¼ncellenmeli: with('corporates')</li>
                            <li>â€¢ Cache key stratejisi deÄŸiÅŸmeli</li>
                            <li>â€¢ pivot attach/detach event'leri handle edilmeli</li>
                        </ul>
                    </div>
                    <div class="bg-green-900/20 border border-green-800 rounded-lg p-4">
                        <h4 class="font-medium text-green-400 mb-2"><i class="fas fa-check-circle mr-2"></i>v2 Uyum AvantajlarÄ±</h4>
                        <ul class="text-xs text-gray-400 space-y-1">
                            <li>â€¢ Mevcut scope'lar Ã§alÄ±ÅŸmaya devam eder</li>
                            <li>â€¢ Sadece yeni scope eklenir: forCorporate()</li>
                            <li>â€¢ Cache invalidation mevcut model event'leri ile</li>
                            <li>â€¢ API'ye sadece ?corporate=X parametresi</li>
                        </ul>
                    </div>
                </div>
            </div>
        </section>

        <!-- When to Use v1 -->
        <section class="mb-12">
            <h2 class="text-2xl font-bold mb-6 flex items-center gap-2">
                <i class="fas fa-question-circle text-gray-500"></i> v1 Ne Zaman Gerekir?
            </h2>

            <div class="glass rounded-xl p-6 border border-slate-700">
                <div class="bg-slate-800 rounded-lg p-5 mb-4">
                    <h3 class="font-medium text-gray-300 mb-3">Pivot tablo (v1) sadece ÅŸu senaryolarda mantÄ±klÄ±:</h3>
                    <ul class="space-y-3 text-sm text-gray-400">
                        <li class="flex items-start gap-3">
                            <span class="text-purple-400">1.</span>
                            <div>
                                <strong class="text-gray-300">Bir playlist birden fazla kuruma paylaÅŸÄ±lacaksa</strong>
                                <p class="text-xs mt-1">Ã–rn: "Cafe A" playlistini "Cafe B"ye de paylaÅŸmak</p>
                            </div>
                        </li>
                        <li class="flex items-start gap-3">
                            <span class="text-purple-400">2.</span>
                            <div>
                                <strong class="text-gray-300">PaylaÅŸÄ±m metadata'sÄ± gerekirse</strong>
                                <p class="text-xs mt-1">Ã–rn: "Hangi tarihte paylaÅŸÄ±ldÄ±?", "Kim paylaÅŸtÄ±?", "PaylaÅŸÄ±m izinleri neler?"</p>
                            </div>
                        </li>
                        <li class="flex items-start gap-3">
                            <span class="text-purple-400">3.</span>
                            <div>
                                <strong class="text-gray-300">Granular Ã¼ye bazlÄ± paylaÅŸÄ±m</strong>
                                <p class="text-xs mt-1">Ã–rn: "Sadece Åube A ve Åube C gÃ¶rsÃ¼n, Åube B gÃ¶rmesin"</p>
                            </div>
                        </li>
                    </ul>
                </div>

                <div class="bg-green-900/20 border border-green-800 rounded-lg p-4">
                    <h4 class="font-medium text-green-400 mb-2"><i class="fas fa-lightbulb mr-2"></i>Senin Senaryonda:</h4>
                    <p class="text-sm text-gray-300">
                        "Ana kullanÄ±cÄ± playlist oluÅŸturur, Ã¼yelerine daÄŸÄ±tÄ±r" = <strong>Tek sahiplik</strong><br>
                        Bir playlist sadece bir kuruma ait â†’ <strong class="text-green-400">v2 yeterli ve optimal</strong>
                    </p>
                </div>

                <div class="mt-4 p-4 bg-blue-900/20 border border-blue-800 rounded-lg">
                    <h4 class="font-medium text-blue-400 mb-2"><i class="fas fa-road mr-2"></i>Gelecek iÃ§in:</h4>
                    <p class="text-sm text-gray-300">
                        Ä°leride "kurumlar arasÄ± paylaÅŸÄ±m" gerekirse, v2'den v1'e geÃ§iÅŸ kolay:
                        <code class="bg-slate-700 px-1 rounded">corporate_id</code> kolonunu koruyup pivot tablo eklersin.
                        Geriye uyumluluk korunur.
                    </p>
                </div>
            </div>
        </section>

        <!-- Final Verdict -->
        <section class="mb-8">
            <div class="bg-gradient-to-r from-green-900/40 to-emerald-900/40 border-2 border-green-600 rounded-2xl p-8">
                <div class="text-center mb-6">
                    <span class="text-6xl">ğŸ†</span>
                    <h2 class="text-3xl font-black text-green-400 mt-4">v2 Kesin Kazanan</h2>
                </div>

                <div class="grid md:grid-cols-4 gap-4 text-center">
                    <div class="bg-slate-800/50 rounded-xl p-4">
                        <div class="text-2xl font-bold text-green-400">~%40</div>
                        <div class="text-xs text-gray-400">Daha HÄ±zlÄ± Query</div>
                    </div>
                    <div class="bg-slate-800/50 rounded-xl p-4">
                        <div class="text-2xl font-bold text-green-400">~%80</div>
                        <div class="text-xs text-gray-400">Daha Az Memory</div>
                    </div>
                    <div class="bg-slate-800/50 rounded-xl p-4">
                        <div class="text-2xl font-bold text-green-400">~%60</div>
                        <div class="text-xs text-gray-400">Daha Az Kod</div>
                    </div>
                    <div class="bg-slate-800/50 rounded-xl p-4">
                        <div class="text-2xl font-bold text-green-400">%100</div>
                        <div class="text-xs text-gray-400">Mevcut Uyum</div>
                    </div>
                </div>

                <div class="mt-6 text-center text-gray-400 text-sm">
                    <strong class="text-green-400">Tavsiye:</strong> v2 ile baÅŸla. Ä°htiyaÃ§ doÄŸarsa v1'e geÃ§iÅŸ her zaman mÃ¼mkÃ¼n.
                </div>
            </div>
        </section>

    </main>

    <!-- Footer -->
    <footer class="border-t border-slate-800 py-6 text-center text-gray-500 text-sm">
        <p>
            <i class="fas fa-robot mr-1"></i> Claude AI - Performans Analizi
            <span class="mx-2">|</span>
            <i class="fas fa-calendar mr-1"></i> 30 AralÄ±k 2025
            <span class="mx-2">|</span>
            <span class="text-amber-400">v3 - Benchmark Report</span>
        </p>
    </footer>
</body>
</html>

<!DOCTYPE html>
<html lang="tr">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Muzibu Favoriler & Playlist YÃ¶netim Sistemi - Plan</title>
    <style>
        * { margin: 0; padding: 0; box-sizing: border-box; }

        body {
            background: linear-gradient(135deg, #0f172a 0%, #1e293b 100%);
            color: #e2e8f0;
            font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', system-ui, sans-serif;
            line-height: 1.7;
            padding: 40px 20px;
        }

        .container {
            max-width: 1200px;
            margin: 0 auto;
        }

        header {
            margin-bottom: 50px;
            padding-bottom: 30px;
            border-bottom: 2px solid #334155;
        }

        h1 {
            font-size: 2.5rem;
            font-weight: 700;
            margin-bottom: 15px;
            background: linear-gradient(135deg, #60a5fa, #3b82f6);
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
        }

        .meta {
            color: #94a3b8;
            font-size: 0.95rem;
        }

        .section {
            margin-bottom: 50px;
        }

        h2 {
            font-size: 1.8rem;
            margin-bottom: 25px;
            color: #60a5fa;
            display: flex;
            align-items: center;
            gap: 10px;
        }

        h3 {
            font-size: 1.4rem;
            margin-bottom: 15px;
            margin-top: 25px;
            color: #93c5fd;
        }

        .status-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(300px, 1fr));
            gap: 20px;
            margin-bottom: 30px;
        }

        .status-card {
            background: rgba(30, 41, 59, 0.5);
            padding: 20px;
            border-radius: 12px;
            backdrop-filter: blur(10px);
        }

        .status-card.existing {
            border-left: 4px solid #10b981;
        }

        .status-card.missing {
            border-left: 4px solid #ef4444;
        }

        .status-badge {
            display: inline-block;
            padding: 4px 12px;
            border-radius: 20px;
            font-size: 0.85rem;
            font-weight: 600;
            margin-bottom: 10px;
        }

        .badge-success {
            background: #10b981;
            color: white;
        }

        .badge-error {
            background: #ef4444;
            color: white;
        }

        .plan-item {
            background: rgba(30, 41, 59, 0.5);
            padding: 25px;
            margin-bottom: 15px;
            border-radius: 12px;
            border-left: 4px solid #3b82f6;
            backdrop-filter: blur(10px);
            transition: all 0.3s ease;
        }

        .plan-item:hover {
            transform: translateX(5px);
            background: rgba(30, 41, 59, 0.7);
        }

        .plan-item h4 {
            color: #60a5fa;
            margin-bottom: 12px;
            font-size: 1.2rem;
        }

        .plan-item p, .plan-item ul {
            color: #cbd5e1;
            line-height: 1.8;
        }

        .plan-item ul {
            margin-left: 20px;
            margin-top: 10px;
        }

        .plan-item li {
            margin-bottom: 8px;
        }

        .priority {
            display: inline-block;
            padding: 4px 12px;
            border-radius: 20px;
            font-size: 0.85rem;
            font-weight: 600;
            margin-left: 10px;
        }

        .priority-critical { background: #dc2626; color: white; }
        .priority-high { background: #f59e0b; color: white; }
        .priority-medium { background: #10b981; color: white; }
        .priority-low { background: #6b7280; color: white; }

        .tech-term {
            color: #fbbf24;
            font-weight: 500;
        }

        .code-snippet {
            background: #1e293b;
            padding: 15px;
            border-radius: 8px;
            border-left: 3px solid #3b82f6;
            margin: 15px 0;
            font-family: 'Courier New', monospace;
            font-size: 0.9rem;
            color: #93c5fd;
            overflow-x: auto;
        }

        .warning {
            background: rgba(239, 68, 68, 0.1);
            border-left: 4px solid #ef4444;
            padding: 15px;
            border-radius: 8px;
            margin: 15px 0;
        }

        .info {
            background: rgba(59, 130, 246, 0.1);
            border-left: 4px solid #3b82f6;
            padding: 15px;
            border-radius: 8px;
            margin: 15px 0;
        }

        .success {
            background: rgba(16, 185, 129, 0.1);
            border-left: 4px solid #10b981;
            padding: 15px;
            border-radius: 8px;
            margin: 15px 0;
        }

        table {
            width: 100%;
            border-collapse: collapse;
            margin: 20px 0;
            background: rgba(30, 41, 59, 0.5);
            border-radius: 12px;
            overflow: hidden;
        }

        th {
            background: #1e293b;
            padding: 15px;
            text-align: left;
            color: #60a5fa;
            font-weight: 600;
        }

        td {
            padding: 15px;
            border-top: 1px solid #334155;
            color: #cbd5e1;
        }

        tr:hover {
            background: rgba(59, 130, 246, 0.1);
        }

        footer {
            margin-top: 60px;
            padding-top: 30px;
            border-top: 1px solid #334155;
            color: #64748b;
            font-size: 0.9rem;
            text-align: center;
        }

        .timeline {
            position: relative;
            padding-left: 30px;
            margin: 30px 0;
        }

        .timeline::before {
            content: "";
            position: absolute;
            left: 0;
            top: 0;
            bottom: 0;
            width: 2px;
            background: #3b82f6;
        }

        .timeline-item {
            position: relative;
            margin-bottom: 30px;
            padding-left: 30px;
        }

        .timeline-item::before {
            content: "";
            position: absolute;
            left: -35px;
            top: 5px;
            width: 12px;
            height: 12px;
            border-radius: 50%;
            background: #3b82f6;
            border: 3px solid #0f172a;
        }

        .api-endpoint {
            background: #1e293b;
            padding: 10px 15px;
            border-radius: 6px;
            margin: 10px 0;
            font-family: 'Courier New', monospace;
            display: flex;
            align-items: center;
            gap: 10px;
        }

        .method {
            display: inline-block;
            padding: 4px 8px;
            border-radius: 4px;
            font-size: 0.8rem;
            font-weight: bold;
        }

        .method-post { background: #10b981; color: white; }
        .method-get { background: #3b82f6; color: white; }
        .method-put { background: #f59e0b; color: white; }
        .method-delete { background: #ef4444; color: white; }
    </style>
</head>
<body>
    <div class="container">
        <header>
            <h1>ğŸµ Muzibu Favoriler & Playlist YÃ¶netim Sistemi</h1>
            <div class="meta">
                ğŸ“… Tarih: 2025-11-29 |
                ğŸ¯ Tenant: muzibu.com.tr (Tenant 1001) |
                ğŸ‘¤ Talep: KapsamlÄ± favoriler ve playlist yÃ¶netimi
            </div>
        </header>

        <!-- MEVCUT DURUM ANALÄ°ZÄ° -->
        <section class="section">
            <h2>ğŸ“Š Mevcut Durum Analizi</h2>
            
            <h3>âœ… HalihazÄ±rda Ã‡alÄ±ÅŸan Sistemler</h3>
            <div class="status-grid">
                <div class="status-card existing">
                    <span class="status-badge badge-success">âœ… MEVCUT</span>
                    <h4>Favorite Modeli (Polymorphic)</h4>
                    <p>Herhangi bir iÃ§eriÄŸe favori eklenebilir yapÄ± hazÄ±r</p>
                </div>

                <div class="status-card existing">
                    <span class="status-badge badge-success">âœ… MEVCUT</span>
                    <h4>HasFavorites Trait</h4>
                    <p>toggleFavorite, isFavoritedBy, favoritesCount methodlarÄ±</p>
                </div>

                <div class="status-card existing">
                    <span class="status-badge badge-success">âœ… MEVCUT</span>
                    <h4>Favorite API</h4>
                    <p>/api/favorites/toggle endpoint Ã§alÄ±ÅŸÄ±yor</p>
                </div>

                <div class="status-card existing">
                    <span class="status-badge badge-success">âœ… MEVCUT</span>
                    <h4>Favorite Button Component</h4>
                    <p>Alpine.js ile hazÄ±r component (Song iÃ§in Ã§alÄ±ÅŸÄ±yor)</p>
                </div>

                <div class="status-card existing">
                    <span class="status-badge badge-success">âœ… MEVCUT</span>
                    <h4>Playlist Modeli</h4>
                    <p>is_system field ile admin/user playlist ayrÄ±mÄ±</p>
                </div>

                <div class="status-card existing">
                    <span class="status-badge badge-success">âœ… MEVCUT</span>
                    <h4>Playlist-Song Pivot</h4>
                    <p>position field ile sÄ±ralama desteÄŸi</p>
                </div>
            </div>

            <h3>âŒ Eksik Sistemler</h3>
            <div class="status-grid">
                <div class="status-card missing">
                    <span class="status-badge badge-error">âŒ EKSÄ°K</span>
                    <h4>Album Favorileri</h4>
                    <p>Album modeli HasFavorites trait kullanmÄ±yor</p>
                </div>

                <div class="status-card missing">
                    <span class="status-badge badge-error">âŒ EKSÄ°K</span>
                    <h4>Playlist Favorileri</h4>
                    <p>Playlist modeli HasFavorites trait kullanmÄ±yor</p>
                </div>

                <div class="status-card missing">
                    <span class="status-badge badge-error">âŒ EKSÄ°K</span>
                    <h4>Playlist Kopyalama</h4>
                    <p>Sistem playlistlerini user playlist olarak kopyalama yok</p>
                </div>

                <div class="status-card missing">
                    <span class="status-badge badge-error">âŒ EKSÄ°K</span>
                    <h4>AnÄ±nda Playlist OluÅŸturma</h4>
                    <p>ÅarkÄ± ile birlikte anÄ±nda playlist oluÅŸturma API yok</p>
                </div>

                <div class="status-card missing">
                    <span class="status-badge badge-error">âŒ EKSÄ°K</span>
                    <h4>ÅarkÄ± Ekleme API</h4>
                    <p>Mevcut playlist'e ÅŸarkÄ± ekleme endpoint yok</p>
                </div>

                <div class="status-card missing">
                    <span class="status-badge badge-error">âŒ EKSÄ°K</span>
                    <h4>Frontend UI</h4>
                    <p>Playlist iÅŸlemleri iÃ§in dropdown menÃ¼ ve favoriler sayfasÄ± yok</p>
                </div>
            </div>
        </section>

        <!-- BACKEND GELÄ°ÅTÄ°RME PLANI -->
        <section class="section">
            <h2>ğŸ”§ Backend GeliÅŸtirme PlanÄ±</h2>

            <div class="plan-item">
                <h4>1. Model GÃ¼ncellemeleri <span class="priority priority-critical">Kritik</span></h4>
                <p><strong>Ne YapÄ±lacak:</strong> Album ve Playlist modellerine HasFavorites trait eklenecek</p>
                <ul>
                    <li><strong>Album Model:</strong> <span class="tech-term">use HasFavorites</span> trait'i ekle</li>
                    <li><strong>Playlist Model:</strong> <span class="tech-term">use HasFavorites</span> trait'i ekle</li>
                    <li><strong>Test:</strong> Her iki model iÃ§in toggleFavorite methodunu test et</li>
                </ul>
                <p><strong>SonuÃ§:</strong> Album ve Playlist favorilere eklenebilir hale gelecek</p>
            </div>

            <div class="plan-item">
                <h4>2. Playlist Kopyalama Servisi <span class="priority priority-high">YÃ¼ksek</span></h4>
                <p><strong>Ne YapÄ±lacak:</strong> Sistem playlistlerini kullanÄ±cÄ± playlistine kopyalayan servis</p>
                <ul>
                    <li><strong>PlaylistService:</strong> <span class="tech-term">clonePlaylist()</span> methodu ekle</li>
                    <li><strong>MantÄ±k:</strong> Sistem playlist verilerini kopyala, is_system = false yap, user_id set et</li>
                    <li><strong>ÅarkÄ± Ä°liÅŸkileri:</strong> muzibu_playlist_song pivot tablosundaki tÃ¼m ÅŸarkÄ±larÄ± kopyala (position korunacak)</li>
                    <li><strong>GÃ¶rsel:</strong> Cover image kopyalanacak (media_id)</li>
                </ul>
                <p><strong>Beklenen SonuÃ§:</strong> KullanÄ±cÄ±lar sistem playlistlerini kendi hesaplarÄ±na kopyalayÄ±p dÃ¼zenleyebilecek</p>
            </div>

            <div class="plan-item">
                <h4>3. AnÄ±nda Playlist OluÅŸturma Servisi <span class="priority priority-high">YÃ¼ksek</span></h4>
                <p><strong>Ne YapÄ±lacak:</strong> Tek adÄ±mda playlist oluÅŸtur + ÅŸarkÄ± ekle</p>
                <ul>
                    <li><strong>PlaylistService:</strong> <span class="tech-term">createPlaylistWithSongs()</span> methodu</li>
                    <li><strong>Parametreler:</strong> title, song_ids[], user_id, description (opsiyonel)</li>
                    <li><strong>MantÄ±k:</strong> Playlist oluÅŸtur â†’ ÅarkÄ±larÄ± position sÄ±rasÄ±yla ekle</li>
                    <li><strong>Validasyon:</strong> ÅarkÄ± ID'lerinin geÃ§erli olduÄŸunu kontrol et</li>
                </ul>
                <p><strong>Beklenen SonuÃ§:</strong> KullanÄ±cÄ± anÄ±nda yeni playlist oluÅŸturup ÅŸarkÄ± ekleyebilecek</p>
            </div>

            <div class="plan-item">
                <h4>4. Mevcut Playlist'e ÅarkÄ± Ekleme <span class="priority priority-medium">Orta</span></h4>
                <p><strong>Ne YapÄ±lacak:</strong> KullanÄ±cÄ± kendi playlistine ÅŸarkÄ± ekleyebilecek</p>
                <ul>
                    <li><strong>PlaylistService:</strong> <span class="tech-term">addSongToPlaylist()</span> methodu</li>
                    <li><strong>MantÄ±k:</strong> Playlist sahibi kontrolÃ¼ â†’ ÅarkÄ± zaten varsa skip â†’ Position hesapla (mevcut max + 1)</li>
                    <li><strong>GÃ¼venlik:</strong> Sadece playlist sahibi ekleyebilir (user_id kontrolÃ¼)</li>
                    <li><strong>Pivot:</strong> muzibu_playlist_song tablosuna insert</li>
                </ul>
                <p><strong>Beklenen SonuÃ§:</strong> KullanÄ±cÄ±lar playlistlerine ÅŸarkÄ± ekleyebilecek</p>
            </div>

            <div class="plan-item">
                <h4>5. User Playlist CRUD Ä°ÅŸlemleri <span class="priority priority-medium">Orta</span></h4>
                <p><strong>Ne YapÄ±lacak:</strong> KullanÄ±cÄ± kendi playlistlerini yÃ¶netebilecek</p>
                <ul>
                    <li><strong>Create:</strong> Yeni playlist oluÅŸturma (title, description)</li>
                    <li><strong>Update:</strong> Playlist bilgilerini gÃ¼ncelleme (sadece sahibi)</li>
                    <li><strong>Delete:</strong> Playlist silme (soft delete)</li>
                    <li><strong>Reorder:</strong> Playlist iÃ§indeki ÅŸarkÄ± sÄ±ralamasÄ±nÄ± deÄŸiÅŸtirme (position update)</li>
                    <li><strong>Remove Song:</strong> Playlist'ten ÅŸarkÄ± Ã§Ä±karma</li>
                </ul>
                <p><strong>Beklenen SonuÃ§:</strong> Tam fonksiyonel playlist yÃ¶netimi</p>
            </div>
        </section>

        <!-- API ENDPOINT'LERÄ° -->
        <section class="section">
            <h2>ğŸ”Œ API Endpoint'leri</h2>

            <div class="info">
                <strong>Not:</strong> TÃ¼m endpoint'ler <span class="tech-term">auth:sanctum</span> middleware kullanacak (login zorunlu)
            </div>

            <h3>Favoriler API</h3>
            <div class="api-endpoint">
                <span class="method method-post">POST</span>
                <code>/api/favorites/toggle</code>
            </div>
            <div class="code-snippet">
Body: {
  "model_class": "Modules\\Muzibu\\App\\Models\\Song",
  "model_id": 123
}

Response: {
  "success": true,
  "message": "Favorilere eklendi",
  "data": {
    "action": "added",
    "is_favorited": true,
    "favorites_count": 42
  }
}
            </div>

            <div class="api-endpoint">
                <span class="method method-get">GET</span>
                <code>/api/favorites/my-favorites</code>
            </div>
            <div class="code-snippet">
Query: ?model_type=Modules\\Muzibu\\App\\Models\\Song&per_page=20

Response: {
  "data": [
    {
      "id": 1,
      "favoritable": { ... },
      "created_at": "2025-11-29T10:00:00"
    }
  ],
  "links": { ... },
  "meta": { ... }
}
            </div>

            <h3>Playlist API (Yeni)</h3>
            <div class="api-endpoint">
                <span class="method method-post">POST</span>
                <code>/api/playlists/clone</code>
            </div>
            <div class="code-snippet">
Body: {
  "playlist_id": 5
}

Response: {
  "success": true,
  "message": "Playlist kopyalandÄ±",
  "data": {
    "playlist_id": 123,
    "title": "Rock Classics (Kopyam)",
    "song_count": 25
  }
}
            </div>

            <div class="api-endpoint">
                <span class="method method-post">POST</span>
                <code>/api/playlists/quick-create</code>
            </div>
            <div class="code-snippet">
Body: {
  "title": "Ã‡alÄ±ÅŸma MÃ¼zikleri",
  "description": "Konsantre olurken dinlediklerim",
  "song_ids": [1, 5, 8, 12]
}

Response: {
  "success": true,
  "message": "Playlist oluÅŸturuldu",
  "data": {
    "playlist_id": 124,
    "title": "Ã‡alÄ±ÅŸma MÃ¼zikleri",
    "song_count": 4
  }
}
            </div>

            <div class="api-endpoint">
                <span class="method method-post">POST</span>
                <code>/api/playlists/{id}/add-song</code>
            </div>
            <div class="code-snippet">
Body: {
  "song_id": 42
}

Response: {
  "success": true,
  "message": "ÅarkÄ± playlist'e eklendi",
  "data": {
    "song_id": 42,
    "position": 26
  }
}
            </div>

            <div class="api-endpoint">
                <span class="method method-delete">DELETE</span>
                <code>/api/playlists/{id}/remove-song/{song_id}</code>
            </div>

            <div class="api-endpoint">
                <span class="method method-put">PUT</span>
                <code>/api/playlists/{id}/reorder</code>
            </div>
            <div class="code-snippet">
Body: {
  "song_positions": [
    { "song_id": 1, "position": 1 },
    { "song_id": 5, "position": 2 },
    { "song_id": 8, "position": 3 }
  ]
}
            </div>

            <div class="api-endpoint">
                <span class="method method-get">GET</span>
                <code>/api/playlists/my-playlists</code>
            </div>
            <div class="code-snippet">
Response: KullanÄ±cÄ±nÄ±n oluÅŸturduÄŸu tÃ¼m playlistler (is_system = false)
            </div>
        </section>

        <!-- FRONTEND GELÄ°ÅTÄ°RME PLANI -->
        <section class="section">
            <h2>ğŸ¨ Frontend GeliÅŸtirme PlanÄ±</h2>

            <div class="plan-item">
                <h4>1. Favorite ButonlarÄ± GÃ¼ncellemesi <span class="priority priority-critical">Kritik</span></h4>
                <p><strong>Ne YapÄ±lacak:</strong> Mevcut favorite-button component'i Album ve Playlist iÃ§in kullan</p>
                <ul>
                    <li><strong>Ana Sayfa:</strong> Her albÃ¼m/playlist kartÄ±na favorite butonu ekle</li>
                    <li><strong>Detay SayfalarÄ±:</strong> Album/Playlist detay sayfalarÄ±na favorite butonu</li>
                    <li><strong>Component:</strong> Mevcut <span class="tech-term">favorite-button</span> component zaten hazÄ±r (polymorphic)</li>
                    <li><strong>KullanÄ±m:</strong> model prop'unu Album veya Playlist instance olarak gÃ¶nder</li>
                </ul>
                <div class="code-snippet">
&lt;x-common.favorite-button :model="$album" size="md" /&gt;
&lt;x-common.favorite-button :model="$playlist" size="lg" /&gt;
                </div>
            </div>

            <div class="plan-item">
                <h4>2. Playlist Ä°ÅŸlemleri Dropdown MenÃ¼ <span class="priority priority-high">YÃ¼ksek</span></h4>
                <p><strong>Ne YapÄ±lacak:</strong> Her ÅŸarkÄ±nÄ±n yanÄ±nda 3 nokta menÃ¼ ekle</p>
                <ul>
                    <li><strong>MenÃ¼ SeÃ§enekleri:</strong>
                        <ul>
                            <li>â• Playlist'e Ekle (kullanÄ±cÄ± playlistlerini listele)</li>
                            <li>â­ Yeni Playlist OluÅŸtur (modal aÃ§Ä±lÄ±r)</li>
                            <li>â¤ï¸ Favorilere Ekle/Ã‡Ä±kar</li>
                            <li>ğŸ“‹ Kuyruk'a Ekle (mevcut queue sistemi)</li>
                        </ul>
                    </li>
                    <li><strong>TasarÄ±m:</strong> Alpine.js dropdown (Spotify tarzÄ±)</li>
                    <li><strong>Konum:</strong> Ana sayfa, playlist detay, album detay, arama sonuÃ§larÄ±</li>
                </ul>
            </div>

            <div class="plan-item">
                <h4>3. Playlist Kopyalama Butonu <span class="priority priority-high">YÃ¼ksek</span></h4>
                <p><strong>Ne YapÄ±lacak:</strong> Sistem playlistlerinde "Kopyala" butonu</p>
                <ul>
                    <li><strong>Konum:</strong> Playlist detay sayfasÄ±nda (sadece is_system = true iÃ§in gÃ¶ster)</li>
                    <li><strong>DavranÄ±ÅŸ:</strong> Butona tÄ±kla â†’ API Ã§aÄŸÄ±r â†’ Toast bildirimi gÃ¶ster</li>
                    <li><strong>Bildirim:</strong> "âœ… Playlist kopyalandÄ±! Kendi playlistlerim sayfasÄ±na git"</li>
                </ul>
            </div>

            <div class="plan-item">
                <h4>4. AnÄ±nda Playlist OluÅŸturma Modal <span class="priority priority-medium">Orta</span></h4>
                <p><strong>Ne YapÄ±lacak:</strong> ÅarkÄ± menÃ¼sÃ¼nden "Yeni Playlist OluÅŸtur" seÃ§ince modal aÃ§Ä±lÄ±r</p>
                <ul>
                    <li><strong>Form AlanlarÄ±:</strong> Playlist adÄ± (zorunlu), AÃ§Ä±klama (opsiyonel)</li>
                    <li><strong>DavranÄ±ÅŸ:</strong> Form gÃ¶nder â†’ API Ã§aÄŸÄ±r (ÅŸarkÄ± ID'si dahil) â†’ Modal kapat â†’ Toast gÃ¶ster</li>
                    <li><strong>TasarÄ±m:</strong> Modal popup (Alpine.js x-show)</li>
                </ul>
            </div>

            <div class="plan-item">
                <h4>5. Favorilerim SayfasÄ± <span class="priority priority-medium">Orta</span></h4>
                <p><strong>Ne YapÄ±lacak:</strong> KullanÄ±cÄ±nÄ±n tÃ¼m favorilerini listeleyen sayfa</p>
                <ul>
                    <li><strong>URL:</strong> /muzibu/favorites</li>
                    <li><strong>Tab Sistemi:</strong> TÃ¼mÃ¼ | ÅarkÄ±lar | AlbÃ¼mler | Playlistler</li>
                    <li><strong>GÃ¶rÃ¼nÃ¼m:</strong> Grid layout (ana sayfadaki gibi)</li>
                    <li><strong>Fonksiyonlar:</strong> Her item iÃ§in play butonu + favoriden Ã§Ä±kar butonu</li>
                    <li><strong>Pagination:</strong> Infinite scroll veya sayfalama</li>
                </ul>
            </div>

            <div class="plan-item">
                <h4>6. Playlistlerim SayfasÄ± <span class="priority priority-medium">Orta</span></h4>
                <p><strong>Ne YapÄ±lacak:</strong> KullanÄ±cÄ±nÄ±n kendi oluÅŸturduÄŸu playlistler</p>
                <ul>
                    <li><strong>URL:</strong> /muzibu/my-playlists</li>
                    <li><strong>GÃ¶rÃ¼nÃ¼m:</strong> Grid layout + "Yeni Playlist OluÅŸtur" butonu</li>
                    <li><strong>DÃ¼zenleme:</strong> Her playlist iÃ§in dropdown (DÃ¼zenle | Sil)</li>
                    <li><strong>Detay:</strong> Playlist'e tÄ±kla â†’ Detay sayfasÄ±na git (ÅŸarkÄ± listesi + dÃ¼zenleme seÃ§enekleri)</li>
                </ul>
            </div>
        </section>

        <!-- UI/UX TASARIM DETAYLARÄ± -->
        <section class="section">
            <h2>ğŸ­ UI/UX TasarÄ±m DetaylarÄ±</h2>

            <div class="plan-item">
                <h4>ÅarkÄ± KartÄ± - Ä°ÅŸlemler MenÃ¼sÃ¼</h4>
                <div class="code-snippet">
[ÅarkÄ± AdÄ±] - [SanatÃ§Ä±]              [â¤ï¸] [â‹®]
                                      â†“
                                [Dropdown MenÃ¼]
                                â”œâ”€ â• Playlist'e Ekle
                                â”‚  â””â”€ [Playlistlerim Listesi]
                                â”œâ”€ â­ Yeni Playlist OluÅŸtur
                                â”œâ”€ â¤ï¸ Favorilere Ekle
                                â””â”€ ğŸ“‹ Kuyruk'a Ekle
                </div>
                <p><strong>DavranÄ±ÅŸ:</strong> Alpine.js @click.away ile dropdown kapat</p>
            </div>

            <div class="plan-item">
                <h4>Playlist KartÄ± - Sistem/User AyrÄ±mÄ±</h4>
                <div class="code-snippet">
[Playlist Cover]
[Playlist AdÄ±]
[ÅarkÄ± SayÄ±sÄ±]

â€¢ Sistem Playlist ise: [â¤ï¸ Favorilere Ekle] [ğŸ“‹ Kopyala]
â€¢ User Playlist ise:   [â¤ï¸ Favorilere Ekle] [âœï¸ DÃ¼zenle] [ğŸ—‘ï¸ Sil]
                </div>
                <p><strong>GÃ¶sterge:</strong> Sistem playlistlerde rozet gÃ¶ster (ğŸµ Sistem Playlist)</p>
            </div>

            <div class="plan-item">
                <h4>Favorilerim SayfasÄ± - Tab Sistemi</h4>
                <div class="code-snippet">
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ Favorilerim                                 â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚ [TÃ¼mÃ¼] [ÅarkÄ±lar] [AlbÃ¼mler] [Playlistler] â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                                             â”‚
â”‚  [Kart] [Kart] [Kart] [Kart]               â”‚
â”‚  [Kart] [Kart] [Kart] [Kart]               â”‚
â”‚                                             â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                </div>
                <p><strong>BoÅŸ Durum:</strong> "HenÃ¼z favori eklemediniz" mesajÄ± + keÅŸfet butonu</p>
            </div>
        </section>

        <!-- DATABASE DEÄÄ°ÅÄ°KLÄ°KLERÄ° -->
        <section class="section">
            <h2>ğŸ’¾ Database DeÄŸiÅŸiklikleri</h2>

            <div class="success">
                <strong>âœ… Migration Gerekmez!</strong> Mevcut yapÄ± zaten yeterli:
                <ul style="margin-top: 10px;">
                    <li>âœ… <span class="tech-term">favorites</span> tablosu polymorphic yapÄ±da (her model favoriye eklenebilir)</li>
                    <li>âœ… <span class="tech-term">muzibu_playlists</span> tablosunda user_id ve is_system field'leri var</li>
                    <li>âœ… <span class="tech-term">muzibu_playlist_song</span> pivot tablosunda position field var</li>
                </ul>
            </div>

            <div class="info">
                <strong>Ä°steÄŸe BaÄŸlÄ± Ä°yileÅŸtirmeler:</strong>
                <ul style="margin-top: 10px;">
                    <li>Playlist cover image (media_id) zaten var</li>
                    <li>Playlist is_public field var (gizli playlist desteÄŸi)</li>
                    <li>Soft delete var (silinen playlist'ler geri getirilebilir)</li>
                </ul>
            </div>
        </section>

        <!-- GELÄ°ÅTÄ°RME TIMELINE -->
        <section class="section">
            <h2>â±ï¸ GeliÅŸtirme Timeline</h2>

            <div class="timeline">
                <div class="timeline-item">
                    <h4>Faz 1: Model & Backend (2-3 saat)</h4>
                    <ul>
                        <li>Album ve Playlist modellerine HasFavorites trait ekle</li>
                        <li>PlaylistService: clonePlaylist() methodu</li>
                        <li>PlaylistService: createPlaylistWithSongs() methodu</li>
                        <li>PlaylistService: addSongToPlaylist() methodu</li>
                    </ul>
                </div>

                <div class="timeline-item">
                    <h4>Faz 2: API Routes & Controllers (2 saat)</h4>
                    <ul>
                        <li>API endpoint'lerini oluÅŸtur (routes/api.php)</li>
                        <li>PlaylistController: clone, quickCreate, addSong methodlarÄ±</li>
                        <li>Validasyon kurallarÄ± ekle</li>
                        <li>API testleri (Postman/Insomnia)</li>
                    </ul>
                </div>

                <div class="timeline-item">
                    <h4>Faz 3: Frontend Components (3-4 saat)</h4>
                    <ul>
                        <li>Favorite butonlarÄ±nÄ± album/playlist'lere ekle</li>
                        <li>ÅarkÄ± iÅŸlemleri dropdown menÃ¼ component</li>
                        <li>AnÄ±nda playlist oluÅŸturma modal</li>
                        <li>Alpine.js store entegrasyonu</li>
                    </ul>
                </div>

                <div class="timeline-item">
                    <h4>Faz 4: Sayfalar (3 saat)</h4>
                    <ul>
                        <li>Favorilerim sayfasÄ± (tab sistemi ile)</li>
                        <li>Playlistlerim sayfasÄ±</li>
                        <li>Playlist detay sayfasÄ± dÃ¼zenleme eklentileri</li>
                    </ul>
                </div>

                <div class="timeline-item">
                    <h4>Faz 5: Test & Polish (2 saat)</h4>
                    <ul>
                        <li>End-to-end test (tÃ¼m iÅŸlevler)</li>
                        <li>Responsive kontrol</li>
                        <li>Toast bildirimleri</li>
                        <li>Loading state'leri</li>
                        <li>Error handling</li>
                    </ul>
                </div>
            </div>

            <div class="info">
                <strong>Toplam Tahmini SÃ¼re:</strong> 12-14 saat (adÄ±m adÄ±m uygulama ile)
            </div>
        </section>

        <!-- Ã–NEMLÄ° NOTLAR -->
        <section class="section">
            <h2>âš ï¸ Ã–nemli Notlar</h2>

            <div class="warning">
                <strong>Tenant Aware Sistemdir!</strong>
                <ul style="margin-top: 10px;">
                    <li>Bu sistem SADECE Tenant 1001 (muzibu.com.tr) iÃ§in geÃ§erlidir</li>
                    <li>Song, Album, Playlist modelleri tenant database'de</li>
                    <li>Favorites tablosu tenant database'de</li>
                    <li>Users tablosu central database'de (user_id foreign key)</li>
                </ul>
            </div>

            <div class="info">
                <strong>GÃ¼venlik:</strong>
                <ul style="margin-top: 10px;">
                    <li>Playlist dÃ¼zenleme/silme: Sadece playlist sahibi (user_id kontrolÃ¼)</li>
                    <li>Sistem playlistler: is_system = true olanlar dÃ¼zenlenemez/silinemez</li>
                    <li>API endpoint'leri: auth:sanctum middleware ile korunacak</li>
                    <li>CSRF token: Alpine.js fetch isteklerinde meta tag'tan alÄ±nacak</li>
                </ul>
            </div>

            <div class="success">
                <strong>Performans:</strong>
                <ul style="margin-top: 10px;">
                    <li>Favorite sayÄ±larÄ±: withCount() ile eager load</li>
                    <li>Playlist ÅŸarkÄ±larÄ±: songs() relation eager load</li>
                    <li>Cache: FavoriteService cache temizliÄŸi otomatik</li>
                    <li>Pagination: TÃ¼m listelerde sayfalama kullan</li>
                </ul>
            </div>
        </section>

        <!-- BAÅLANGIÃ‡ ADIMLARI -->
        <section class="section">
            <h2>ğŸš€ BaÅŸlangÄ±Ã§ AdÄ±mlarÄ±</h2>

            <div class="plan-item">
                <h4>1. Backend - Model GÃ¼ncellemeleri</h4>
                <div class="code-snippet">
# Album.php
use Modules\Favorite\App\Traits\HasFavorites;

class Album extends BaseModel
{
    use HasFavorites; // â† Bu trait'i ekle
}

# Playlist.php  
use Modules\Favorite\App\Traits\HasFavorites;

class Playlist extends BaseModel
{
    use HasFavorites; // â† Bu trait'i ekle
}
                </div>
            </div>

            <div class="plan-item">
                <h4>2. Backend - PlaylistService GeniÅŸletme</h4>
                <div class="code-snippet">
# Modules/Muzibu/app/Services/PlaylistService.php

public function clonePlaylist(int $playlistId, int $userId): array
{
    // 1. Sistem playlist'i bul
    // 2. Yeni user playlist oluÅŸtur (is_system = false)
    // 3. ÅarkÄ±larÄ± kopyala (pivot tablo)
    // 4. Cover image kopyala
    // 5. Return new playlist
}

public function createPlaylistWithSongs(array $data, int $userId): array
{
    // 1. Playlist oluÅŸtur
    // 2. ÅarkÄ±larÄ± ekle (position ile)
    // 3. Return playlist
}
                </div>
            </div>

            <div class="plan-item">
                <h4>3. Frontend - Favorite ButonlarÄ± Ekle</h4>
                <div class="code-snippet">
&lt;!-- Ana sayfa - Album kartÄ± --&gt;
&lt;x-common.favorite-button :model="$album" size="md" iconOnly="true" /&gt;

&lt;!-- Ana sayfa - Playlist kartÄ± --&gt;
&lt;x-common.favorite-button :model="$playlist" size="md" iconOnly="true" /&gt;

&lt;!-- Detay sayfasÄ± --&gt;
&lt;x-common.favorite-button :model="$album" size="lg" showText="true" /&gt;
                </div>
            </div>

            <div class="plan-item">
                <h4>4. Frontend - ÅarkÄ± Ä°ÅŸlemleri MenÃ¼ Component</h4>
                <div class="code-snippet">
&lt;!-- resources/views/components/muzibu/song-actions-menu.blade.php --&gt;

@props(['song' => null])

&lt;div x-data="{ open: false }" @click.away="open = false" class="relative"&gt;
    &lt;button @click="open = !open"&gt;
        &lt;i class="fas fa-ellipsis-v"&gt;&lt;/i&gt;
    &lt;/button&gt;
    
    &lt;div x-show="open" class="dropdown-menu"&gt;
        &lt;button @click="addToPlaylist({{ $song-&gt;id }})"&gt;
            â• Playlist'e Ekle
        &lt;/button&gt;
        &lt;button @click="createNewPlaylist({{ $song-&gt;id }})"&gt;
            â­ Yeni Playlist
        &lt;/button&gt;
        &lt;button @click="toggleFavorite({{ $song-&gt;id }})"&gt;
            â¤ï¸ Favorilere Ekle
        &lt;/button&gt;
    &lt;/div&gt;
&lt;/div&gt;
                </div>
            </div>
        </section>

        <footer>
            ğŸ¤– Claude AI tarafÄ±ndan oluÅŸturuldu | Muzibu Favoriler & Playlist YÃ¶netim Sistemi PlanÄ±
        </footer>
    </div>
</body>
</html>

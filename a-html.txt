<main class="flex-1 min-h-[60vh] relative" style="z-index: 10;" @mouseenter="$dispatch('close-megamenu')">
    <div wire:id="LenLyppXlWH8BxDdfwiH" class="min-h-screen py-6 bg-gray-50 dark:bg-gray-900" x-data="{
    // Form Data
    contactFirstName: 'Nurullah',
    contactLastName: 'Okatan',
    contactEmail: 'nurullah@nurullah.net',
    contactPhone: '05322160754',

    // Fatura Profili
    billingProfileId: null,
    showNewBillingProfile: false,
    newBillingProfileType: 'individual',

    // Adres
    shippingAddressId: null,
    billingAddressId: null,
    billingSameAsShipping: true,

    // UI State
    showShippingForm: false,
    showNewShippingForm: false,
    showNewBillingForm: false,
    paymentMethod: 'card',
    agreeAll: false,

    // Yeni Adres Form
    newAddressTitle: '',
    newAddressPhone: '',
    newAddressLine: '',
    newAddressCity: '',
    newAddressDistrict: '',
    newAddressPostal: '',

    // Methods
    selectBillingProfile(profileId) {
        this.billingProfileId = profileId;
        $wire.selectBillingProfile(profileId);
    },

    syncToLivewire() {
        // Submit Ã¶ncesi Livewire'a sync
        $wire.set('contact_first_name', this.contactFirstName);
        $wire.set('contact_last_name', this.contactLastName);
        $wire.set('contact_phone', this.contactPhone);
        $wire.set('billing_profile_id', this.billingProfileId);
        $wire.set('shipping_address_id', this.shippingAddressId);
        $wire.set('billing_address_id', this.billingSameAsShipping ? this.shippingAddressId : this.billingAddressId);
        $wire.set('billing_same_as_shipping', this.billingSameAsShipping);
        $wire.set('agree_all', this.agreeAll);
    },

    async submitOrder() {
        this.syncToLivewire();
        await $wire.proceedToPayment();
    }
}" @address-saved.window="
    if ($event.detail.type === 'shipping') {
        showNewShippingForm = false;
        showShippingForm = false;
        shippingAddressId = $event.detail.addressId;
    } else {
        showNewBillingForm = false;
        billingAddressId = $event.detail.addressId;
    }
" @billing-profile-saved.window="showNewBillingProfile = false; billingProfileId = $event.detail.profileId" data-has-alpine-state="true">
    
    <style>
        .checkout-card {
            background: rgba(255, 255, 255, 0.7) !important;
            backdrop-filter: blur(12px);
            -webkit-backdrop-filter: blur(12px);
            border: 1px solid rgba(255, 255, 255, 0.3) !important;
            box-shadow: 0 8px 32px rgba(0, 0, 0, 0.1);
        }
        .checkout-card:hover {
            box-shadow: 0 12px 40px rgba(0, 0, 0, 0.15);
        }
        .dark .checkout-card {
            background: rgba(255, 255, 255, 0.05) !important;
            border-color: rgba(255, 255, 255, 0.1) !important;
            box-shadow: 0 8px 32px rgba(0, 0, 0, 0.3);
        }
        .dark .checkout-card:hover {
            background: rgba(255, 255, 255, 0.08) !important;
            box-shadow: 0 12px 40px rgba(0, 0, 0, 0.4);
        }
        .checkout-card input,
        .checkout-card select,
        .checkout-card textarea {
            background: rgba(255, 255, 255, 0.5) !important;
            backdrop-filter: blur(4px);
            -webkit-backdrop-filter: blur(4px);
            border: 1px solid rgba(0, 0, 0, 0.1) !important;
            transition: all 0.3s ease;
        }
        .checkout-card input:focus,
        .checkout-card select:focus,
        .checkout-card textarea:focus {
            background: rgba(255, 255, 255, 0.8) !important;
            border-color: rgba(75, 85, 99, 0.5) !important;
            box-shadow: 0 0 0 3px rgba(75, 85, 99, 0.1);
        }
        .dark .checkout-card input,
        .dark .checkout-card select,
        .dark .checkout-card textarea {
            background: rgba(255, 255, 255, 0.05) !important;
            border-color: rgba(255, 255, 255, 0.1) !important;
        }
        .dark .checkout-card input:focus,
        .dark .checkout-card select:focus,
        .dark .checkout-card textarea:focus {
            background: rgba(255, 255, 255, 0.1) !important;
            border-color: rgba(156, 163, 175, 0.5) !important;
        }
        .checkout-sidebar {
            background: rgba(255, 255, 255, 0.7) !important;
            backdrop-filter: blur(12px);
            -webkit-backdrop-filter: blur(12px);
            border: 1px solid rgba(255, 255, 255, 0.3) !important;
            box-shadow: 0 8px 32px rgba(0, 0, 0, 0.1);
        }
        .dark .checkout-sidebar {
            background: rgba(255, 255, 255, 0.05) !important;
            border-color: rgba(255, 255, 255, 0.1) !important;
            box-shadow: 0 8px 32px rgba(0, 0, 0, 0.3);
        }
    </style>

    <div class="container mx-auto px-4 sm:px-4 md:px-2">

        
        <div class="text-center mb-8">
            <h1 class="text-2xl md:text-3xl font-bold text-gray-900 dark:text-white">SipariÅŸ Tamamla</h1>
        </div>

        
        <!--[if BLOCK]><![endif]-->
        
        <div class="grid grid-cols-1 lg:grid-cols-12 gap-6">

            
            
            
            <div class="lg:col-span-8 space-y-4">

                
                <div x-data="{ contactFormOpen: !(contactFirstName &amp;&amp; contactLastName &amp;&amp; contactEmail &amp;&amp; contactPhone) }" data-has-alpine-state="true">
                    
                    <div x-show="!contactFormOpen &amp;&amp; contactFirstName &amp;&amp; contactLastName &amp;&amp; contactEmail &amp;&amp; contactPhone" class="flex items-center justify-between py-3 px-4 bg-white dark:bg-gray-800 rounded-xl border border-gray-200 dark:border-gray-700">
                        <p class="text-sm text-gray-600 dark:text-gray-400">
                            <span class="text-gray-900 dark:text-white font-medium" x-text="contactFirstName + ' ' + contactLastName">Nurullah Okatan</span>
                            <span class="mx-2 text-gray-400">â€¢</span>
                            <span x-text="contactEmail">nurullah@nurullah.net</span>
                            <span class="mx-2 text-gray-400">â€¢</span>
                            <span x-text="contactPhone">05322160754</span>
                        </p>
                        <button type="button" @click="contactFormOpen = true" class="text-gray-400 hover:text-gray-600 dark:hover:text-gray-300 p-1">
                            <i class="fa-solid fa-pen text-xs"></i>
                        </button>
                    </div>

                    
                    <div x-show="contactFormOpen || !contactFirstName || !contactLastName || !contactEmail || !contactPhone" class="checkout-card bg-white dark:bg-gray-800 rounded-2xl p-5 border border-gray-200 dark:border-gray-700 shadow-sm" style="display: none;">
                        <div class="flex items-center justify-between mb-4">
                            <span class="text-sm font-medium text-gray-700 dark:text-gray-300">Ä°letiÅŸim Bilgileri</span>
                            <button x-show="contactFirstName &amp;&amp; contactLastName &amp;&amp; contactEmail &amp;&amp; contactPhone" type="button" @click="contactFormOpen = false" class="text-gray-400 hover:text-gray-600 dark:hover:text-gray-300">
                                <i class="fa-solid fa-times"></i>
                            </button>
                        </div>
                        <div class="grid md:grid-cols-2 gap-3">
                            <div>
                                <label class="block text-xs text-gray-600 dark:text-gray-400 mb-1">Ad <span class="text-red-500">*</span></label>
                                <input type="text" x-model="contactFirstName" class="w-full px-3 py-2.5 bg-white dark:bg-gray-700 border border-gray-300 dark:border-gray-600 rounded-lg text-gray-900 dark:text-white text-sm focus:border-gray-500 transition-all">
                                <!--[if BLOCK]><![endif]--><!--[if ENDBLOCK]><![endif]-->
                            </div>
                            <div>
                                <label class="block text-xs text-gray-600 dark:text-gray-400 mb-1">Soyad <span class="text-red-500">*</span></label>
                                <input type="text" x-model="contactLastName" class="w-full px-3 py-2.5 bg-white dark:bg-gray-700 border border-gray-300 dark:border-gray-600 rounded-lg text-gray-900 dark:text-white text-sm focus:border-gray-500 transition-all">
                                <!--[if BLOCK]><![endif]--><!--[if ENDBLOCK]><![endif]-->
                            </div>
                            <div>
                                <label class="block text-xs text-gray-600 dark:text-gray-400 mb-1">E-posta <span class="text-red-500">*</span></label>
                                <!--[if BLOCK]><![endif]-->                                    <input type="email" x-model="contactEmail" readonly="" class="w-full px-3 py-2.5 bg-gray-100 dark:bg-gray-600 border border-gray-300 dark:border-gray-600 rounded-lg text-gray-500 dark:text-gray-400 text-sm cursor-not-allowed">
                                <!--[if ENDBLOCK]><![endif]-->
                                <!--[if BLOCK]><![endif]--><!--[if ENDBLOCK]><![endif]-->
                            </div>
                            <div>
                                <div x-data="{
    phoneCountry: {
        code: '+90',
        flag: 'ğŸ‡¹ğŸ‡·',
        name: 'TÃ¼rkiye',
        placeholder: '5__ ___ __ __',
        format: 'XXX XXX XX XX'
    },
    phoneCountries: [
        { code: '+90', flag: 'ğŸ‡¹ğŸ‡·', name: 'TÃ¼rkiye', placeholder: '5__ ___ __ __', format: 'XXX XXX XX XX' },
        { code: '+1', flag: 'ğŸ‡ºğŸ‡¸', name: 'Amerika', placeholder: '(___) ___-____', format: '(XXX) XXX-XXXX' },
        { code: '+44', flag: 'ğŸ‡¬ğŸ‡§', name: 'Ä°ngiltere', placeholder: '____ ______', format: 'XXXX XXXXXX' },
        { code: '+49', flag: 'ğŸ‡©ğŸ‡ª', name: 'Almanya', placeholder: '___ ________', format: 'XXX XXXXXXXX' },
        { code: '+33', flag: 'ğŸ‡«ğŸ‡·', name: 'Fransa', placeholder: '__ __ __ __ __', format: 'XX XX XX XX XX' },
        { code: '+39', flag: 'ğŸ‡®ğŸ‡¹', name: 'Ä°talya', placeholder: '___ ___ ____', format: 'XXX XXX XXXX' },
        { code: '+34', flag: 'ğŸ‡ªğŸ‡¸', name: 'Ä°spanya', placeholder: '___ __ __ __', format: 'XXX XX XX XX' },
        { code: '+31', flag: 'ğŸ‡³ğŸ‡±', name: 'Hollanda', placeholder: '__ ________', format: 'XX XXXXXXXX' },
        { code: '+32', flag: 'ğŸ‡§ğŸ‡ª', name: 'BelÃ§ika', placeholder: '___ __ __ __', format: 'XXX XX XX XX' },
        { code: '+41', flag: 'ğŸ‡¨ğŸ‡­', name: 'Ä°sviÃ§re', placeholder: '__ ___ __ __', format: 'XX XXX XX XX' },
        { code: '+43', flag: 'ğŸ‡¦ğŸ‡¹', name: 'Avusturya', placeholder: '___ _______', format: 'XXX XXXXXXX' },
        { code: '+45', flag: 'ğŸ‡©ğŸ‡°', name: 'Danimarka', placeholder: '__ __ __ __', format: 'XX XX XX XX' },
        { code: '+46', flag: 'ğŸ‡¸ğŸ‡ª', name: 'Ä°sveÃ§', placeholder: '__ ___ __ __', format: 'XX XXX XX XX' },
        { code: '+47', flag: 'ğŸ‡³ğŸ‡´', name: 'NorveÃ§', placeholder: '___ __ ___', format: 'XXX XX XXX' },
        { code: '+358', flag: 'ğŸ‡«ğŸ‡®', name: 'Finlandiya', placeholder: '__ ___ ____', format: 'XX XXX XXXX' },
        { code: '+30', flag: 'ğŸ‡¬ğŸ‡·', name: 'Yunanistan', placeholder: '___ ___ ____', format: 'XXX XXX XXXX' },
        { code: '+7', flag: 'ğŸ‡·ğŸ‡º', name: 'Rusya', placeholder: '(___)___-__-__', format: '(XXX)XXX-XX-XX' }
    ],
    phoneValue: '05322160754',
    phoneValid: false,
    phoneError: '',
    countryOpen: false,

    selectCountry(country) {
        this.phoneCountry = country;
        this.phoneValue = '';
        this.phoneValid = false;
        this.countryOpen = false;
            },

    formatPhoneNumber() {
        let phone = this.phoneValue.replace(/\D/g, '');

        // Turkey specific formatting
        if (this.phoneCountry.code === '+90') {
            if (phone.length &gt; 0) {
                if (phone.length &lt;= 3) {
                    this.phoneValue = phone;
                } else if (phone.length &lt;= 6) {
                    this.phoneValue = phone.substring(0, 3) + ' ' + phone.substring(3);
                } else if (phone.length &lt;= 8) {
                    this.phoneValue = phone.substring(0, 3) + ' ' + phone.substring(3, 6) + ' ' + phone.substring(6);
                } else {
                    this.phoneValue = phone.substring(0, 3) + ' ' + phone.substring(3, 6) + ' ' + phone.substring(6, 8) + ' ' + phone.substring(8, 10);
                    phone = phone.substring(0, 10);
                }
            }

            // Validate Turkey phone
            if (phone.length === 0) {
                this.phoneValid = false;
                this.phoneError = 'Telefon numarasÄ± gereklidir';
            } else if (!phone.startsWith('5')) {
                this.phoneValid = false;
                this.phoneError = 'Cep telefonu 5 ile baÅŸlamalÄ±dÄ±r';
            } else if (phone.length !== 10) {
                this.phoneValid = false;
                this.phoneError = 'Telefon numarasÄ± 10 haneli olmalÄ±dÄ±r';
            } else if (!['50', '51', '52', '53', '54', '55', '56', '58', '59'].includes(phone.substring(0, 2))) {
                this.phoneValid = false;
                this.phoneError = 'GeÃ§ersiz operatÃ¶r kodu';
            } else {
                this.phoneValid = true;
                this.phoneError = '';
            }
        } else {
            // Generic international validation
            this.phoneValue = phone;

            if (phone.length === 0) {
                this.phoneValid = false;
                this.phoneError = 'Telefon numarasÄ± gereklidir';
            } else if (phone.length &lt; 7) {
                this.phoneValid = false;
                this.phoneError = 'Telefon numarasÄ± Ã§ok kÄ±sa';
            } else if (phone.length &gt; 15) {
                this.phoneValid = false;
                this.phoneError = 'Telefon numarasÄ± Ã§ok uzun';
            } else {
                this.phoneValid = true;
                this.phoneError = '';
            }
        }

                // Alpine parent sync
        $parent.contactPhone = this.phoneValue;
            }
}" data-has-alpine-state="true">
    <div>
        <label class="block text-xs text-gray-600 dark:text-gray-400 mb-1">
            Telefon
            <!--[if BLOCK]><![endif]-->                <span class="text-red-500">*</span>
            <!--[if ENDBLOCK]><![endif]-->
        </label>

        <div class="relative">
            <div class="flex gap-2">
                
                <div class="relative">
                    <button type="button" @click="countryOpen = !countryOpen" class="px-3 py-2.5 bg-white dark:bg-gray-700 border border-gray-300 dark:border-gray-600 rounded-lg text-gray-900 dark:text-white text-sm hover:bg-gray-50 dark:hover:bg-gray-600 transition-all flex items-center gap-2">
                        <span x-text="phoneCountry.flag" class="text-lg">ğŸ‡¹ğŸ‡·</span>
                        <span x-text="phoneCountry.code" class="text-sm font-medium">+90</span>
                        <i class="fas fa-chevron-down text-xs text-gray-400"></i>
                    </button>

                    
                    <div x-show="countryOpen" @click.away="countryOpen = false" x-transition="" class="absolute top-full left-0 mt-2 w-64 bg-white dark:bg-gray-700 rounded-lg shadow-2xl border border-gray-200 dark:border-gray-600 overflow-hidden z-50 max-h-64 overflow-y-auto" style="display: none;">
                        <template x-for="country in phoneCountries" :key="country.code">
                            <button type="button" @click="selectCountry(country)" class="w-full flex items-center gap-3 px-4 py-3 hover:bg-gray-100 dark:hover:bg-gray-600 transition-all text-left">
                                <span x-text="country.flag" class="text-lg">ğŸ³ï¸</span>
                                <div class="flex-1">
                                    <div x-text="country.name" class="text-sm font-medium text-gray-900 dark:text-white"></div>
                                    <div x-text="country.code" class="text-xs text-gray-500 dark:text-gray-400"></div>
                                </div>
                            </button>
                        </template><button type="button" @click="selectCountry(country)" class="w-full flex items-center gap-3 px-4 py-3 hover:bg-gray-100 dark:hover:bg-gray-600 transition-all text-left" data-has-alpine-state="true">
                                <span x-text="country.flag" class="text-lg">ğŸ‡¹ğŸ‡·</span>
                                <div class="flex-1">
                                    <div x-text="country.name" class="text-sm font-medium text-gray-900 dark:text-white">TÃ¼rkiye</div>
                                    <div x-text="country.code" class="text-xs text-gray-500 dark:text-gray-400">+90</div>
                                </div>
                            </button><button type="button" @click="selectCountry(country)" class="w-full flex items-center gap-3 px-4 py-3 hover:bg-gray-100 dark:hover:bg-gray-600 transition-all text-left" data-has-alpine-state="true">
                                <span x-text="country.flag" class="text-lg">ğŸ‡ºğŸ‡¸</span>
                                <div class="flex-1">
                                    <div x-text="country.name" class="text-sm font-medium text-gray-900 dark:text-white">Amerika</div>
                                    <div x-text="country.code" class="text-xs text-gray-500 dark:text-gray-400">+1</div>
                                </div>
                            </button><button type="button" @click="selectCountry(country)" class="w-full flex items-center gap-3 px-4 py-3 hover:bg-gray-100 dark:hover:bg-gray-600 transition-all text-left" data-has-alpine-state="true">
                                <span x-text="country.flag" class="text-lg">ğŸ‡¬ğŸ‡§</span>
                                <div class="flex-1">
                                    <div x-text="country.name" class="text-sm font-medium text-gray-900 dark:text-white">Ä°ngiltere</div>
                                    <div x-text="country.code" class="text-xs text-gray-500 dark:text-gray-400">+44</div>
                                </div>
                            </button><button type="button" @click="selectCountry(country)" class="w-full flex items-center gap-3 px-4 py-3 hover:bg-gray-100 dark:hover:bg-gray-600 transition-all text-left" data-has-alpine-state="true">
                                <span x-text="country.flag" class="text-lg">ğŸ‡©ğŸ‡ª</span>
                                <div class="flex-1">
                                    <div x-text="country.name" class="text-sm font-medium text-gray-900 dark:text-white">Almanya</div>
                                    <div x-text="country.code" class="text-xs text-gray-500 dark:text-gray-400">+49</div>
                                </div>
                            </button><button type="button" @click="selectCountry(country)" class="w-full flex items-center gap-3 px-4 py-3 hover:bg-gray-100 dark:hover:bg-gray-600 transition-all text-left" data-has-alpine-state="true">
                                <span x-text="country.flag" class="text-lg">ğŸ‡«ğŸ‡·</span>
                                <div class="flex-1">
                                    <div x-text="country.name" class="text-sm font-medium text-gray-900 dark:text-white">Fransa</div>
                                    <div x-text="country.code" class="text-xs text-gray-500 dark:text-gray-400">+33</div>
                                </div>
                            </button><button type="button" @click="selectCountry(country)" class="w-full flex items-center gap-3 px-4 py-3 hover:bg-gray-100 dark:hover:bg-gray-600 transition-all text-left" data-has-alpine-state="true">
                                <span x-text="country.flag" class="text-lg">ğŸ‡®ğŸ‡¹</span>
                                <div class="flex-1">
                                    <div x-text="country.name" class="text-sm font-medium text-gray-900 dark:text-white">Ä°talya</div>
                                    <div x-text="country.code" class="text-xs text-gray-500 dark:text-gray-400">+39</div>
                                </div>
                            </button><button type="button" @click="selectCountry(country)" class="w-full flex items-center gap-3 px-4 py-3 hover:bg-gray-100 dark:hover:bg-gray-600 transition-all text-left" data-has-alpine-state="true">
                                <span x-text="country.flag" class="text-lg">ğŸ‡ªğŸ‡¸</span>
                                <div class="flex-1">
                                    <div x-text="country.name" class="text-sm font-medium text-gray-900 dark:text-white">Ä°spanya</div>
                                    <div x-text="country.code" class="text-xs text-gray-500 dark:text-gray-400">+34</div>
                                </div>
                            </button><button type="button" @click="selectCountry(country)" class="w-full flex items-center gap-3 px-4 py-3 hover:bg-gray-100 dark:hover:bg-gray-600 transition-all text-left" data-has-alpine-state="true">
                                <span x-text="country.flag" class="text-lg">ğŸ‡³ğŸ‡±</span>
                                <div class="flex-1">
                                    <div x-text="country.name" class="text-sm font-medium text-gray-900 dark:text-white">Hollanda</div>
                                    <div x-text="country.code" class="text-xs text-gray-500 dark:text-gray-400">+31</div>
                                </div>
                            </button><button type="button" @click="selectCountry(country)" class="w-full flex items-center gap-3 px-4 py-3 hover:bg-gray-100 dark:hover:bg-gray-600 transition-all text-left" data-has-alpine-state="true">
                                <span x-text="country.flag" class="text-lg">ğŸ‡§ğŸ‡ª</span>
                                <div class="flex-1">
                                    <div x-text="country.name" class="text-sm font-medium text-gray-900 dark:text-white">BelÃ§ika</div>
                                    <div x-text="country.code" class="text-xs text-gray-500 dark:text-gray-400">+32</div>
                                </div>
                            </button><button type="button" @click="selectCountry(country)" class="w-full flex items-center gap-3 px-4 py-3 hover:bg-gray-100 dark:hover:bg-gray-600 transition-all text-left" data-has-alpine-state="true">
                                <span x-text="country.flag" class="text-lg">ğŸ‡¨ğŸ‡­</span>
                                <div class="flex-1">
                                    <div x-text="country.name" class="text-sm font-medium text-gray-900 dark:text-white">Ä°sviÃ§re</div>
                                    <div x-text="country.code" class="text-xs text-gray-500 dark:text-gray-400">+41</div>
                                </div>
                            </button><button type="button" @click="selectCountry(country)" class="w-full flex items-center gap-3 px-4 py-3 hover:bg-gray-100 dark:hover:bg-gray-600 transition-all text-left" data-has-alpine-state="true">
                                <span x-text="country.flag" class="text-lg">ğŸ‡¦ğŸ‡¹</span>
                                <div class="flex-1">
                                    <div x-text="country.name" class="text-sm font-medium text-gray-900 dark:text-white">Avusturya</div>
                                    <div x-text="country.code" class="text-xs text-gray-500 dark:text-gray-400">+43</div>
                                </div>
                            </button><button type="button" @click="selectCountry(country)" class="w-full flex items-center gap-3 px-4 py-3 hover:bg-gray-100 dark:hover:bg-gray-600 transition-all text-left" data-has-alpine-state="true">
                                <span x-text="country.flag" class="text-lg">ğŸ‡©ğŸ‡°</span>
                                <div class="flex-1">
                                    <div x-text="country.name" class="text-sm font-medium text-gray-900 dark:text-white">Danimarka</div>
                                    <div x-text="country.code" class="text-xs text-gray-500 dark:text-gray-400">+45</div>
                                </div>
                            </button><button type="button" @click="selectCountry(country)" class="w-full flex items-center gap-3 px-4 py-3 hover:bg-gray-100 dark:hover:bg-gray-600 transition-all text-left" data-has-alpine-state="true">
                                <span x-text="country.flag" class="text-lg">ğŸ‡¸ğŸ‡ª</span>
                                <div class="flex-1">
                                    <div x-text="country.name" class="text-sm font-medium text-gray-900 dark:text-white">Ä°sveÃ§</div>
                                    <div x-text="country.code" class="text-xs text-gray-500 dark:text-gray-400">+46</div>
                                </div>
                            </button><button type="button" @click="selectCountry(country)" class="w-full flex items-center gap-3 px-4 py-3 hover:bg-gray-100 dark:hover:bg-gray-600 transition-all text-left" data-has-alpine-state="true">
                                <span x-text="country.flag" class="text-lg">ğŸ‡³ğŸ‡´</span>
                                <div class="flex-1">
                                    <div x-text="country.name" class="text-sm font-medium text-gray-900 dark:text-white">NorveÃ§</div>
                                    <div x-text="country.code" class="text-xs text-gray-500 dark:text-gray-400">+47</div>
                                </div>
                            </button><button type="button" @click="selectCountry(country)" class="w-full flex items-center gap-3 px-4 py-3 hover:bg-gray-100 dark:hover:bg-gray-600 transition-all text-left" data-has-alpine-state="true">
                                <span x-text="country.flag" class="text-lg">ğŸ‡«ğŸ‡®</span>
                                <div class="flex-1">
                                    <div x-text="country.name" class="text-sm font-medium text-gray-900 dark:text-white">Finlandiya</div>
                                    <div x-text="country.code" class="text-xs text-gray-500 dark:text-gray-400">+358</div>
                                </div>
                            </button><button type="button" @click="selectCountry(country)" class="w-full flex items-center gap-3 px-4 py-3 hover:bg-gray-100 dark:hover:bg-gray-600 transition-all text-left" data-has-alpine-state="true">
                                <span x-text="country.flag" class="text-lg">ğŸ‡¬ğŸ‡·</span>
                                <div class="flex-1">
                                    <div x-text="country.name" class="text-sm font-medium text-gray-900 dark:text-white">Yunanistan</div>
                                    <div x-text="country.code" class="text-xs text-gray-500 dark:text-gray-400">+30</div>
                                </div>
                            </button><button type="button" @click="selectCountry(country)" class="w-full flex items-center gap-3 px-4 py-3 hover:bg-gray-100 dark:hover:bg-gray-600 transition-all text-left" data-has-alpine-state="true">
                                <span x-text="country.flag" class="text-lg">ğŸ‡·ğŸ‡º</span>
                                <div class="flex-1">
                                    <div x-text="country.name" class="text-sm font-medium text-gray-900 dark:text-white">Rusya</div>
                                    <div x-text="country.code" class="text-xs text-gray-500 dark:text-gray-400">+7</div>
                                </div>
                            </button>
                    </div>
                </div>

                
                <input type="tel" x-model="phoneValue" @input="formatPhoneNumber()" :placeholder="phoneCountry.placeholder" maxlength="20" class="flex-1 px-3 py-2.5 bg-white dark:bg-gray-700 border border-gray-300 dark:border-gray-600 rounded-lg text-gray-900 dark:text-white text-sm focus:border-gray-500 transition-all" placeholder="5__ ___ __ __">

                
                <!--[if BLOCK]><![endif]--><!--[if ENDBLOCK]><![endif]-->
            </div>

            
            <div class="h-5 mt-1">
                <!--[if BLOCK]><![endif]-->                    <div x-show="!phoneValid &amp;&amp; phoneValue.length &gt; 0" class="flex items-center gap-1 text-red-500 text-xs">
                        <i class="fas fa-exclamation-circle"></i>
                        <span x-text="phoneError"></span>
                    </div>
                    <div x-show="phoneValid" class="flex items-center gap-1 text-green-500 text-xs" style="display: none;">
                        <i class="fas fa-check-circle"></i>
                        <span>GeÃ§erli telefon numarasÄ±</span>
                    </div>
                <!--[if ENDBLOCK]><![endif]-->
            </div>
        </div>
    </div>
</div>
                            </div>
                        </div>
                    </div>
                </div>

                
                <div class="checkout-card bg-white dark:bg-gray-800 rounded-2xl p-6 border border-gray-200 dark:border-gray-700 shadow-sm">
                    <div class="flex items-center justify-between mb-5">
                        <h2 class="text-lg font-semibold text-gray-900 dark:text-white flex items-center">
                            <i class="fa-solid fa-file-invoice text-gray-400 dark:text-gray-500 mr-3"></i>
                            Fatura Bilgileri
                        </h2>
                        <button type="button" @click="showNewBillingProfile = !showNewBillingProfile" class="text-sm text-gray-600 dark:text-gray-400 hover:text-gray-900 dark:hover:text-white font-medium px-3 py-1.5 rounded-lg hover:bg-gray-100 dark:hover:bg-gray-700 transition-all">
                            <i class="fa-solid fa-plus mr-1"></i>Yeni Ekle
                        </button>
                    </div>

                    
                    <!--[if BLOCK]><![endif]-->                        
                        <div x-show="!showNewBillingProfile" @click="showNewBillingProfile = true" class="bg-gray-50 dark:bg-gray-800/50 rounded-xl p-4 border border-gray-200 dark:border-gray-700 mb-4 cursor-pointer hover:bg-gray-100 dark:hover:bg-gray-800 transition-colors">
                            <p class="text-sm text-gray-600 dark:text-gray-400">
                                <i class="fa-solid fa-info-circle mr-2"></i>
                                HenÃ¼z fatura profili eklenmedi.
                                <span class="underline font-semibold ml-1 text-gray-300">Profil Ekle</span>
                            </p>
                        </div>
                    <!--[if ENDBLOCK]><![endif]-->

                    
                    <div x-show="showNewBillingProfile" x-transition="" x-collapse="" class="p-4 bg-gray-50 dark:bg-gray-800/50 rounded-xl border border-gray-200 dark:border-gray-700 space-y-4 mb-4" style="display: none; height: 0px; overflow: hidden;" hidden="">
                        <div class="flex items-center justify-between mb-2">
                            <h4 class="text-sm font-semibold text-gray-800 dark:text-gray-200">
                                Yeni Fatura Profili
                            </h4>
                            <button type="button" @click="showNewBillingProfile = false" class="text-gray-400 hover:text-gray-600 dark:hover:text-gray-300">
                                <i class="fa-solid fa-times"></i>
                            </button>
                        </div>

                        
                        <div class="flex gap-2">
                            <button type="button" @click="newBillingProfileType = 'individual'; $wire.set('new_billing_profile_type', 'individual')" :class="newBillingProfileType === 'individual' ? 'bg-gray-700 text-gray-100' : 'bg-gray-200 dark:bg-gray-700 text-gray-700 dark:text-gray-300'" class="flex-1 py-2.5 text-sm font-medium rounded-lg transition-all bg-gray-700 text-gray-100">
                                <i class="fa-solid fa-user mr-1.5"></i>Bireysel
                            </button>
                            <button type="button" @click="newBillingProfileType = 'corporate'; $wire.set('new_billing_profile_type', 'corporate')" :class="newBillingProfileType === 'corporate' ? 'bg-gray-700 text-gray-100' : 'bg-gray-200 dark:bg-gray-700 text-gray-700 dark:text-gray-300'" class="flex-1 py-2.5 text-sm font-medium rounded-lg transition-all bg-gray-200 dark:bg-gray-700 text-gray-700 dark:text-gray-300">
                                <i class="fa-solid fa-building mr-1.5"></i>Kurumsal
                            </button>
                        </div>

                        
                        <div>
                            <label class="block text-xs text-gray-600 dark:text-gray-400 mb-1">Profil AdÄ± <span class="text-red-500">*</span></label>
                            <input type="text" wire:model="new_billing_profile_title" placeholder="Ã–rn: KiÅŸisel, ABC Åirketi" class="w-full px-3 py-2.5 bg-white dark:bg-gray-800 border border-gray-300 dark:border-gray-600 rounded-lg text-gray-900 dark:text-white text-sm focus:border-gray-500 focus:ring-1 focus:ring-gray-500 transition-all">
                            <!--[if BLOCK]><![endif]--><!--[if ENDBLOCK]><![endif]-->
                        </div>

                        
                        <div x-show="newBillingProfileType === 'individual'" x-transition="">
                            <label class="block text-xs text-gray-600 dark:text-gray-400 mb-1">TC Kimlik No <span class="text-gray-400">(Opsiyonel)</span></label>
                            <input type="text" wire:model="new_billing_profile_identity_number" placeholder="XXXXXXXXXXX" maxlength="11" class="w-full px-3 py-2.5 bg-white dark:bg-gray-800 border border-gray-300 dark:border-gray-600 rounded-lg text-gray-900 dark:text-white text-sm focus:border-gray-500 focus:ring-1 focus:ring-gray-500 transition-all">
                            <!--[if BLOCK]><![endif]--><!--[if ENDBLOCK]><![endif]-->
                        </div>

                        
                        <div x-show="newBillingProfileType === 'corporate'" x-transition="" class="space-y-3" style="display: none;">
                            <div>
                                <label class="block text-xs text-gray-600 dark:text-gray-400 mb-1">Åirket ÃœnvanÄ± <span class="text-red-500">*</span></label>
                                <input type="text" wire:model="new_billing_profile_company_name" placeholder="ABC Ltd. Åti." class="w-full px-3 py-2.5 bg-white dark:bg-gray-800 border border-gray-300 dark:border-gray-600 rounded-lg text-gray-900 dark:text-white text-sm focus:border-gray-500 transition-all">
                                <!--[if BLOCK]><![endif]--><!--[if ENDBLOCK]><![endif]-->
                            </div>
                            <div class="grid grid-cols-2 gap-3">
                                <div>
                                    <label class="block text-xs text-gray-600 dark:text-gray-400 mb-1">Vergi Kimlik No <span class="text-red-500">*</span></label>
                                    <input type="text" wire:model="new_billing_profile_tax_number" placeholder="XXXXXXXXXX" maxlength="10" class="w-full px-3 py-2.5 bg-white dark:bg-gray-800 border border-gray-300 dark:border-gray-600 rounded-lg text-gray-900 dark:text-white text-sm focus:border-gray-500 transition-all">
                                    <!--[if BLOCK]><![endif]--><!--[if ENDBLOCK]><![endif]-->
                                </div>
                                <div>
                                    <label class="block text-xs text-gray-600 dark:text-gray-400 mb-1">Vergi Dairesi <span class="text-red-500">*</span></label>
                                    <input type="text" wire:model="new_billing_profile_tax_office" placeholder="KadÄ±kÃ¶y V.D." class="w-full px-3 py-2.5 bg-white dark:bg-gray-800 border border-gray-300 dark:border-gray-600 rounded-lg text-gray-900 dark:text-white text-sm focus:border-gray-500 transition-all">
                                    <!--[if BLOCK]><![endif]--><!--[if ENDBLOCK]><![endif]-->
                                </div>
                            </div>
                        </div>

                        
                        <div class="flex justify-end gap-2 pt-2">
                            <button type="button" @click="showNewBillingProfile = false" class="px-4 py-2 text-sm text-gray-500 dark:text-gray-400 hover:text-gray-700 dark:hover:text-gray-200 transition-all">Ä°ptal</button>
                            <button type="button" wire:click="saveNewBillingProfile" class="px-4 py-2 bg-gray-700 hover:bg-gray-600 text-gray-100 text-sm font-medium rounded-lg transition-all">
                                <i class="fa-solid fa-check mr-1"></i>Kaydet
                            </button>
                        </div>
                    </div>

                    <!--[if BLOCK]><![endif]--><!--[if ENDBLOCK]><![endif]-->
                </div>

                
                <div class="checkout-card bg-white dark:bg-gray-800 rounded-2xl p-6 border border-gray-200 dark:border-gray-700 shadow-sm">
                    
                    <div class="flex items-center justify-between mb-5">
                        <h2 class="text-lg font-semibold text-gray-900 dark:text-white flex items-center">
                            <i class="fa-solid fa-location-dot text-gray-400 dark:text-gray-500 mr-3"></i>
                            Teslimat Adresi
                        </h2>
                                                <button type="button" @click="showShippingForm = !showShippingForm; showNewShippingForm = true" class="text-sm text-gray-600 dark:text-gray-400 hover:text-gray-900 dark:hover:text-white font-medium px-3 py-1.5 rounded-lg hover:bg-gray-100 dark:hover:bg-gray-700 transition-all">
                            <i class="fa-solid fa-plus mr-1"></i>Ekle
                        </button>
                    </div>

                    
                    <div x-show="!showShippingForm">
                        <!--[if BLOCK]><![endif]-->                            
                            <div @click="showShippingForm = true; showNewShippingForm = true" class="bg-gray-50 dark:bg-gray-800/50 rounded-xl p-4 border border-gray-200 dark:border-gray-700 cursor-pointer hover:bg-gray-100 dark:hover:bg-gray-800 transition-colors">
                                <p class="text-sm text-gray-600 dark:text-gray-400">
                                    <i class="fa-solid fa-info-circle mr-2"></i>
                                    Teslimat adresi seÃ§ilmedi.
                                    <span class="underline font-semibold ml-1 text-gray-300">Adres Ekle</span>
                                </p>
                            </div>
                        <!--[if ENDBLOCK]><![endif]-->
                    </div>

                    
                    <div x-show="showShippingForm" class="space-y-3" style="display: none;">
                            
                            <!--[if BLOCK]><![endif]--><!--[if ENDBLOCK]><![endif]-->

                            
                            <button x-show="!showNewShippingForm" @click="showNewShippingForm = true" type="button" class="w-full p-3 rounded-xl border-2 border-dashed border-gray-300 dark:border-gray-600 hover:border-gray-500 dark:hover:border-gray-400 text-gray-500 dark:text-gray-400 hover:text-gray-700 dark:hover:text-gray-200 text-sm transition-all">
                                <i class="fa-solid fa-plus mr-1"></i>Yeni Adres Ekle
                            </button>

                            
                            <div x-show="showNewShippingForm" class="space-y-3 pt-3 border-t border-gray-200 dark:border-gray-700" style="display: none;">
                                <div class="flex items-center justify-between">
                                    <span class="text-sm font-medium text-gray-700 dark:text-gray-300">Yeni Adres</span>
                                    <button type="button" @click="showNewShippingForm = false" class="text-gray-400 hover:text-gray-600 dark:hover:text-gray-300">
                                        <i class="fa-solid fa-times"></i>
                                    </button>
                                </div>
                                <div class="grid grid-cols-2 gap-3">
                                    <div>
                                        <label class="block text-xs text-gray-600 dark:text-gray-400 mb-1">Adres AdÄ± <span class="text-red-500">*</span></label>
                                        <input type="text" wire:model="new_address_title" placeholder="Ã–rn: Evim" class="w-full px-3 py-2.5 bg-white dark:bg-gray-700 border border-gray-300 dark:border-gray-600 rounded-lg text-gray-900 dark:text-white text-sm focus:border-gray-500 transition-all">
                                    </div>
                                    <div>
                                        <div x-data="{
    phoneCountry: {
        code: '+90',
        flag: 'ğŸ‡¹ğŸ‡·',
        name: 'TÃ¼rkiye',
        placeholder: '5__ ___ __ __',
        format: 'XXX XXX XX XX'
    },
    phoneCountries: [
        { code: '+90', flag: 'ğŸ‡¹ğŸ‡·', name: 'TÃ¼rkiye', placeholder: '5__ ___ __ __', format: 'XXX XXX XX XX' },
        { code: '+1', flag: 'ğŸ‡ºğŸ‡¸', name: 'Amerika', placeholder: '(___) ___-____', format: '(XXX) XXX-XXXX' },
        { code: '+44', flag: 'ğŸ‡¬ğŸ‡§', name: 'Ä°ngiltere', placeholder: '____ ______', format: 'XXXX XXXXXX' },
        { code: '+49', flag: 'ğŸ‡©ğŸ‡ª', name: 'Almanya', placeholder: '___ ________', format: 'XXX XXXXXXXX' },
        { code: '+33', flag: 'ğŸ‡«ğŸ‡·', name: 'Fransa', placeholder: '__ __ __ __ __', format: 'XX XX XX XX XX' },
        { code: '+39', flag: 'ğŸ‡®ğŸ‡¹', name: 'Ä°talya', placeholder: '___ ___ ____', format: 'XXX XXX XXXX' },
        { code: '+34', flag: 'ğŸ‡ªğŸ‡¸', name: 'Ä°spanya', placeholder: '___ __ __ __', format: 'XXX XX XX XX' },
        { code: '+31', flag: 'ğŸ‡³ğŸ‡±', name: 'Hollanda', placeholder: '__ ________', format: 'XX XXXXXXXX' },
        { code: '+32', flag: 'ğŸ‡§ğŸ‡ª', name: 'BelÃ§ika', placeholder: '___ __ __ __', format: 'XXX XX XX XX' },
        { code: '+41', flag: 'ğŸ‡¨ğŸ‡­', name: 'Ä°sviÃ§re', placeholder: '__ ___ __ __', format: 'XX XXX XX XX' },
        { code: '+43', flag: 'ğŸ‡¦ğŸ‡¹', name: 'Avusturya', placeholder: '___ _______', format: 'XXX XXXXXXX' },
        { code: '+45', flag: 'ğŸ‡©ğŸ‡°', name: 'Danimarka', placeholder: '__ __ __ __', format: 'XX XX XX XX' },
        { code: '+46', flag: 'ğŸ‡¸ğŸ‡ª', name: 'Ä°sveÃ§', placeholder: '__ ___ __ __', format: 'XX XXX XX XX' },
        { code: '+47', flag: 'ğŸ‡³ğŸ‡´', name: 'NorveÃ§', placeholder: '___ __ ___', format: 'XXX XX XXX' },
        { code: '+358', flag: 'ğŸ‡«ğŸ‡®', name: 'Finlandiya', placeholder: '__ ___ ____', format: 'XX XXX XXXX' },
        { code: '+30', flag: 'ğŸ‡¬ğŸ‡·', name: 'Yunanistan', placeholder: '___ ___ ____', format: 'XXX XXX XXXX' },
        { code: '+7', flag: 'ğŸ‡·ğŸ‡º', name: 'Rusya', placeholder: '(___)___-__-__', format: '(XXX)XXX-XX-XX' }
    ],
    phoneValue: '',
    phoneValid: false,
    phoneError: '',
    countryOpen: false,

    selectCountry(country) {
        this.phoneCountry = country;
        this.phoneValue = '';
        this.phoneValid = false;
        this.countryOpen = false;
                $wire.set('new_address_phone', '');
            },

    formatPhoneNumber() {
        let phone = this.phoneValue.replace(/\D/g, '');

        // Turkey specific formatting
        if (this.phoneCountry.code === '+90') {
            if (phone.length &gt; 0) {
                if (phone.length &lt;= 3) {
                    this.phoneValue = phone;
                } else if (phone.length &lt;= 6) {
                    this.phoneValue = phone.substring(0, 3) + ' ' + phone.substring(3);
                } else if (phone.length &lt;= 8) {
                    this.phoneValue = phone.substring(0, 3) + ' ' + phone.substring(3, 6) + ' ' + phone.substring(6);
                } else {
                    this.phoneValue = phone.substring(0, 3) + ' ' + phone.substring(3, 6) + ' ' + phone.substring(6, 8) + ' ' + phone.substring(8, 10);
                    phone = phone.substring(0, 10);
                }
            }

            // Validate Turkey phone
            if (phone.length === 0) {
                this.phoneValid = false;
                this.phoneError = 'Telefon numarasÄ± gereklidir';
            } else if (!phone.startsWith('5')) {
                this.phoneValid = false;
                this.phoneError = 'Cep telefonu 5 ile baÅŸlamalÄ±dÄ±r';
            } else if (phone.length !== 10) {
                this.phoneValid = false;
                this.phoneError = 'Telefon numarasÄ± 10 haneli olmalÄ±dÄ±r';
            } else if (!['50', '51', '52', '53', '54', '55', '56', '58', '59'].includes(phone.substring(0, 2))) {
                this.phoneValid = false;
                this.phoneError = 'GeÃ§ersiz operatÃ¶r kodu';
            } else {
                this.phoneValid = true;
                this.phoneError = '';
            }
        } else {
            // Generic international validation
            this.phoneValue = phone;

            if (phone.length === 0) {
                this.phoneValid = false;
                this.phoneError = 'Telefon numarasÄ± gereklidir';
            } else if (phone.length &lt; 7) {
                this.phoneValid = false;
                this.phoneError = 'Telefon numarasÄ± Ã§ok kÄ±sa';
            } else if (phone.length &gt; 15) {
                this.phoneValid = false;
                this.phoneError = 'Telefon numarasÄ± Ã§ok uzun';
            } else {
                this.phoneValid = true;
                this.phoneError = '';
            }
        }

                // Livewire sync
        $wire.set('new_address_phone', this.phoneValue);
            }
}" data-has-alpine-state="true">
    <div>
        <label class="block text-xs text-gray-600 dark:text-gray-400 mb-1">
            Telefon
            <!--[if BLOCK]><![endif]--><!--[if ENDBLOCK]><![endif]-->
        </label>

        <div class="relative">
            <div class="flex gap-2">
                
                <div class="relative">
                    <button type="button" @click="countryOpen = !countryOpen" class="px-3 py-2.5 bg-white dark:bg-gray-700 border border-gray-300 dark:border-gray-600 rounded-lg text-gray-900 dark:text-white text-sm hover:bg-gray-50 dark:hover:bg-gray-600 transition-all flex items-center gap-2">
                        <span x-text="phoneCountry.flag" class="text-lg">ğŸ‡¹ğŸ‡·</span>
                        <span x-text="phoneCountry.code" class="text-sm font-medium">+90</span>
                        <i class="fas fa-chevron-down text-xs text-gray-400"></i>
                    </button>

                    
                    <div x-show="countryOpen" @click.away="countryOpen = false" x-transition="" class="absolute top-full left-0 mt-2 w-64 bg-white dark:bg-gray-700 rounded-lg shadow-2xl border border-gray-200 dark:border-gray-600 overflow-hidden z-50 max-h-64 overflow-y-auto" style="display: none;">
                        <template x-for="country in phoneCountries" :key="country.code">
                            <button type="button" @click="selectCountry(country)" class="w-full flex items-center gap-3 px-4 py-3 hover:bg-gray-100 dark:hover:bg-gray-600 transition-all text-left">
                                <span x-text="country.flag" class="text-lg">ğŸ³ï¸</span>
                                <div class="flex-1">
                                    <div x-text="country.name" class="text-sm font-medium text-gray-900 dark:text-white"></div>
                                    <div x-text="country.code" class="text-xs text-gray-500 dark:text-gray-400"></div>
                                </div>
                            </button>
                        </template><button type="button" @click="selectCountry(country)" class="w-full flex items-center gap-3 px-4 py-3 hover:bg-gray-100 dark:hover:bg-gray-600 transition-all text-left" data-has-alpine-state="true">
                                <span x-text="country.flag" class="text-lg">ğŸ‡¹ğŸ‡·</span>
                                <div class="flex-1">
                                    <div x-text="country.name" class="text-sm font-medium text-gray-900 dark:text-white">TÃ¼rkiye</div>
                                    <div x-text="country.code" class="text-xs text-gray-500 dark:text-gray-400">+90</div>
                                </div>
                            </button><button type="button" @click="selectCountry(country)" class="w-full flex items-center gap-3 px-4 py-3 hover:bg-gray-100 dark:hover:bg-gray-600 transition-all text-left" data-has-alpine-state="true">
                                <span x-text="country.flag" class="text-lg">ğŸ‡ºğŸ‡¸</span>
                                <div class="flex-1">
                                    <div x-text="country.name" class="text-sm font-medium text-gray-900 dark:text-white">Amerika</div>
                                    <div x-text="country.code" class="text-xs text-gray-500 dark:text-gray-400">+1</div>
                                </div>
                            </button><button type="button" @click="selectCountry(country)" class="w-full flex items-center gap-3 px-4 py-3 hover:bg-gray-100 dark:hover:bg-gray-600 transition-all text-left" data-has-alpine-state="true">
                                <span x-text="country.flag" class="text-lg">ğŸ‡¬ğŸ‡§</span>
                                <div class="flex-1">
                                    <div x-text="country.name" class="text-sm font-medium text-gray-900 dark:text-white">Ä°ngiltere</div>
                                    <div x-text="country.code" class="text-xs text-gray-500 dark:text-gray-400">+44</div>
                                </div>
                            </button><button type="button" @click="selectCountry(country)" class="w-full flex items-center gap-3 px-4 py-3 hover:bg-gray-100 dark:hover:bg-gray-600 transition-all text-left" data-has-alpine-state="true">
                                <span x-text="country.flag" class="text-lg">ğŸ‡©ğŸ‡ª</span>
                                <div class="flex-1">
                                    <div x-text="country.name" class="text-sm font-medium text-gray-900 dark:text-white">Almanya</div>
                                    <div x-text="country.code" class="text-xs text-gray-500 dark:text-gray-400">+49</div>
                                </div>
                            </button><button type="button" @click="selectCountry(country)" class="w-full flex items-center gap-3 px-4 py-3 hover:bg-gray-100 dark:hover:bg-gray-600 transition-all text-left" data-has-alpine-state="true">
                                <span x-text="country.flag" class="text-lg">ğŸ‡«ğŸ‡·</span>
                                <div class="flex-1">
                                    <div x-text="country.name" class="text-sm font-medium text-gray-900 dark:text-white">Fransa</div>
                                    <div x-text="country.code" class="text-xs text-gray-500 dark:text-gray-400">+33</div>
                                </div>
                            </button><button type="button" @click="selectCountry(country)" class="w-full flex items-center gap-3 px-4 py-3 hover:bg-gray-100 dark:hover:bg-gray-600 transition-all text-left" data-has-alpine-state="true">
                                <span x-text="country.flag" class="text-lg">ğŸ‡®ğŸ‡¹</span>
                                <div class="flex-1">
                                    <div x-text="country.name" class="text-sm font-medium text-gray-900 dark:text-white">Ä°talya</div>
                                    <div x-text="country.code" class="text-xs text-gray-500 dark:text-gray-400">+39</div>
                                </div>
                            </button><button type="button" @click="selectCountry(country)" class="w-full flex items-center gap-3 px-4 py-3 hover:bg-gray-100 dark:hover:bg-gray-600 transition-all text-left" data-has-alpine-state="true">
                                <span x-text="country.flag" class="text-lg">ğŸ‡ªğŸ‡¸</span>
                                <div class="flex-1">
                                    <div x-text="country.name" class="text-sm font-medium text-gray-900 dark:text-white">Ä°spanya</div>
                                    <div x-text="country.code" class="text-xs text-gray-500 dark:text-gray-400">+34</div>
                                </div>
                            </button><button type="button" @click="selectCountry(country)" class="w-full flex items-center gap-3 px-4 py-3 hover:bg-gray-100 dark:hover:bg-gray-600 transition-all text-left" data-has-alpine-state="true">
                                <span x-text="country.flag" class="text-lg">ğŸ‡³ğŸ‡±</span>
                                <div class="flex-1">
                                    <div x-text="country.name" class="text-sm font-medium text-gray-900 dark:text-white">Hollanda</div>
                                    <div x-text="country.code" class="text-xs text-gray-500 dark:text-gray-400">+31</div>
                                </div>
                            </button><button type="button" @click="selectCountry(country)" class="w-full flex items-center gap-3 px-4 py-3 hover:bg-gray-100 dark:hover:bg-gray-600 transition-all text-left" data-has-alpine-state="true">
                                <span x-text="country.flag" class="text-lg">ğŸ‡§ğŸ‡ª</span>
                                <div class="flex-1">
                                    <div x-text="country.name" class="text-sm font-medium text-gray-900 dark:text-white">BelÃ§ika</div>
                                    <div x-text="country.code" class="text-xs text-gray-500 dark:text-gray-400">+32</div>
                                </div>
                            </button><button type="button" @click="selectCountry(country)" class="w-full flex items-center gap-3 px-4 py-3 hover:bg-gray-100 dark:hover:bg-gray-600 transition-all text-left" data-has-alpine-state="true">
                                <span x-text="country.flag" class="text-lg">ğŸ‡¨ğŸ‡­</span>
                                <div class="flex-1">
                                    <div x-text="country.name" class="text-sm font-medium text-gray-900 dark:text-white">Ä°sviÃ§re</div>
                                    <div x-text="country.code" class="text-xs text-gray-500 dark:text-gray-400">+41</div>
                                </div>
                            </button><button type="button" @click="selectCountry(country)" class="w-full flex items-center gap-3 px-4 py-3 hover:bg-gray-100 dark:hover:bg-gray-600 transition-all text-left" data-has-alpine-state="true">
                                <span x-text="country.flag" class="text-lg">ğŸ‡¦ğŸ‡¹</span>
                                <div class="flex-1">
                                    <div x-text="country.name" class="text-sm font-medium text-gray-900 dark:text-white">Avusturya</div>
                                    <div x-text="country.code" class="text-xs text-gray-500 dark:text-gray-400">+43</div>
                                </div>
                            </button><button type="button" @click="selectCountry(country)" class="w-full flex items-center gap-3 px-4 py-3 hover:bg-gray-100 dark:hover:bg-gray-600 transition-all text-left" data-has-alpine-state="true">
                                <span x-text="country.flag" class="text-lg">ğŸ‡©ğŸ‡°</span>
                                <div class="flex-1">
                                    <div x-text="country.name" class="text-sm font-medium text-gray-900 dark:text-white">Danimarka</div>
                                    <div x-text="country.code" class="text-xs text-gray-500 dark:text-gray-400">+45</div>
                                </div>
                            </button><button type="button" @click="selectCountry(country)" class="w-full flex items-center gap-3 px-4 py-3 hover:bg-gray-100 dark:hover:bg-gray-600 transition-all text-left" data-has-alpine-state="true">
                                <span x-text="country.flag" class="text-lg">ğŸ‡¸ğŸ‡ª</span>
                                <div class="flex-1">
                                    <div x-text="country.name" class="text-sm font-medium text-gray-900 dark:text-white">Ä°sveÃ§</div>
                                    <div x-text="country.code" class="text-xs text-gray-500 dark:text-gray-400">+46</div>
                                </div>
                            </button><button type="button" @click="selectCountry(country)" class="w-full flex items-center gap-3 px-4 py-3 hover:bg-gray-100 dark:hover:bg-gray-600 transition-all text-left" data-has-alpine-state="true">
                                <span x-text="country.flag" class="text-lg">ğŸ‡³ğŸ‡´</span>
                                <div class="flex-1">
                                    <div x-text="country.name" class="text-sm font-medium text-gray-900 dark:text-white">NorveÃ§</div>
                                    <div x-text="country.code" class="text-xs text-gray-500 dark:text-gray-400">+47</div>
                                </div>
                            </button><button type="button" @click="selectCountry(country)" class="w-full flex items-center gap-3 px-4 py-3 hover:bg-gray-100 dark:hover:bg-gray-600 transition-all text-left" data-has-alpine-state="true">
                                <span x-text="country.flag" class="text-lg">ğŸ‡«ğŸ‡®</span>
                                <div class="flex-1">
                                    <div x-text="country.name" class="text-sm font-medium text-gray-900 dark:text-white">Finlandiya</div>
                                    <div x-text="country.code" class="text-xs text-gray-500 dark:text-gray-400">+358</div>
                                </div>
                            </button><button type="button" @click="selectCountry(country)" class="w-full flex items-center gap-3 px-4 py-3 hover:bg-gray-100 dark:hover:bg-gray-600 transition-all text-left" data-has-alpine-state="true">
                                <span x-text="country.flag" class="text-lg">ğŸ‡¬ğŸ‡·</span>
                                <div class="flex-1">
                                    <div x-text="country.name" class="text-sm font-medium text-gray-900 dark:text-white">Yunanistan</div>
                                    <div x-text="country.code" class="text-xs text-gray-500 dark:text-gray-400">+30</div>
                                </div>
                            </button><button type="button" @click="selectCountry(country)" class="w-full flex items-center gap-3 px-4 py-3 hover:bg-gray-100 dark:hover:bg-gray-600 transition-all text-left" data-has-alpine-state="true">
                                <span x-text="country.flag" class="text-lg">ğŸ‡·ğŸ‡º</span>
                                <div class="flex-1">
                                    <div x-text="country.name" class="text-sm font-medium text-gray-900 dark:text-white">Rusya</div>
                                    <div x-text="country.code" class="text-xs text-gray-500 dark:text-gray-400">+7</div>
                                </div>
                            </button>
                    </div>
                </div>

                
                <input type="tel" x-model="phoneValue" @input="formatPhoneNumber()" :placeholder="phoneCountry.placeholder" maxlength="20" class="flex-1 px-3 py-2.5 bg-white dark:bg-gray-700 border border-gray-300 dark:border-gray-600 rounded-lg text-gray-900 dark:text-white text-sm focus:border-gray-500 transition-all" placeholder="5__ ___ __ __">

                
                <!--[if BLOCK]><![endif]--><!--[if ENDBLOCK]><![endif]-->
            </div>

            
            <div class="h-5 mt-1">
                <!--[if BLOCK]><![endif]-->                    <div x-show="!phoneValid &amp;&amp; phoneValue.length &gt; 0" class="flex items-center gap-1 text-red-500 text-xs" style="display: none;">
                        <i class="fas fa-exclamation-circle"></i>
                        <span x-text="phoneError"></span>
                    </div>
                    <div x-show="phoneValid" class="flex items-center gap-1 text-green-500 text-xs" style="display: none;">
                        <i class="fas fa-check-circle"></i>
                        <span>GeÃ§erli telefon numarasÄ±</span>
                    </div>
                <!--[if ENDBLOCK]><![endif]-->
            </div>
        </div>
    </div>
</div>
                                    </div>
                                </div>
                                <div>
                                    <label class="block text-xs text-gray-600 dark:text-gray-400 mb-1">Adres <span class="text-red-500">*</span></label>
                                    <textarea wire:model="new_address_line" rows="2" placeholder="Mahalle, sokak, bina no, daire no" class="w-full px-3 py-2.5 bg-white dark:bg-gray-700 border border-gray-300 dark:border-gray-600 rounded-lg text-gray-900 dark:text-white text-sm focus:border-gray-500 transition-all resize-none"></textarea>
                                </div>
                                <div class="grid grid-cols-3 gap-3">
                                    <div>
                                        <label class="block text-xs text-gray-600 dark:text-gray-400 mb-1">Ä°l <span class="text-red-500">*</span></label>
                                        <select wire:model.live="new_address_city" class="w-full px-3 py-2.5 bg-white dark:bg-gray-700 border border-gray-300 dark:border-gray-600 rounded-lg text-gray-900 dark:text-white text-sm focus:border-gray-500 transition-all">
                                            <option value="">SeÃ§in</option>
                                            <!--[if BLOCK]><![endif]-->                                                <option value="Adana">Adana</option>
                                                                                            <option value="AdÄ±yaman">AdÄ±yaman</option>
                                                                                            <option value="Afyonkarahisar">Afyonkarahisar</option>
                                                                                            <option value="AÄŸrÄ±">AÄŸrÄ±</option>
                                                                                            <option value="Aksaray">Aksaray</option>
                                                                                            <option value="Amasya">Amasya</option>
                                                                                            <option value="Ankara">Ankara</option>
                                                                                            <option value="Antalya">Antalya</option>
                                                                                            <option value="Ardahan">Ardahan</option>
                                                                                            <option value="Artvin">Artvin</option>
                                                                                            <option value="AydÄ±n">AydÄ±n</option>
                                                                                            <option value="BalÄ±kesir">BalÄ±kesir</option>
                                                                                            <option value="BartÄ±n">BartÄ±n</option>
                                                                                            <option value="Batman">Batman</option>
                                                                                            <option value="Bayburt">Bayburt</option>
                                                                                            <option value="Bilecik">Bilecik</option>
                                                                                            <option value="BingÃ¶l">BingÃ¶l</option>
                                                                                            <option value="Bitlis">Bitlis</option>
                                                                                            <option value="Bolu">Bolu</option>
                                                                                            <option value="Burdur">Burdur</option>
                                                                                            <option value="Bursa">Bursa</option>
                                                                                            <option value="Ã‡anakkale">Ã‡anakkale</option>
                                                                                            <option value="Ã‡ankÄ±rÄ±">Ã‡ankÄ±rÄ±</option>
                                                                                            <option value="Ã‡orum">Ã‡orum</option>
                                                                                            <option value="Denizli">Denizli</option>
                                                                                            <option value="DiyarbakÄ±r">DiyarbakÄ±r</option>
                                                                                            <option value="DÃ¼zce">DÃ¼zce</option>
                                                                                            <option value="Edirne">Edirne</option>
                                                                                            <option value="ElazÄ±ÄŸ">ElazÄ±ÄŸ</option>
                                                                                            <option value="Erzincan">Erzincan</option>
                                                                                            <option value="Erzurum">Erzurum</option>
                                                                                            <option value="EskiÅŸehir">EskiÅŸehir</option>
                                                                                            <option value="Gaziantep">Gaziantep</option>
                                                                                            <option value="Giresun">Giresun</option>
                                                                                            <option value="GÃ¼mÃ¼ÅŸhane">GÃ¼mÃ¼ÅŸhane</option>
                                                                                            <option value="Hakkari">Hakkari</option>
                                                                                            <option value="Hatay">Hatay</option>
                                                                                            <option value="IÄŸdÄ±r">IÄŸdÄ±r</option>
                                                                                            <option value="Isparta">Isparta</option>
                                                                                            <option value="Ä°stanbul">Ä°stanbul</option>
                                                                                            <option value="Ä°zmir">Ä°zmir</option>
                                                                                            <option value="KahramanmaraÅŸ">KahramanmaraÅŸ</option>
                                                                                            <option value="KarabÃ¼k">KarabÃ¼k</option>
                                                                                            <option value="Karaman">Karaman</option>
                                                                                            <option value="Kars">Kars</option>
                                                                                            <option value="Kastamonu">Kastamonu</option>
                                                                                            <option value="Kayseri">Kayseri</option>
                                                                                            <option value="KÄ±rÄ±kkale">KÄ±rÄ±kkale</option>
                                                                                            <option value="KÄ±rklareli">KÄ±rklareli</option>
                                                                                            <option value="KÄ±rÅŸehir">KÄ±rÅŸehir</option>
                                                                                            <option value="Kilis">Kilis</option>
                                                                                            <option value="Kocaeli">Kocaeli</option>
                                                                                            <option value="Konya">Konya</option>
                                                                                            <option value="KÃ¼tahya">KÃ¼tahya</option>
                                                                                            <option value="Malatya">Malatya</option>
                                                                                            <option value="Manisa">Manisa</option>
                                                                                            <option value="Mardin">Mardin</option>
                                                                                            <option value="Mersin">Mersin</option>
                                                                                            <option value="MuÄŸla">MuÄŸla</option>
                                                                                            <option value="MuÅŸ">MuÅŸ</option>
                                                                                            <option value="NevÅŸehir">NevÅŸehir</option>
                                                                                            <option value="NiÄŸde">NiÄŸde</option>
                                                                                            <option value="Ordu">Ordu</option>
                                                                                            <option value="Osmaniye">Osmaniye</option>
                                                                                            <option value="Rize">Rize</option>
                                                                                            <option value="Sakarya">Sakarya</option>
                                                                                            <option value="Samsun">Samsun</option>
                                                                                            <option value="Siirt">Siirt</option>
                                                                                            <option value="Sinop">Sinop</option>
                                                                                            <option value="Sivas">Sivas</option>
                                                                                            <option value="ÅanlÄ±urfa">ÅanlÄ±urfa</option>
                                                                                            <option value="ÅÄ±rnak">ÅÄ±rnak</option>
                                                                                            <option value="TekirdaÄŸ">TekirdaÄŸ</option>
                                                                                            <option value="Tokat">Tokat</option>
                                                                                            <option value="Trabzon">Trabzon</option>
                                                                                            <option value="Tunceli">Tunceli</option>
                                                                                            <option value="UÅŸak">UÅŸak</option>
                                                                                            <option value="Van">Van</option>
                                                                                            <option value="Yalova">Yalova</option>
                                                                                            <option value="Yozgat">Yozgat</option>
                                                                                            <option value="Zonguldak">Zonguldak</option>
                                            <!--[if ENDBLOCK]><![endif]-->
                                        </select>
                                    </div>
                                    <div>
                                        <label class="block text-xs text-gray-600 dark:text-gray-400 mb-1">Ä°lÃ§e <span class="text-red-500">*</span></label>
                                        <select wire:model="new_address_district" class="w-full px-3 py-2.5 bg-white dark:bg-gray-700 border border-gray-300 dark:border-gray-600 rounded-lg text-gray-900 dark:text-white text-sm focus:border-gray-500 transition-all">
                                            <option value="">Ã–nce il seÃ§in</option>
                                            <!--[if BLOCK]><![endif]--><!--[if ENDBLOCK]><![endif]-->
                                        </select>
                                    </div>
                                    <div>
                                        <label class="block text-xs text-gray-600 dark:text-gray-400 mb-1">Posta Kodu</label>
                                        <input type="text" wire:model="new_address_postal" placeholder="34000" class="w-full px-3 py-2.5 bg-white dark:bg-gray-700 border border-gray-300 dark:border-gray-600 rounded-lg text-gray-900 dark:text-white text-sm focus:border-gray-500 transition-all">
                                    </div>
                                </div>
                                <div class="flex justify-end pt-2">
                                    <button type="button" wire:click="saveNewAddress('shipping')" class="px-4 py-2 bg-gray-700 hover:bg-gray-600 text-gray-100 text-sm font-medium rounded-lg transition-all">
                                        <i class="fa-solid fa-check mr-1"></i>Kaydet
                                    </button>
                                </div>
                            </div>

                            
                            <!--[if BLOCK]><![endif]--><!--[if ENDBLOCK]><![endif]-->
                        </div>
                        <!--[if BLOCK]><![endif]--><!--[if ENDBLOCK]><![endif]-->
                    </div>

                    
                    <div class="border-t border-gray-200 dark:border-gray-700 my-5"></div>

                    
                    <div>
                        
                        <label @click="billingSameAsShipping = !billingSameAsShipping" class="inline-flex items-center gap-2 cursor-pointer mb-4 py-2">

                            
                            <div class="relative flex-shrink-0 w-9 h-5">
                                <div class="absolute inset-0 rounded-full transition-colors duration-200 bg-gray-500" :class="billingSameAsShipping ? 'bg-gray-500' : 'bg-gray-400 dark:bg-gray-600'">
                                </div>
                                <div class="absolute top-0.5 left-0.5 w-4 h-4 rounded-full bg-gray-200 dark:bg-gray-300 shadow-sm transition-transform duration-200 translate-x-4" :class="billingSameAsShipping ? 'translate-x-4' : 'translate-x-0'">
                                </div>
                            </div>

                            
                            <span class="text-sm text-gray-500 dark:text-gray-400">
                                Fatura adresi teslimat ile aynÄ±
                            </span>
                        </label>

                        
                        <div x-show="!billingSameAsShipping" x-transition:enter="transition ease-out duration-200" x-transition:enter-start="opacity-0 -translate-y-2" x-transition:enter-end="opacity-100 translate-y-0" style="display: none;">
                            
                            <div class="space-y-3">
                                <h3 class="text-sm font-semibold text-gray-800 dark:text-gray-200 mb-3">
                                    <i class="fa-solid fa-file-invoice-dollar text-gray-500 dark:text-gray-400 mr-2"></i>Fatura Adresi
                                </h3>

                                
                                <!--[if BLOCK]><![endif]--><!--[if ENDBLOCK]><![endif]-->

                                
                                <div>
                                    <button x-show="!showNewBillingForm" @click="showNewBillingForm = true" type="button" class="w-full p-3 rounded-xl border-2 border-dashed border-gray-300 dark:border-gray-600 hover:border-gray-500 dark:hover:border-gray-400 text-gray-500 dark:text-gray-400 hover:text-gray-700 dark:hover:text-gray-200 text-sm transition-all">
                                        <i class="fa-solid fa-plus mr-1"></i>Yeni Adres Ekle
                                    </button>

                                    
                                    <div x-show="showNewBillingForm" x-transition="" class="p-4 bg-gray-50 dark:bg-gray-700/50 rounded-xl border border-gray-200 dark:border-gray-600 space-y-3" style="display: none;">
                                        <div class="grid grid-cols-2 gap-3">
                                            <div>
                                                <label class="block text-xs text-gray-600 dark:text-gray-400 mb-1">Adres AdÄ± <span class="text-red-500">*</span></label>
                                                <input type="text" wire:model="new_billing_address_title" placeholder="Ã–rn: Åirket" class="w-full px-3 py-2.5 bg-white dark:bg-gray-800 border border-gray-300 dark:border-gray-600 rounded-lg text-gray-900 dark:text-white text-sm focus:border-gray-500 transition-all">
                                            </div>
                                            <div>
                                                <div x-data="{
    phoneCountry: {
        code: '+90',
        flag: 'ğŸ‡¹ğŸ‡·',
        name: 'TÃ¼rkiye',
        placeholder: '5__ ___ __ __',
        format: 'XXX XXX XX XX'
    },
    phoneCountries: [
        { code: '+90', flag: 'ğŸ‡¹ğŸ‡·', name: 'TÃ¼rkiye', placeholder: '5__ ___ __ __', format: 'XXX XXX XX XX' },
        { code: '+1', flag: 'ğŸ‡ºğŸ‡¸', name: 'Amerika', placeholder: '(___) ___-____', format: '(XXX) XXX-XXXX' },
        { code: '+44', flag: 'ğŸ‡¬ğŸ‡§', name: 'Ä°ngiltere', placeholder: '____ ______', format: 'XXXX XXXXXX' },
        { code: '+49', flag: 'ğŸ‡©ğŸ‡ª', name: 'Almanya', placeholder: '___ ________', format: 'XXX XXXXXXXX' },
        { code: '+33', flag: 'ğŸ‡«ğŸ‡·', name: 'Fransa', placeholder: '__ __ __ __ __', format: 'XX XX XX XX XX' },
        { code: '+39', flag: 'ğŸ‡®ğŸ‡¹', name: 'Ä°talya', placeholder: '___ ___ ____', format: 'XXX XXX XXXX' },
        { code: '+34', flag: 'ğŸ‡ªğŸ‡¸', name: 'Ä°spanya', placeholder: '___ __ __ __', format: 'XXX XX XX XX' },
        { code: '+31', flag: 'ğŸ‡³ğŸ‡±', name: 'Hollanda', placeholder: '__ ________', format: 'XX XXXXXXXX' },
        { code: '+32', flag: 'ğŸ‡§ğŸ‡ª', name: 'BelÃ§ika', placeholder: '___ __ __ __', format: 'XXX XX XX XX' },
        { code: '+41', flag: 'ğŸ‡¨ğŸ‡­', name: 'Ä°sviÃ§re', placeholder: '__ ___ __ __', format: 'XX XXX XX XX' },
        { code: '+43', flag: 'ğŸ‡¦ğŸ‡¹', name: 'Avusturya', placeholder: '___ _______', format: 'XXX XXXXXXX' },
        { code: '+45', flag: 'ğŸ‡©ğŸ‡°', name: 'Danimarka', placeholder: '__ __ __ __', format: 'XX XX XX XX' },
        { code: '+46', flag: 'ğŸ‡¸ğŸ‡ª', name: 'Ä°sveÃ§', placeholder: '__ ___ __ __', format: 'XX XXX XX XX' },
        { code: '+47', flag: 'ğŸ‡³ğŸ‡´', name: 'NorveÃ§', placeholder: '___ __ ___', format: 'XXX XX XXX' },
        { code: '+358', flag: 'ğŸ‡«ğŸ‡®', name: 'Finlandiya', placeholder: '__ ___ ____', format: 'XX XXX XXXX' },
        { code: '+30', flag: 'ğŸ‡¬ğŸ‡·', name: 'Yunanistan', placeholder: '___ ___ ____', format: 'XXX XXX XXXX' },
        { code: '+7', flag: 'ğŸ‡·ğŸ‡º', name: 'Rusya', placeholder: '(___)___-__-__', format: '(XXX)XXX-XX-XX' }
    ],
    phoneValue: '',
    phoneValid: false,
    phoneError: '',
    countryOpen: false,

    selectCountry(country) {
        this.phoneCountry = country;
        this.phoneValue = '';
        this.phoneValid = false;
        this.countryOpen = false;
                $wire.set('new_billing_address_phone', '');
            },

    formatPhoneNumber() {
        let phone = this.phoneValue.replace(/\D/g, '');

        // Turkey specific formatting
        if (this.phoneCountry.code === '+90') {
            if (phone.length &gt; 0) {
                if (phone.length &lt;= 3) {
                    this.phoneValue = phone;
                } else if (phone.length &lt;= 6) {
                    this.phoneValue = phone.substring(0, 3) + ' ' + phone.substring(3);
                } else if (phone.length &lt;= 8) {
                    this.phoneValue = phone.substring(0, 3) + ' ' + phone.substring(3, 6) + ' ' + phone.substring(6);
                } else {
                    this.phoneValue = phone.substring(0, 3) + ' ' + phone.substring(3, 6) + ' ' + phone.substring(6, 8) + ' ' + phone.substring(8, 10);
                    phone = phone.substring(0, 10);
                }
            }

            // Validate Turkey phone
            if (phone.length === 0) {
                this.phoneValid = false;
                this.phoneError = 'Telefon numarasÄ± gereklidir';
            } else if (!phone.startsWith('5')) {
                this.phoneValid = false;
                this.phoneError = 'Cep telefonu 5 ile baÅŸlamalÄ±dÄ±r';
            } else if (phone.length !== 10) {
                this.phoneValid = false;
                this.phoneError = 'Telefon numarasÄ± 10 haneli olmalÄ±dÄ±r';
            } else if (!['50', '51', '52', '53', '54', '55', '56', '58', '59'].includes(phone.substring(0, 2))) {
                this.phoneValid = false;
                this.phoneError = 'GeÃ§ersiz operatÃ¶r kodu';
            } else {
                this.phoneValid = true;
                this.phoneError = '';
            }
        } else {
            // Generic international validation
            this.phoneValue = phone;

            if (phone.length === 0) {
                this.phoneValid = false;
                this.phoneError = 'Telefon numarasÄ± gereklidir';
            } else if (phone.length &lt; 7) {
                this.phoneValid = false;
                this.phoneError = 'Telefon numarasÄ± Ã§ok kÄ±sa';
            } else if (phone.length &gt; 15) {
                this.phoneValid = false;
                this.phoneError = 'Telefon numarasÄ± Ã§ok uzun';
            } else {
                this.phoneValid = true;
                this.phoneError = '';
            }
        }

                // Livewire sync
        $wire.set('new_billing_address_phone', this.phoneValue);
            }
}" data-has-alpine-state="true">
    <div>
        <label class="block text-xs text-gray-600 dark:text-gray-400 mb-1">
            Telefon
            <!--[if BLOCK]><![endif]--><!--[if ENDBLOCK]><![endif]-->
        </label>

        <div class="relative">
            <div class="flex gap-2">
                
                <div class="relative">
                    <button type="button" @click="countryOpen = !countryOpen" class="px-3 py-2.5 bg-white dark:bg-gray-700 border border-gray-300 dark:border-gray-600 rounded-lg text-gray-900 dark:text-white text-sm hover:bg-gray-50 dark:hover:bg-gray-600 transition-all flex items-center gap-2">
                        <span x-text="phoneCountry.flag" class="text-lg">ğŸ‡¹ğŸ‡·</span>
                        <span x-text="phoneCountry.code" class="text-sm font-medium">+90</span>
                        <i class="fas fa-chevron-down text-xs text-gray-400"></i>
                    </button>

                    
                    <div x-show="countryOpen" @click.away="countryOpen = false" x-transition="" class="absolute top-full left-0 mt-2 w-64 bg-white dark:bg-gray-700 rounded-lg shadow-2xl border border-gray-200 dark:border-gray-600 overflow-hidden z-50 max-h-64 overflow-y-auto" style="display: none;">
                        <template x-for="country in phoneCountries" :key="country.code">
                            <button type="button" @click="selectCountry(country)" class="w-full flex items-center gap-3 px-4 py-3 hover:bg-gray-100 dark:hover:bg-gray-600 transition-all text-left">
                                <span x-text="country.flag" class="text-lg">ğŸ³ï¸</span>
                                <div class="flex-1">
                                    <div x-text="country.name" class="text-sm font-medium text-gray-900 dark:text-white"></div>
                                    <div x-text="country.code" class="text-xs text-gray-500 dark:text-gray-400"></div>
                                </div>
                            </button>
                        </template><button type="button" @click="selectCountry(country)" class="w-full flex items-center gap-3 px-4 py-3 hover:bg-gray-100 dark:hover:bg-gray-600 transition-all text-left" data-has-alpine-state="true">
                                <span x-text="country.flag" class="text-lg">ğŸ‡¹ğŸ‡·</span>
                                <div class="flex-1">
                                    <div x-text="country.name" class="text-sm font-medium text-gray-900 dark:text-white">TÃ¼rkiye</div>
                                    <div x-text="country.code" class="text-xs text-gray-500 dark:text-gray-400">+90</div>
                                </div>
                            </button><button type="button" @click="selectCountry(country)" class="w-full flex items-center gap-3 px-4 py-3 hover:bg-gray-100 dark:hover:bg-gray-600 transition-all text-left" data-has-alpine-state="true">
                                <span x-text="country.flag" class="text-lg">ğŸ‡ºğŸ‡¸</span>
                                <div class="flex-1">
                                    <div x-text="country.name" class="text-sm font-medium text-gray-900 dark:text-white">Amerika</div>
                                    <div x-text="country.code" class="text-xs text-gray-500 dark:text-gray-400">+1</div>
                                </div>
                            </button><button type="button" @click="selectCountry(country)" class="w-full flex items-center gap-3 px-4 py-3 hover:bg-gray-100 dark:hover:bg-gray-600 transition-all text-left" data-has-alpine-state="true">
                                <span x-text="country.flag" class="text-lg">ğŸ‡¬ğŸ‡§</span>
                                <div class="flex-1">
                                    <div x-text="country.name" class="text-sm font-medium text-gray-900 dark:text-white">Ä°ngiltere</div>
                                    <div x-text="country.code" class="text-xs text-gray-500 dark:text-gray-400">+44</div>
                                </div>
                            </button><button type="button" @click="selectCountry(country)" class="w-full flex items-center gap-3 px-4 py-3 hover:bg-gray-100 dark:hover:bg-gray-600 transition-all text-left" data-has-alpine-state="true">
                                <span x-text="country.flag" class="text-lg">ğŸ‡©ğŸ‡ª</span>
                                <div class="flex-1">
                                    <div x-text="country.name" class="text-sm font-medium text-gray-900 dark:text-white">Almanya</div>
                                    <div x-text="country.code" class="text-xs text-gray-500 dark:text-gray-400">+49</div>
                                </div>
                            </button><button type="button" @click="selectCountry(country)" class="w-full flex items-center gap-3 px-4 py-3 hover:bg-gray-100 dark:hover:bg-gray-600 transition-all text-left" data-has-alpine-state="true">
                                <span x-text="country.flag" class="text-lg">ğŸ‡«ğŸ‡·</span>
                                <div class="flex-1">
                                    <div x-text="country.name" class="text-sm font-medium text-gray-900 dark:text-white">Fransa</div>
                                    <div x-text="country.code" class="text-xs text-gray-500 dark:text-gray-400">+33</div>
                                </div>
                            </button><button type="button" @click="selectCountry(country)" class="w-full flex items-center gap-3 px-4 py-3 hover:bg-gray-100 dark:hover:bg-gray-600 transition-all text-left" data-has-alpine-state="true">
                                <span x-text="country.flag" class="text-lg">ğŸ‡®ğŸ‡¹</span>
                                <div class="flex-1">
                                    <div x-text="country.name" class="text-sm font-medium text-gray-900 dark:text-white">Ä°talya</div>
                                    <div x-text="country.code" class="text-xs text-gray-500 dark:text-gray-400">+39</div>
                                </div>
                            </button><button type="button" @click="selectCountry(country)" class="w-full flex items-center gap-3 px-4 py-3 hover:bg-gray-100 dark:hover:bg-gray-600 transition-all text-left" data-has-alpine-state="true">
                                <span x-text="country.flag" class="text-lg">ğŸ‡ªğŸ‡¸</span>
                                <div class="flex-1">
                                    <div x-text="country.name" class="text-sm font-medium text-gray-900 dark:text-white">Ä°spanya</div>
                                    <div x-text="country.code" class="text-xs text-gray-500 dark:text-gray-400">+34</div>
                                </div>
                            </button><button type="button" @click="selectCountry(country)" class="w-full flex items-center gap-3 px-4 py-3 hover:bg-gray-100 dark:hover:bg-gray-600 transition-all text-left" data-has-alpine-state="true">
                                <span x-text="country.flag" class="text-lg">ğŸ‡³ğŸ‡±</span>
                                <div class="flex-1">
                                    <div x-text="country.name" class="text-sm font-medium text-gray-900 dark:text-white">Hollanda</div>
                                    <div x-text="country.code" class="text-xs text-gray-500 dark:text-gray-400">+31</div>
                                </div>
                            </button><button type="button" @click="selectCountry(country)" class="w-full flex items-center gap-3 px-4 py-3 hover:bg-gray-100 dark:hover:bg-gray-600 transition-all text-left" data-has-alpine-state="true">
                                <span x-text="country.flag" class="text-lg">ğŸ‡§ğŸ‡ª</span>
                                <div class="flex-1">
                                    <div x-text="country.name" class="text-sm font-medium text-gray-900 dark:text-white">BelÃ§ika</div>
                                    <div x-text="country.code" class="text-xs text-gray-500 dark:text-gray-400">+32</div>
                                </div>
                            </button><button type="button" @click="selectCountry(country)" class="w-full flex items-center gap-3 px-4 py-3 hover:bg-gray-100 dark:hover:bg-gray-600 transition-all text-left" data-has-alpine-state="true">
                                <span x-text="country.flag" class="text-lg">ğŸ‡¨ğŸ‡­</span>
                                <div class="flex-1">
                                    <div x-text="country.name" class="text-sm font-medium text-gray-900 dark:text-white">Ä°sviÃ§re</div>
                                    <div x-text="country.code" class="text-xs text-gray-500 dark:text-gray-400">+41</div>
                                </div>
                            </button><button type="button" @click="selectCountry(country)" class="w-full flex items-center gap-3 px-4 py-3 hover:bg-gray-100 dark:hover:bg-gray-600 transition-all text-left" data-has-alpine-state="true">
                                <span x-text="country.flag" class="text-lg">ğŸ‡¦ğŸ‡¹</span>
                                <div class="flex-1">
                                    <div x-text="country.name" class="text-sm font-medium text-gray-900 dark:text-white">Avusturya</div>
                                    <div x-text="country.code" class="text-xs text-gray-500 dark:text-gray-400">+43</div>
                                </div>
                            </button><button type="button" @click="selectCountry(country)" class="w-full flex items-center gap-3 px-4 py-3 hover:bg-gray-100 dark:hover:bg-gray-600 transition-all text-left" data-has-alpine-state="true">
                                <span x-text="country.flag" class="text-lg">ğŸ‡©ğŸ‡°</span>
                                <div class="flex-1">
                                    <div x-text="country.name" class="text-sm font-medium text-gray-900 dark:text-white">Danimarka</div>
                                    <div x-text="country.code" class="text-xs text-gray-500 dark:text-gray-400">+45</div>
                                </div>
                            </button><button type="button" @click="selectCountry(country)" class="w-full flex items-center gap-3 px-4 py-3 hover:bg-gray-100 dark:hover:bg-gray-600 transition-all text-left" data-has-alpine-state="true">
                                <span x-text="country.flag" class="text-lg">ğŸ‡¸ğŸ‡ª</span>
                                <div class="flex-1">
                                    <div x-text="country.name" class="text-sm font-medium text-gray-900 dark:text-white">Ä°sveÃ§</div>
                                    <div x-text="country.code" class="text-xs text-gray-500 dark:text-gray-400">+46</div>
                                </div>
                            </button><button type="button" @click="selectCountry(country)" class="w-full flex items-center gap-3 px-4 py-3 hover:bg-gray-100 dark:hover:bg-gray-600 transition-all text-left" data-has-alpine-state="true">
                                <span x-text="country.flag" class="text-lg">ğŸ‡³ğŸ‡´</span>
                                <div class="flex-1">
                                    <div x-text="country.name" class="text-sm font-medium text-gray-900 dark:text-white">NorveÃ§</div>
                                    <div x-text="country.code" class="text-xs text-gray-500 dark:text-gray-400">+47</div>
                                </div>
                            </button><button type="button" @click="selectCountry(country)" class="w-full flex items-center gap-3 px-4 py-3 hover:bg-gray-100 dark:hover:bg-gray-600 transition-all text-left" data-has-alpine-state="true">
                                <span x-text="country.flag" class="text-lg">ğŸ‡«ğŸ‡®</span>
                                <div class="flex-1">
                                    <div x-text="country.name" class="text-sm font-medium text-gray-900 dark:text-white">Finlandiya</div>
                                    <div x-text="country.code" class="text-xs text-gray-500 dark:text-gray-400">+358</div>
                                </div>
                            </button><button type="button" @click="selectCountry(country)" class="w-full flex items-center gap-3 px-4 py-3 hover:bg-gray-100 dark:hover:bg-gray-600 transition-all text-left" data-has-alpine-state="true">
                                <span x-text="country.flag" class="text-lg">ğŸ‡¬ğŸ‡·</span>
                                <div class="flex-1">
                                    <div x-text="country.name" class="text-sm font-medium text-gray-900 dark:text-white">Yunanistan</div>
                                    <div x-text="country.code" class="text-xs text-gray-500 dark:text-gray-400">+30</div>
                                </div>
                            </button><button type="button" @click="selectCountry(country)" class="w-full flex items-center gap-3 px-4 py-3 hover:bg-gray-100 dark:hover:bg-gray-600 transition-all text-left" data-has-alpine-state="true">
                                <span x-text="country.flag" class="text-lg">ğŸ‡·ğŸ‡º</span>
                                <div class="flex-1">
                                    <div x-text="country.name" class="text-sm font-medium text-gray-900 dark:text-white">Rusya</div>
                                    <div x-text="country.code" class="text-xs text-gray-500 dark:text-gray-400">+7</div>
                                </div>
                            </button>
                    </div>
                </div>

                
                <input type="tel" x-model="phoneValue" @input="formatPhoneNumber()" :placeholder="phoneCountry.placeholder" maxlength="20" class="flex-1 px-3 py-2.5 bg-white dark:bg-gray-700 border border-gray-300 dark:border-gray-600 rounded-lg text-gray-900 dark:text-white text-sm focus:border-gray-500 transition-all" placeholder="5__ ___ __ __">

                
                <!--[if BLOCK]><![endif]--><!--[if ENDBLOCK]><![endif]-->
            </div>

            
            <div class="h-5 mt-1">
                <!--[if BLOCK]><![endif]-->                    <div x-show="!phoneValid &amp;&amp; phoneValue.length &gt; 0" class="flex items-center gap-1 text-red-500 text-xs" style="display: none;">
                        <i class="fas fa-exclamation-circle"></i>
                        <span x-text="phoneError"></span>
                    </div>
                    <div x-show="phoneValid" class="flex items-center gap-1 text-green-500 text-xs" style="display: none;">
                        <i class="fas fa-check-circle"></i>
                        <span>GeÃ§erli telefon numarasÄ±</span>
                    </div>
                <!--[if ENDBLOCK]><![endif]-->
            </div>
        </div>
    </div>
</div>
                                            </div>
                                        </div>
                                        <div>
                                            <label class="block text-xs text-gray-600 dark:text-gray-400 mb-1">Adres <span class="text-red-500">*</span></label>
                                            <textarea wire:model="new_billing_address_line" rows="2" placeholder="Mahalle, sokak, bina no, daire no" class="w-full px-3 py-2.5 bg-white dark:bg-gray-800 border border-gray-300 dark:border-gray-600 rounded-lg text-gray-900 dark:text-white text-sm focus:border-gray-500 transition-all resize-none"></textarea>
                                        </div>
                                        <div class="grid grid-cols-3 gap-3">
                                            <div>
                                                <label class="block text-xs text-gray-600 dark:text-gray-400 mb-1">Ä°l <span class="text-red-500">*</span></label>
                                                <select wire:model.live="new_billing_address_city" class="w-full px-3 py-2.5 bg-white dark:bg-gray-800 border border-gray-300 dark:border-gray-600 rounded-lg text-gray-900 dark:text-white text-sm focus:border-gray-500 transition-all">
                                                    <option value="">SeÃ§in</option>
                                                    <!--[if BLOCK]><![endif]-->                                                        <option value="Adana">Adana</option>
                                                                                                            <option value="AdÄ±yaman">AdÄ±yaman</option>
                                                                                                            <option value="Afyonkarahisar">Afyonkarahisar</option>
                                                                                                            <option value="AÄŸrÄ±">AÄŸrÄ±</option>
                                                                                                            <option value="Aksaray">Aksaray</option>
                                                                                                            <option value="Amasya">Amasya</option>
                                                                                                            <option value="Ankara">Ankara</option>
                                                                                                            <option value="Antalya">Antalya</option>
                                                                                                            <option value="Ardahan">Ardahan</option>
                                                                                                            <option value="Artvin">Artvin</option>
                                                                                                            <option value="AydÄ±n">AydÄ±n</option>
                                                                                                            <option value="BalÄ±kesir">BalÄ±kesir</option>
                                                                                                            <option value="BartÄ±n">BartÄ±n</option>
                                                                                                            <option value="Batman">Batman</option>
                                                                                                            <option value="Bayburt">Bayburt</option>
                                                                                                            <option value="Bilecik">Bilecik</option>
                                                                                                            <option value="BingÃ¶l">BingÃ¶l</option>
                                                                                                            <option value="Bitlis">Bitlis</option>
                                                                                                            <option value="Bolu">Bolu</option>
                                                                                                            <option value="Burdur">Burdur</option>
                                                                                                            <option value="Bursa">Bursa</option>
                                                                                                            <option value="Ã‡anakkale">Ã‡anakkale</option>
                                                                                                            <option value="Ã‡ankÄ±rÄ±">Ã‡ankÄ±rÄ±</option>
                                                                                                            <option value="Ã‡orum">Ã‡orum</option>
                                                                                                            <option value="Denizli">Denizli</option>
                                                                                                            <option value="DiyarbakÄ±r">DiyarbakÄ±r</option>
                                                                                                            <option value="DÃ¼zce">DÃ¼zce</option>
                                                                                                            <option value="Edirne">Edirne</option>
                                                                                                            <option value="ElazÄ±ÄŸ">ElazÄ±ÄŸ</option>
                                                                                                            <option value="Erzincan">Erzincan</option>
                                                                                                            <option value="Erzurum">Erzurum</option>
                                                                                                            <option value="EskiÅŸehir">EskiÅŸehir</option>
                                                                                                            <option value="Gaziantep">Gaziantep</option>
                                                                                                            <option value="Giresun">Giresun</option>
                                                                                                            <option value="GÃ¼mÃ¼ÅŸhane">GÃ¼mÃ¼ÅŸhane</option>
                                                                                                            <option value="Hakkari">Hakkari</option>
                                                                                                            <option value="Hatay">Hatay</option>
                                                                                                            <option value="IÄŸdÄ±r">IÄŸdÄ±r</option>
                                                                                                            <option value="Isparta">Isparta</option>
                                                                                                            <option value="Ä°stanbul">Ä°stanbul</option>
                                                                                                            <option value="Ä°zmir">Ä°zmir</option>
                                                                                                            <option value="KahramanmaraÅŸ">KahramanmaraÅŸ</option>
                                                                                                            <option value="KarabÃ¼k">KarabÃ¼k</option>
                                                                                                            <option value="Karaman">Karaman</option>
                                                                                                            <option value="Kars">Kars</option>
                                                                                                            <option value="Kastamonu">Kastamonu</option>
                                                                                                            <option value="Kayseri">Kayseri</option>
                                                                                                            <option value="KÄ±rÄ±kkale">KÄ±rÄ±kkale</option>
                                                                                                            <option value="KÄ±rklareli">KÄ±rklareli</option>
                                                                                                            <option value="KÄ±rÅŸehir">KÄ±rÅŸehir</option>
                                                                                                            <option value="Kilis">Kilis</option>
                                                                                                            <option value="Kocaeli">Kocaeli</option>
                                                                                                            <option value="Konya">Konya</option>
                                                                                                            <option value="KÃ¼tahya">KÃ¼tahya</option>
                                                                                                            <option value="Malatya">Malatya</option>
                                                                                                            <option value="Manisa">Manisa</option>
                                                                                                            <option value="Mardin">Mardin</option>
                                                                                                            <option value="Mersin">Mersin</option>
                                                                                                            <option value="MuÄŸla">MuÄŸla</option>
                                                                                                            <option value="MuÅŸ">MuÅŸ</option>
                                                                                                            <option value="NevÅŸehir">NevÅŸehir</option>
                                                                                                            <option value="NiÄŸde">NiÄŸde</option>
                                                                                                            <option value="Ordu">Ordu</option>
                                                                                                            <option value="Osmaniye">Osmaniye</option>
                                                                                                            <option value="Rize">Rize</option>
                                                                                                            <option value="Sakarya">Sakarya</option>
                                                                                                            <option value="Samsun">Samsun</option>
                                                                                                            <option value="Siirt">Siirt</option>
                                                                                                            <option value="Sinop">Sinop</option>
                                                                                                            <option value="Sivas">Sivas</option>
                                                                                                            <option value="ÅanlÄ±urfa">ÅanlÄ±urfa</option>
                                                                                                            <option value="ÅÄ±rnak">ÅÄ±rnak</option>
                                                                                                            <option value="TekirdaÄŸ">TekirdaÄŸ</option>
                                                                                                            <option value="Tokat">Tokat</option>
                                                                                                            <option value="Trabzon">Trabzon</option>
                                                                                                            <option value="Tunceli">Tunceli</option>
                                                                                                            <option value="UÅŸak">UÅŸak</option>
                                                                                                            <option value="Van">Van</option>
                                                                                                            <option value="Yalova">Yalova</option>
                                                                                                            <option value="Yozgat">Yozgat</option>
                                                                                                            <option value="Zonguldak">Zonguldak</option>
                                                    <!--[if ENDBLOCK]><![endif]-->
                                                </select>
                                            </div>
                                            <div>
                                                <label class="block text-xs text-gray-600 dark:text-gray-400 mb-1">Ä°lÃ§e <span class="text-red-500">*</span></label>
                                                <select wire:model="new_billing_address_district" class="w-full px-3 py-2.5 bg-white dark:bg-gray-800 border border-gray-300 dark:border-gray-600 rounded-lg text-gray-900 dark:text-white text-sm focus:border-gray-500 transition-all">
                                                    <option value="">Ã–nce il seÃ§in</option>
                                                    <!--[if BLOCK]><![endif]--><!--[if ENDBLOCK]><![endif]-->
                                                </select>
                                            </div>
                                            <div>
                                                <label class="block text-xs text-gray-600 dark:text-gray-400 mb-1">Posta Kodu</label>
                                                <input type="text" wire:model="new_billing_address_postal" placeholder="34000" class="w-full px-3 py-2.5 bg-white dark:bg-gray-800 border border-gray-300 dark:border-gray-600 rounded-lg text-gray-900 dark:text-white text-sm focus:border-gray-500 transition-all">
                                            </div>
                                        </div>
                                        <div class="flex justify-end gap-2 pt-2">
                                            <button type="button" @click="showNewBillingForm = false" class="px-4 py-2 text-sm text-gray-500 dark:text-gray-400 hover:text-gray-700 dark:hover:text-gray-200 transition-all">Ä°ptal</button>
                                            <button type="button" wire:click="saveNewAddress('billing')" class="px-4 py-2 bg-gray-700 hover:bg-gray-600 text-gray-100 text-sm font-medium rounded-lg transition-all">
                                                <i class="fa-solid fa-check mr-1"></i>Kaydet
                                            </button>
                                        </div>
                                    </div>
                                </div>
                            </div>
                        </div>
                        <!--[if BLOCK]><![endif]--><!--[if ENDBLOCK]><![endif]-->
                    </div>
                </div>

            </div>

            
            
            
            <div class="lg:col-span-4">
                <div class="checkout-sidebar bg-white dark:bg-gray-800 rounded-2xl border border-gray-200 dark:border-gray-700 shadow-sm sticky top-6 overflow-hidden">

                    
                    <div class="p-5 border-b border-gray-200 dark:border-gray-700 bg-gray-50 dark:bg-gray-900/50">
                        <h2 class="text-lg font-semibold text-gray-900 dark:text-white flex items-center">
                            <i class="fa-solid fa-receipt text-gray-500 dark:text-gray-400 mr-3"></i>
                            SipariÅŸ Ã–zeti
                        </h2>
                    </div>

                    
                    <div class="p-5 border-b border-gray-200 dark:border-gray-700 max-h-52 overflow-y-auto">
                        <!--[if BLOCK]><![endif]-->                            <div class="flex gap-3 mb-4 last:mb-0">
                                <div class="w-14 h-14 bg-gray-100 dark:bg-gray-700 rounded-lg flex items-center justify-center flex-shrink-0 overflow-hidden">
                                    <!--[if BLOCK]><![endif]-->                                        <img src="https://ixtif.com/storage/tenant2/82/lep4ns74ctsp2gydkwetkw7xs1y01psfss4tf5u6.png" alt="" class="w-full h-full object-cover">
                                    <!--[if ENDBLOCK]><![endif]-->
                                </div>
                                <div class="flex-1 min-w-0">
                                    <p class="text-sm text-gray-900 dark:text-white font-medium truncate">
                                        Ä°XTÄ°F F4 - 1.5 Ton Li-Ion Transpalet
                                    </p>
                                    <p class="text-xs text-gray-500 dark:text-gray-400 mt-0.5">Adet: 3</p>
                                </div>
                                <span class="text-sm text-gray-900 dark:text-white font-semibold whitespace-nowrap">
                                    158.843 â‚º
                                </span>
                            </div>
                                                    <div class="flex gap-3 mb-4 last:mb-0">
                                <div class="w-14 h-14 bg-gray-100 dark:bg-gray-700 rounded-lg flex items-center justify-center flex-shrink-0 overflow-hidden">
                                    <!--[if BLOCK]><![endif]-->                                        <img src="https://ixtif.com/storage/tenant2/91/tbolberwyzugefhlmefwyfxvqulf742upjygvvvp.png" alt="" class="w-full h-full object-cover">
                                    <!--[if ENDBLOCK]><![endif]-->
                                </div>
                                <div class="flex-1 min-w-0">
                                    <p class="text-sm text-gray-900 dark:text-white font-medium truncate">
                                        Ä°XTÄ°F EPT20-15ET2H - 1.5 Ton Elektrikli Transpalet (AGM, YÃ¼ksek Åasi BoÅŸluÄŸu)
                                    </p>
                                    <p class="text-xs text-gray-500 dark:text-gray-400 mt-0.5">Adet: 2</p>
                                </div>
                                <span class="text-sm text-gray-900 dark:text-white font-semibold whitespace-nowrap">
                                    199.083 â‚º
                                </span>
                            </div>
                        <!--[if ENDBLOCK]><![endif]-->
                    </div>

                    
                    <div class="p-5 border-b border-gray-200 dark:border-gray-700 space-y-3">
                        <div class="flex justify-between text-gray-600 dark:text-gray-400">
                            <span>Ara Toplam (5 ÃœrÃ¼n)</span>
                            <span class="font-medium text-gray-900 dark:text-white">357.926 â‚º</span>
                        </div>
                        <div class="flex justify-between text-gray-600 dark:text-gray-400">
                            <span>KDV (%20)</span>
                            <span class="font-medium text-gray-900 dark:text-white">71.585 â‚º</span>
                        </div>
                        <div class="flex justify-between pt-3 border-t border-gray-200 dark:border-gray-700">
                            <span class="text-lg font-bold text-gray-900 dark:text-white">Toplam</span>
                            <span class="text-xl font-bold text-gray-900 dark:text-white">429.511 â‚º</span>
                        </div>
                    </div>

                    
                    <div class="p-5 border-b border-gray-200 dark:border-gray-700">
                        <h3 class="text-sm font-semibold text-gray-900 dark:text-white mb-4">
                            <i class="fa-solid fa-wallet text-gray-500 dark:text-gray-400 mr-2"></i>Ã–deme YÃ¶ntemi
                        </h3>

                        <div class="space-y-3">
                            
                            <label class="block cursor-pointer">
                                <input type="radio" x-model="paymentMethod" value="card" class="hidden peer" name="paymentMethod">
                                <div class="p-4 rounded-xl border-2 border-gray-200 dark:border-gray-600 peer-checked:border-gray-800 dark:peer-checked:border-gray-300 peer-checked:bg-gray-50 dark:peer-checked:bg-gray-800 transition-all">
                                    <div class="flex items-center gap-3">
                                        <div class="w-10 h-10 bg-gray-100 dark:bg-gray-700 rounded-lg flex items-center justify-center">
                                            <i class="fa-solid fa-credit-card text-gray-600 dark:text-gray-400"></i>
                                        </div>
                                        <div class="flex-1">
                                            <span class="text-sm font-semibold text-gray-900 dark:text-white">Kredi KartÄ±</span>
                                            <p class="text-xs text-gray-500 dark:text-gray-400">Visa, Mastercard, Troy</p>
                                        </div>
                                        <span class="text-xs text-gray-400 dark:text-gray-500 font-medium">PayTR</span>
                                    </div>
                                </div>
                            </label>

                            
                            <label class="block cursor-pointer">
                                <input type="radio" x-model="paymentMethod" value="bank" class="hidden peer" name="paymentMethod">
                                <div class="p-4 rounded-xl border-2 border-gray-200 dark:border-gray-600 peer-checked:border-gray-800 dark:peer-checked:border-gray-300 peer-checked:bg-gray-50 dark:peer-checked:bg-gray-800 transition-all">
                                    <div class="flex items-center gap-3">
                                        <div class="w-10 h-10 bg-gray-100 dark:bg-gray-700 rounded-lg flex items-center justify-center">
                                            <i class="fa-solid fa-money-bill-transfer text-gray-600 dark:text-gray-400"></i>
                                        </div>
                                        <div class="flex-1">
                                            <span class="text-sm font-semibold text-gray-900 dark:text-white">Havale / EFT</span>
                                        </div>
                                    </div>

                                    
                                    <template x-if="paymentMethod === 'bank'">
                                        <div class="mt-4 pt-4 border-t border-gray-200 dark:border-gray-600 text-sm text-gray-600 dark:text-gray-400">
                                            <p class="mb-1"><strong class="text-gray-800 dark:text-gray-200">Banka:</strong> TÃ¼rkiye Ä°ÅŸ BankasÄ±</p>
                                            <p class="mb-1"><strong class="text-gray-800 dark:text-gray-200">Hesap:</strong> Ä°XTÄ°F A.Å.</p>
                                            <p class="mt-2"><strong class="text-gray-800 dark:text-gray-200">IBAN:</strong></p>
                                            <code class="block bg-gray-100 dark:bg-gray-700 px-3 py-2 rounded-lg mt-1 text-xs font-mono">TR51 0006 4000 0011 0372 5092 58</code>
                                        </div>
                                    </template>
                                </div>
                            </label>
                        </div>
                    </div>

                    
                    <div class="p-5 border-b border-gray-200 dark:border-gray-700">
                        <label class="flex items-start gap-3 cursor-pointer">
                            <input type="checkbox" x-model="agreeAll" class="w-5 h-5 mt-0.5 rounded border-gray-300 dark:border-gray-600 text-gray-800 dark:text-gray-200 focus:ring-gray-500 bg-white dark:bg-gray-700">
                            <span class="text-sm text-gray-600 dark:text-gray-400 leading-relaxed">
                                <a href="/on-bilgilendirme" target="_blank" class="text-gray-900 dark:text-white hover:underline font-medium">Ã–n Bilgilendirme Formu</a>'nu ve
                                <a href="/mesafeli-satis" target="_blank" class="text-gray-900 dark:text-white hover:underline font-medium">Mesafeli SatÄ±ÅŸ SÃ¶zleÅŸmesi</a>'ni okudum, kabul ediyorum.
                                <span class="text-red-500">*</span>
                            </span>
                        </label>
                        <!--[if BLOCK]><![endif]--><!--[if ENDBLOCK]><![endif]-->
                    </div>

                    
                    <!--[if BLOCK]><![endif]--><!--[if ENDBLOCK]><![endif]-->

                    
                    <div class="p-5">
                        <button type="button" @click="submitOrder()" :disabled="!agreeAll" :class="agreeAll ? 'bg-green-600 hover:bg-green-700 shadow-lg shadow-green-600/30 hover:shadow-green-600/40' : 'bg-gray-400 cursor-not-allowed'" class="w-full text-white font-bold py-4 rounded-xl transition-all flex items-center justify-center gap-2 text-lg bg-gray-400 cursor-not-allowed" disabled="disabled">
                            <i class="fa-solid fa-lock"></i>
                            <span x-text="paymentMethod === 'card' ? 'Kredi KartÄ± ile Ã–de' : 'SipariÅŸi Tamamla'">Kredi KartÄ± ile Ã–de</span>
                        </button>

                        <p class="text-center text-xs text-gray-500 dark:text-gray-400 mt-4 flex items-center justify-center gap-1">
                            <i class="fa-solid fa-shield-halved text-green-500"></i>
                            256-bit SSL ile gÃ¼venli Ã¶deme
                        </p>
                    </div>

                </div>
            </div>

        </div>
        <!--[if ENDBLOCK]><![endif]-->
    </div>

    
    
    

    
    <!--[if BLOCK]><![endif]--><!--[if ENDBLOCK]><![endif]-->

    
    <!--[if BLOCK]><![endif]--><!--[if ENDBLOCK]><![endif]-->

    
    <!--[if BLOCK]><![endif]--><!--[if ENDBLOCK]><![endif]-->

    
    <!--[if BLOCK]><![endif]--><!--[if ENDBLOCK]><![endif]-->


        </main>
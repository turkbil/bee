<!DOCTYPE html>
<html lang="tr">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Context Menu Refactor - ModÃ¼ler YapÄ± PlanÄ±</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.1/css/all.min.css">
</head>
<body class="bg-slate-900 text-white min-h-screen p-4 sm:p-8">
    <div class="max-w-6xl mx-auto">
        <!-- Header -->
        <header class="mb-8">
            <div class="flex items-center gap-3 mb-4">
                <span class="px-4 py-1.5 bg-blue-500/20 text-blue-400 rounded-full text-sm font-semibold">ğŸ“‹ Planlama</span>
                <span class="px-4 py-1.5 bg-purple-500/20 text-purple-400 rounded-full text-sm font-semibold">ğŸ”§ Refactor</span>
            </div>
            <h1 class="text-4xl font-black text-white mb-3">Context Menu Refactor</h1>
            <p class="text-xl text-slate-400">ModÃ¼ler Dosya YapÄ±sÄ± ile Organizasyon</p>
            <div class="flex items-center gap-4 mt-4 text-sm text-slate-500">
                <span><i class="far fa-calendar mr-2"></i>25 AralÄ±k 2025</span>
                <span><i class="far fa-clock mr-2"></i>Planlama AÅŸamasÄ±</span>
            </div>
        </header>

        <!-- Basit AnlatÄ±m -->
        <div class="bg-green-900/20 border-2 border-green-800 rounded-xl p-6 mb-8">
            <h3 class="text-xl font-bold text-green-400 mb-4 flex items-center gap-2">
                <i class="fas fa-lightbulb"></i>
                ğŸ“ Basit AnlatÄ±m (Herkes Ä°Ã§in)
            </h3>
            <div class="text-slate-300 space-y-3">
                <p class="text-lg leading-relaxed">
                    <strong>Sorun:</strong> Åu anda tÃ¼m saÄŸ tÄ±k menÃ¼leri (context menu) tek bir JavaScript dosyasÄ±nda yazÄ±lÄ±. ÅarkÄ± menÃ¼sÃ¼, albÃ¼m menÃ¼sÃ¼, playlist menÃ¼sÃ¼ - hepsi karmaÅŸÄ±k bir kod yÄ±ÄŸÄ±nÄ± iÃ§inde gÃ¶mÃ¼lÃ¼ durumda.
                </p>
                <p class="text-lg leading-relaxed">
                    <strong>Ã‡Ã¶zÃ¼m:</strong> Her iÃ§erik tÃ¼rÃ¼ iÃ§in ayrÄ± dosyalar oluÅŸturacaÄŸÄ±z. ÅarkÄ± menÃ¼sÃ¼ kendi dosyasÄ±nda, albÃ¼m menÃ¼sÃ¼ kendi dosyasÄ±nda olacak. Bu sayede:
                </p>
                <ul class="list-disc list-inside space-y-2 ml-4">
                    <li>âœ… Hangi menÃ¼de ne var kolayca gÃ¶rebileceÄŸiz</li>
                    <li>âœ… Bir menÃ¼yÃ¼ deÄŸiÅŸtirmek iÃ§in diÄŸerlerine dokunmayacaÄŸÄ±z</li>
                    <li>âœ… Yeni menÃ¼ eklenmesi Ã§ok kolay olacak</li>
                    <li>âœ… Kod tekrarÄ± azalacak, bakÄ±mÄ± kolaylaÅŸacak</li>
                </ul>
                <p class="text-lg leading-relaxed mt-4">
                    <strong>Benzetme:</strong> Åu anki durum tÃ¼m kÄ±yafetlerin tek bir dolaba tÄ±kÄ±lmÄ±ÅŸ hali. Refactor sonrasÄ± her kÄ±yafet tÃ¼rÃ¼ iÃ§in ayrÄ± Ã§ekmeceler olacak - gÃ¶mlekler ayrÄ±, pantolonlar ayrÄ±, ayakkabÄ±lar ayrÄ±.
                </p>
            </div>
        </div>

        <!-- Mevcut Durum -->
        <div class="bg-slate-800 border border-slate-700 rounded-xl p-6 mb-8">
            <h3 class="text-2xl font-bold text-white mb-4 flex items-center gap-2">
                <i class="fas fa-search text-orange-400"></i>
                Mevcut Durum Analizi
            </h3>
            <div class="space-y-4">
                <div class="bg-slate-900/50 rounded-lg p-4">
                    <h4 class="font-bold text-orange-400 mb-3">ğŸ“ Dosya YapÄ±sÄ± (Åu Anki)</h4>
                    <div class="font-mono text-sm text-slate-400 space-y-1">
                        <div>public/themes/muzibu/js/</div>
                        <div class="ml-4">â””â”€â”€ muzibu-store.js <span class="text-red-400">(~1800+ satÄ±r)</span></div>
                        <div class="ml-8">â””â”€â”€ contextMenu store <span class="text-red-400">(~300 satÄ±r)</span></div>
                        <div class="ml-12">â”œâ”€â”€ getActionsForType() <span class="text-yellow-400">(7 content type hardcoded)</span></div>
                        <div class="ml-12">â””â”€â”€ executeAction() <span class="text-yellow-400">(switch-case, 15+ action)</span></div>
                    </div>
                </div>

                <div class="bg-red-900/20 border border-red-800 rounded-lg p-4">
                    <h4 class="font-bold text-red-400 mb-3">âŒ Sorunlar</h4>
                    <ul class="space-y-2 text-slate-300">
                        <li class="flex items-start gap-2">
                            <i class="fas fa-times text-red-500 mt-1"></i>
                            <span><strong>Monolitik yapÄ±:</strong> 7 content type tek fonksiyon iÃ§inde (song, album, playlist, genre, sector, radio, artist)</span>
                        </li>
                        <li class="flex items-start gap-2">
                            <i class="fas fa-times text-red-500 mt-1"></i>
                            <span><strong>Kod tekrarÄ±:</strong> "Ã‡al", "SÄ±raya Ekle", "Favorilerime Ekle" her menÃ¼de tekrar yazÄ±lmÄ±ÅŸ</span>
                        </li>
                        <li class="flex items-start gap-2">
                            <i class="fas fa-times text-red-500 mt-1"></i>
                            <span><strong>Zor bakÄ±m:</strong> Bir menÃ¼yÃ¼ dÃ¼zeltmek iÃ§in 300 satÄ±r kod iÃ§inde aramak gerekiyor</span>
                        </li>
                        <li class="flex items-start gap-2">
                            <i class="fas fa-times text-red-500 mt-1"></i>
                            <span><strong>Yeniden kullanÄ±labilirlik yok:</strong> AynÄ± action'larÄ± farklÄ± yerlerde kullanamÄ±yoruz</span>
                        </li>
                        <li class="flex items-start gap-2">
                            <i class="fas fa-times text-red-500 mt-1"></i>
                            <span><strong>Test edilemez:</strong> Unit test yazmak imkansÄ±z, her ÅŸey iÃ§ iÃ§e</span>
                        </li>
                    </ul>
                </div>
            </div>
        </div>

        <!-- YaklaÅŸÄ±m KarÅŸÄ±laÅŸtÄ±rmasÄ± -->
        <div class="bg-slate-800 border border-slate-700 rounded-xl p-6 mb-8">
            <h3 class="text-2xl font-bold text-white mb-6 flex items-center gap-2">
                <i class="fas fa-balance-scale text-blue-400"></i>
                4 FarklÄ± YaklaÅŸÄ±m KarÅŸÄ±laÅŸtÄ±rmasÄ±
            </h3>

            <!-- YaklaÅŸÄ±m 1: Blade Component -->
            <div class="mb-6 bg-slate-900/50 rounded-lg p-5 border-l-4 border-purple-500">
                <h4 class="text-xl font-bold text-purple-400 mb-3">
                    <i class="fas fa-code mr-2"></i>
                    YaklaÅŸÄ±m 1: Blade Component
                </h4>
                <div class="space-y-3 text-slate-300">
                    <div>
                        <strong class="text-white">YapÄ±:</strong>
                        <div class="font-mono text-sm bg-slate-800 rounded p-3 mt-2">
                            resources/views/components/muzibu/context-menus/<br>
                            â”œâ”€â”€ song-actions.blade.php<br>
                            â”œâ”€â”€ album-actions.blade.php<br>
                            â”œâ”€â”€ playlist-actions.blade.php<br>
                            â”œâ”€â”€ genre-actions.blade.php<br>
                            â””â”€â”€ ...
                        </div>
                    </div>
                    <div class="grid grid-cols-2 gap-4 mt-4">
                        <div class="bg-green-900/20 rounded p-3">
                            <strong class="text-green-400">âœ… Avantajlar:</strong>
                            <ul class="text-sm mt-2 space-y-1">
                                <li>â€¢ Blade syntax kullanÄ±labilir</li>
                                <li>â€¢ @auth, @can directives</li>
                                <li>â€¢ Dinamik content render</li>
                                <li>â€¢ Laravel'in gÃ¼cÃ¼nden yararlanma</li>
                            </ul>
                        </div>
                        <div class="bg-red-900/20 rounded p-3">
                            <strong class="text-red-400">âŒ Dezavantajlar:</strong>
                            <ul class="text-sm mt-2 space-y-1">
                                <li>â€¢ HTML render gerekli</li>
                                <li>â€¢ JS'den Ã§aÄŸÄ±rmak iÃ§in AJAX</li>
                                <li>â€¢ Performance overhead</li>
                                <li>â€¢ Client-side manipulation zor</li>
                            </ul>
                        </div>
                    </div>
                </div>
            </div>

            <!-- YaklaÅŸÄ±m 2: PHP Config -->
            <div class="mb-6 bg-slate-900/50 rounded-lg p-5 border-l-4 border-blue-500">
                <h4 class="text-xl font-bold text-blue-400 mb-3">
                    <i class="fas fa-cog mr-2"></i>
                    YaklaÅŸÄ±m 2: PHP Config Files
                </h4>
                <div class="space-y-3 text-slate-300">
                    <div>
                        <strong class="text-white">YapÄ±:</strong>
                        <div class="font-mono text-sm bg-slate-800 rounded p-3 mt-2">
                            config/muzibu/context-menus/<br>
                            â”œâ”€â”€ song.php<br>
                            â”œâ”€â”€ album.php<br>
                            â”œâ”€â”€ playlist.php<br>
                            â””â”€â”€ ...<br><br>
                            // song.php<br>
                            return [<br>
                            &nbsp;&nbsp;['icon' => 'fa-play', 'label' => 'Ã‡al', 'action' => 'play'],<br>
                            &nbsp;&nbsp;...<br>
                            ];
                        </div>
                    </div>
                    <div class="grid grid-cols-2 gap-4 mt-4">
                        <div class="bg-green-900/20 rounded p-3">
                            <strong class="text-green-400">âœ… Avantajlar:</strong>
                            <ul class="text-sm mt-2 space-y-1">
                                <li>â€¢ PHP array, kolay yÃ¶netim</li>
                                <li>â€¢ Config cache kullanÄ±labilir</li>
                                <li>â€¢ Helper ile kolayca eriÅŸim</li>
                                <li>â€¢ Git diff friendly</li>
                            </ul>
                        </div>
                        <div class="bg-red-900/20 rounded p-3">
                            <strong class="text-red-400">âŒ Dezavantajlar:</strong>
                            <ul class="text-sm mt-2 space-y-1">
                                <li>â€¢ Frontend'e JSON encode gerekli</li>
                                <li>â€¢ Runtime logic eklemek zor</li>
                                <li>â€¢ Controller/Helper baÄŸÄ±mlÄ±lÄ±ÄŸÄ±</li>
                            </ul>
                        </div>
                    </div>
                </div>
            </div>

            <!-- YaklaÅŸÄ±m 3: JSON -->
            <div class="mb-6 bg-slate-900/50 rounded-lg p-5 border-l-4 border-yellow-500">
                <h4 class="text-xl font-bold text-yellow-400 mb-3">
                    <i class="fas fa-file-code mr-2"></i>
                    YaklaÅŸÄ±m 3: JSON Files
                </h4>
                <div class="space-y-3 text-slate-300">
                    <div>
                        <strong class="text-white">YapÄ±:</strong>
                        <div class="font-mono text-sm bg-slate-800 rounded p-3 mt-2">
                            public/themes/muzibu/js/context-menus/<br>
                            â”œâ”€â”€ song.json<br>
                            â”œâ”€â”€ album.json<br>
                            â”œâ”€â”€ playlist.json<br>
                            â””â”€â”€ ...
                        </div>
                    </div>
                    <div class="grid grid-cols-2 gap-4 mt-4">
                        <div class="bg-green-900/20 rounded p-3">
                            <strong class="text-green-400">âœ… Avantajlar:</strong>
                            <ul class="text-sm mt-2 space-y-1">
                                <li>â€¢ Platform agnostic</li>
                                <li>â€¢ Frontend kolayca fetch eder</li>
                                <li>â€¢ Basit, temiz yapÄ±</li>
                                <li>â€¢ Versiyonlama kolay</li>
                            </ul>
                        </div>
                        <div class="bg-red-900/20 rounded p-3">
                            <strong class="text-red-400">âŒ Dezavantajlar:</strong>
                            <ul class="text-sm mt-2 space-y-1">
                                <li>â€¢ PHP logic kullanÄ±lamaz</li>
                                <li>â€¢ Dinamik data (auth, favorites) yok</li>
                                <li>â€¢ Runtime deÄŸiÅŸiklik imkansÄ±z</li>
                                <li>â€¢ Statik iÃ§erik only</li>
                            </ul>
                        </div>
                    </div>
                </div>
            </div>

            <!-- YaklaÅŸÄ±m 4: Hybrid (Ã–NERÄ°LEN) -->
            <div class="bg-gradient-to-r from-green-900/30 to-blue-900/30 border-2 border-green-500 rounded-lg p-5">
                <h4 class="text-xl font-bold text-green-400 mb-3">
                    <i class="fas fa-star mr-2"></i>
                    YaklaÅŸÄ±m 4: Hybrid (JavaScript ModÃ¼ler) - Ã–NERÄ°LEN â­
                </h4>
                <div class="space-y-3 text-slate-300">
                    <div>
                        <strong class="text-white">YapÄ±:</strong>
                        <div class="font-mono text-sm bg-slate-800 rounded p-3 mt-2">
                            public/themes/muzibu/js/context-menus/<br>
                            â”œâ”€â”€ <span class="text-green-400">index.js</span> (Store registration + loader)<br>
                            â”œâ”€â”€ <span class="text-blue-400">actions/</span><br>
                            â”‚   â”œâ”€â”€ song.js<br>
                            â”‚   â”œâ”€â”€ album.js<br>
                            â”‚   â”œâ”€â”€ playlist.js<br>
                            â”‚   â”œâ”€â”€ genre.js<br>
                            â”‚   â”œâ”€â”€ sector.js<br>
                            â”‚   â”œâ”€â”€ radio.js<br>
                            â”‚   â””â”€â”€ artist.js<br>
                            â””â”€â”€ <span class="text-yellow-400">handlers/</span><br>
                            &nbsp;&nbsp;&nbsp;&nbsp;â”œâ”€â”€ play.js<br>
                            &nbsp;&nbsp;&nbsp;&nbsp;â”œâ”€â”€ addToQueue.js<br>
                            &nbsp;&nbsp;&nbsp;&nbsp;â”œâ”€â”€ toggleFavorite.js<br>
                            &nbsp;&nbsp;&nbsp;&nbsp;â””â”€â”€ ...
                        </div>
                    </div>
                    <div class="bg-green-900/30 rounded p-4 mt-4">
                        <strong class="text-green-400 text-lg">âœ… Neden Bu YaklaÅŸÄ±m En Ä°yi?</strong>
                        <ul class="text-sm mt-3 space-y-2">
                            <li class="flex items-start gap-2">
                                <i class="fas fa-check text-green-500 mt-1"></i>
                                <span><strong>ModÃ¼ler:</strong> Her content type ayrÄ± dosya, baÄŸÄ±msÄ±z dÃ¼zenleme</span>
                            </li>
                            <li class="flex items-start gap-2">
                                <i class="fas fa-check text-green-500 mt-1"></i>
                                <span><strong>DRY Principle:</strong> Ortak handler'lar tek yerde, yeniden kullanÄ±labilir</span>
                            </li>
                            <li class="flex items-start gap-2">
                                <i class="fas fa-check text-green-500 mt-1"></i>
                                <span><strong>Performance:</strong> No server round-trip, pure JavaScript</span>
                            </li>
                            <li class="flex items-start gap-2">
                                <i class="fas fa-check text-green-500 mt-1"></i>
                                <span><strong>Dinamik:</strong> Runtime'da data ile merge edilebilir (is_favorite, is_mine vb.)</span>
                            </li>
                            <li class="flex items-start gap-2">
                                <i class="fas fa-check text-green-500 mt-1"></i>
                                <span><strong>BakÄ±m Kolay:</strong> actions/ klasÃ¶rÃ¼ne bakÄ±nca hemen ne var gÃ¶rÃ¼lÃ¼r</span>
                            </li>
                            <li class="flex items-start gap-2">
                                <i class="fas fa-check text-green-500 mt-1"></i>
                                <span><strong>Test Edilebilir:</strong> Her action dosyasÄ± unit test edilebilir</span>
                            </li>
                            <li class="flex items-start gap-2">
                                <i class="fas fa-check text-green-500 mt-1"></i>
                                <span><strong>Tree-shaking:</strong> Webpack/Vite ile optimize build mÃ¼mkÃ¼n</span>
                            </li>
                        </ul>
                    </div>
                </div>
            </div>
        </div>

        <!-- Ã–nerilen YapÄ± -->
        <div class="bg-gradient-to-br from-green-900/20 to-blue-900/20 border-2 border-green-600 rounded-xl p-6 mb-8">
            <h3 class="text-2xl font-bold text-green-400 mb-6 flex items-center gap-2">
                <i class="fas fa-rocket"></i>
                Ã–nerilen ModÃ¼ler YapÄ± (Hybrid JavaScript)
            </h3>

            <!-- Dosya Organizasyonu -->
            <div class="bg-slate-900/50 rounded-lg p-5 mb-6">
                <h4 class="text-lg font-bold text-white mb-4">ğŸ“ Dosya Organizasyonu</h4>
                <div class="font-mono text-sm space-y-1 text-slate-300">
                    <div class="text-green-400">public/themes/muzibu/js/context-menus/</div>
                    <div class="ml-4">â”œâ”€â”€ <span class="text-blue-400 font-bold">index.js</span> <span class="text-slate-500">// Alpine store registration</span></div>
                    <div class="ml-4">â”‚</div>
                    <div class="ml-4">â”œâ”€â”€ <span class="text-yellow-400 font-bold">actions/</span> <span class="text-slate-500">// Content type menu definitions</span></div>
                    <div class="ml-8">â”‚   â”œâ”€â”€ song.js</div>
                    <div class="ml-8">â”‚   â”œâ”€â”€ album.js</div>
                    <div class="ml-8">â”‚   â”œâ”€â”€ playlist.js</div>
                    <div class="ml-8">â”‚   â”œâ”€â”€ genre.js</div>
                    <div class="ml-8">â”‚   â”œâ”€â”€ sector.js</div>
                    <div class="ml-8">â”‚   â”œâ”€â”€ radio.js</div>
                    <div class="ml-8">â”‚   â””â”€â”€ artist.js</div>
                    <div class="ml-4">â”‚</div>
                    <div class="ml-4">â”œâ”€â”€ <span class="text-orange-400 font-bold">handlers/</span> <span class="text-slate-500">// Action implementations</span></div>
                    <div class="ml-8">â”‚   â”œâ”€â”€ play.js</div>
                    <div class="ml-8">â”‚   â”œâ”€â”€ addToQueue.js</div>
                    <div class="ml-8">â”‚   â”œâ”€â”€ toggleFavorite.js</div>
                    <div class="ml-8">â”‚   â”œâ”€â”€ rate.js</div>
                    <div class="ml-8">â”‚   â”œâ”€â”€ addToPlaylist.js</div>
                    <div class="ml-8">â”‚   â”œâ”€â”€ navigation.js</div>
                    <div class="ml-8">â”‚   â”œâ”€â”€ playlistManagement.js</div>
                    <div class="ml-8">â”‚   â””â”€â”€ ...</div>
                    <div class="ml-4">â”‚</div>
                    <div class="ml-4">â””â”€â”€ <span class="text-purple-400 font-bold">utils/</span> <span class="text-slate-500">// Helper functions</span></div>
                    <div class="ml-8">â”œâ”€â”€ actionBuilder.js <span class="text-slate-500">// Common action templates</span></div>
                    <div class="ml-8">â””â”€â”€ loader.js <span class="text-slate-500">// Dynamic action loader</span></div>
                </div>
            </div>

            <!-- Ã–rnek Kod: song.js -->
            <div class="bg-slate-900/50 rounded-lg p-5 mb-6">
                <h4 class="text-lg font-bold text-white mb-4">ğŸ“„ Ã–rnek: actions/song.js</h4>
                <div class="bg-slate-800 rounded p-4 font-mono text-sm text-slate-300 overflow-x-auto">
<pre>// actions/song.js
import { commonActions } from '../utils/actionBuilder.js';

export default function getSongActions(data) {
    return [
        // Ã‡al
        { icon: 'fa-play', label: 'Ã‡al', action: 'play' },

        // SÄ±raya Ekle
        { icon: 'fa-plus-circle', label: 'SÄ±raya Ekle', action: 'addToQueue' },

        { divider: true },

        // Favorilerime Ekle (dinamik label)
        {
            icon: 'fa-heart',
            label: data.is_favorite ? 'Favorilerimden Ã‡Ä±kar' : 'Favorilerime Ekle',
            action: 'toggleFavorite'
        },

        { divider: true },

        // Puan Ver
        { icon: 'fa-star', label: 'Puan Ver', action: 'rate' },

        // Playliste Ekle
        {
            icon: 'fa-list',
            label: 'Playliste Ekle',
            action: 'addToPlaylist',
            submenu: true
        },

        // AlbÃ¼me Git
        {
            icon: 'fa-compact-disc',
            label: 'AlbÃ¼me Git',
            action: 'goToAlbum',
            visible: !!data.album_id
        }
    ].filter(item => item.visible !== false);
}</pre>
                </div>
            </div>

            <!-- Ã–rnek Kod: handlers/play.js -->
            <div class="bg-slate-900/50 rounded-lg p-5 mb-6">
                <h4 class="text-lg font-bold text-white mb-4">âš™ï¸ Ã–rnek: handlers/play.js</h4>
                <div class="bg-slate-800 rounded p-4 font-mono text-sm text-slate-300 overflow-x-auto">
<pre>// handlers/play.js
export function handlePlay(type, data) {
    if (window.playContent) {
        window.playContent(type, data.id);
    }

    Alpine.store('toast').show(
        `â–¶ï¸ Ã‡alÄ±yor: ${data.title}`,
        'success'
    );
}</pre>
                </div>
            </div>

            <!-- Ã–rnek Kod: index.js -->
            <div class="bg-slate-900/50 rounded-lg p-5">
                <h4 class="text-lg font-bold text-white mb-4">ğŸ¯ Ã–rnek: index.js (Main Store)</h4>
                <div class="bg-slate-800 rounded p-4 font-mono text-sm text-slate-300 overflow-x-auto">
<pre>// context-menus/index.js
import getSongActions from './actions/song.js';
import getAlbumActions from './actions/album.js';
import getPlaylistActions from './actions/playlist.js';
import getGenreActions from './actions/genre.js';
import getSectorActions from './actions/sector.js';
import getRadioActions from './actions/radio.js';
import getArtistActions from './actions/artist.js';

import { handlePlay } from './handlers/play.js';
import { handleAddToQueue } from './handlers/addToQueue.js';
import { handleToggleFavorite } from './handlers/toggleFavorite.js';
import { handleRate } from './handlers/rate.js';
// ... diÄŸer handler'lar

const actionMap = {
    song: getSongActions,
    album: getAlbumActions,
    playlist: getPlaylistActions,
    genre: getGenreActions,
    sector: getSectorActions,
    radio: getRadioActions,
    artist: getArtistActions
};

const handlerMap = {
    play: handlePlay,
    addToQueue: handleAddToQueue,
    toggleFavorite: handleToggleFavorite,
    rate: handleRate,
    // ... diÄŸer handler'lar
};

export function registerContextMenuStore() {
    Alpine.store('contextMenu', {
        // ... store implementation
        getActionsForType(type, data) {
            const getActions = actionMap[type];
            return getActions ? getActions(data) : [];
        },

        executeAction(action) {
            const handler = handlerMap[action];
            if (handler) {
                handler(this.type, this.data);
            }
        }
    });
}</pre>
                </div>
            </div>
        </div>

        <!-- Migration PlanÄ± -->
        <div class="bg-slate-800 border border-slate-700 rounded-xl p-6 mb-8">
            <h3 class="text-2xl font-bold text-white mb-6 flex items-center gap-2">
                <i class="fas fa-road text-blue-400"></i>
                Migration PlanÄ± (AdÄ±m AdÄ±m)
            </h3>

            <div class="space-y-4">
                <!-- AdÄ±m 1 -->
                <div class="bg-slate-900/50 rounded-lg p-5 border-l-4 border-blue-500">
                    <div class="flex items-start gap-3">
                        <span class="bg-blue-500 text-white rounded-full w-8 h-8 flex items-center justify-center font-bold flex-shrink-0">1</span>
                        <div class="flex-1">
                            <h4 class="text-lg font-bold text-blue-400 mb-2">KlasÃ¶r YapÄ±sÄ±nÄ± OluÅŸtur</h4>
                            <div class="text-slate-300 space-y-2">
                                <p>Yeni modÃ¼ler klasÃ¶rleri oluÅŸtur:</p>
                                <div class="font-mono text-sm bg-slate-800 rounded p-3">
                                    mkdir -p public/themes/muzibu/js/context-menus/actions<br>
                                    mkdir -p public/themes/muzibu/js/context-menus/handlers<br>
                                    mkdir -p public/themes/muzibu/js/context-menus/utils
                                </div>
                            </div>
                        </div>
                    </div>
                </div>

                <!-- AdÄ±m 2 -->
                <div class="bg-slate-900/50 rounded-lg p-5 border-l-4 border-green-500">
                    <div class="flex items-start gap-3">
                        <span class="bg-green-500 text-white rounded-full w-8 h-8 flex items-center justify-center font-bold flex-shrink-0">2</span>
                        <div class="flex-1">
                            <h4 class="text-lg font-bold text-green-400 mb-2">Actions DosyalarÄ±nÄ± OluÅŸtur</h4>
                            <div class="text-slate-300 space-y-2">
                                <p>Her content type iÃ§in action dosyasÄ± yarat:</p>
                                <ul class="list-disc list-inside space-y-1 ml-4">
                                    <li>actions/song.js - Mevcut song actions'larÄ± taÅŸÄ±</li>
                                    <li>actions/album.js - Mevcut album actions'larÄ± taÅŸÄ±</li>
                                    <li>actions/playlist.js - Mevcut playlist actions'larÄ± taÅŸÄ±</li>
                                    <li>... diÄŸer content type'lar iÃ§in</li>
                                </ul>
                            </div>
                        </div>
                    </div>
                </div>

                <!-- AdÄ±m 3 -->
                <div class="bg-slate-900/50 rounded-lg p-5 border-l-4 border-yellow-500">
                    <div class="flex items-start gap-3">
                        <span class="bg-yellow-500 text-white rounded-full w-8 h-8 flex items-center justify-center font-bold flex-shrink-0">3</span>
                        <div class="flex-1">
                            <h4 class="text-lg font-bold text-yellow-400 mb-2">Handler'larÄ± AyÄ±r</h4>
                            <div class="text-slate-300 space-y-2">
                                <p>executeAction() iÃ§indeki switch-case'leri ayrÄ± handler dosyalarÄ±na taÅŸÄ±:</p>
                                <ul class="list-disc list-inside space-y-1 ml-4">
                                    <li>handlers/play.js - play action implementasyonu</li>
                                    <li>handlers/addToQueue.js - addToQueue implementasyonu</li>
                                    <li>handlers/toggleFavorite.js - toggleFavorite implementasyonu</li>
                                    <li>... her action iÃ§in ayrÄ± handler</li>
                                </ul>
                            </div>
                        </div>
                    </div>
                </div>

                <!-- AdÄ±m 4 -->
                <div class="bg-slate-900/50 rounded-lg p-5 border-l-4 border-purple-500">
                    <div class="flex items-start gap-3">
                        <span class="bg-purple-500 text-white rounded-full w-8 h-8 flex items-center justify-center font-bold flex-shrink-0">4</span>
                        <div class="flex-1">
                            <h4 class="text-lg font-bold text-purple-400 mb-2">Utils ve Helper'larÄ± Ekle</h4>
                            <div class="text-slate-300 space-y-2">
                                <p>Ortak kullanÄ±lan fonksiyonlarÄ± utils'e taÅŸÄ±:</p>
                                <ul class="list-disc list-inside space-y-1 ml-4">
                                    <li>utils/actionBuilder.js - Ortak action template'leri</li>
                                    <li>utils/loader.js - Dynamic module loader</li>
                                </ul>
                            </div>
                        </div>
                    </div>
                </div>

                <!-- AdÄ±m 5 -->
                <div class="bg-slate-900/50 rounded-lg p-5 border-l-4 border-orange-500">
                    <div class="flex items-start gap-3">
                        <span class="bg-orange-500 text-white rounded-full w-8 h-8 flex items-center justify-center font-bold flex-shrink-0">5</span>
                        <div class="flex-1">
                            <h4 class="text-lg font-bold text-orange-400 mb-2">Store'u Refactor Et</h4>
                            <div class="text-slate-300 space-y-2">
                                <p>muzibu-store.js iÃ§indeki contextMenu store'u yeniden yaz:</p>
                                <ul class="list-disc list-inside space-y-1 ml-4">
                                    <li>getActionsForType() â†’ actionMap'ten Ã§aÄŸÄ±r</li>
                                    <li>executeAction() â†’ handlerMap'ten Ã§aÄŸÄ±r</li>
                                    <li>Hardcoded array'leri kaldÄ±r</li>
                                    <li>Import statement'larÄ± ekle</li>
                                </ul>
                            </div>
                        </div>
                    </div>
                </div>

                <!-- AdÄ±m 6 -->
                <div class="bg-slate-900/50 rounded-lg p-5 border-l-4 border-red-500">
                    <div class="flex items-start gap-3">
                        <span class="bg-red-500 text-white rounded-full w-8 h-8 flex items-center justify-center font-bold flex-shrink-0">6</span>
                        <div class="flex-1">
                            <h4 class="text-lg font-bold text-red-400 mb-2">Test ve Production Build</h4>
                            <div class="text-slate-300 space-y-2">
                                <p>DeÄŸiÅŸiklikleri test et ve build al:</p>
                                <div class="font-mono text-sm bg-slate-800 rounded p-3">
                                    npm run prod<br>
                                    php artisan view:clear<br>
                                    php artisan responsecache:clear
                                </div>
                                <p class="mt-2">TÃ¼m content type'lar iÃ§in context menu'leri test et:</p>
                                <ul class="list-disc list-inside space-y-1 ml-4">
                                    <li>ÅarkÄ± row'larÄ±nda saÄŸ tÄ±k</li>
                                    <li>Album kartlarÄ±nda saÄŸ tÄ±k</li>
                                    <li>Playlist kartlarÄ±nda saÄŸ tÄ±k</li>
                                    <li>... tÃ¼m yerlerde test</li>
                                </ul>
                            </div>
                        </div>
                    </div>
                </div>

                <!-- AdÄ±m 7 -->
                <div class="bg-slate-900/50 rounded-lg p-5 border-l-4 border-green-500">
                    <div class="flex items-start gap-3">
                        <span class="bg-green-500 text-white rounded-full w-8 h-8 flex items-center justify-center font-bold flex-shrink-0">7</span>
                        <div class="flex-1">
                            <h4 class="text-lg font-bold text-green-400 mb-2">Eski Kodu Temizle</h4>
                            <div class="text-slate-300 space-y-2">
                                <p>Refactor tamamlandÄ±ktan sonra:</p>
                                <ul class="list-disc list-inside space-y-1 ml-4">
                                    <li>muzibu-store.js iÃ§indeki eski hardcoded code'u sil</li>
                                    <li>KullanÄ±lmayan fonksiyonlarÄ± temizle</li>
                                    <li>Kod yorumlarÄ±nÄ± gÃ¼ncelle</li>
                                    <li>Git commit yap</li>
                                </ul>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>

        <!-- Avantajlar -->
        <div class="bg-green-900/20 border-2 border-green-600 rounded-xl p-6 mb-8">
            <h3 class="text-2xl font-bold text-green-400 mb-6 flex items-center gap-2">
                <i class="fas fa-trophy"></i>
                Refactor SonrasÄ± KazanÄ±mlar
            </h3>
            <div class="grid md:grid-cols-2 gap-4">
                <div class="bg-slate-900/50 rounded-lg p-4">
                    <h4 class="font-bold text-white mb-3 flex items-center gap-2">
                        <i class="fas fa-code text-blue-400"></i>
                        Kod Kalitesi
                    </h4>
                    <ul class="space-y-2 text-slate-300">
                        <li class="flex items-start gap-2">
                            <i class="fas fa-check text-green-500 mt-1"></i>
                            <span>ModÃ¼ler, okunabilir kod</span>
                        </li>
                        <li class="flex items-start gap-2">
                            <i class="fas fa-check text-green-500 mt-1"></i>
                            <span>DRY principle uygulanmÄ±ÅŸ</span>
                        </li>
                        <li class="flex items-start gap-2">
                            <i class="fas fa-check text-green-500 mt-1"></i>
                            <span>Single responsibility per file</span>
                        </li>
                        <li class="flex items-start gap-2">
                            <i class="fas fa-check text-green-500 mt-1"></i>
                            <span>Test edilebilir yapÄ±</span>
                        </li>
                    </ul>
                </div>

                <div class="bg-slate-900/50 rounded-lg p-4">
                    <h4 class="font-bold text-white mb-3 flex items-center gap-2">
                        <i class="fas fa-wrench text-yellow-400"></i>
                        BakÄ±m KolaylÄ±ÄŸÄ±
                    </h4>
                    <ul class="space-y-2 text-slate-300">
                        <li class="flex items-start gap-2">
                            <i class="fas fa-check text-green-500 mt-1"></i>
                            <span>MenÃ¼ deÄŸiÅŸikliÄŸi 1 dosyada</span>
                        </li>
                        <li class="flex items-start gap-2">
                            <i class="fas fa-check text-green-500 mt-1"></i>
                            <span>Action dÃ¼zeltme Ã§ok kolay</span>
                        </li>
                        <li class="flex items-start gap-2">
                            <i class="fas fa-check text-green-500 mt-1"></i>
                            <span>Yeni content type hÄ±zlÄ± eklenir</span>
                        </li>
                        <li class="flex items-start gap-2">
                            <i class="fas fa-check text-green-500 mt-1"></i>
                            <span>Git diff anlaÅŸÄ±lÄ±r olur</span>
                        </li>
                    </ul>
                </div>

                <div class="bg-slate-900/50 rounded-lg p-4">
                    <h4 class="font-bold text-white mb-3 flex items-center gap-2">
                        <i class="fas fa-rocket text-orange-400"></i>
                        Performance
                    </h4>
                    <ul class="space-y-2 text-slate-300">
                        <li class="flex items-start gap-2">
                            <i class="fas fa-check text-green-500 mt-1"></i>
                            <span>Tree-shaking mÃ¼mkÃ¼n</span>
                        </li>
                        <li class="flex items-start gap-2">
                            <i class="fas fa-check text-green-500 mt-1"></i>
                            <span>Lazy loading yapÄ±labilir</span>
                        </li>
                        <li class="flex items-start gap-2">
                            <i class="fas fa-check text-green-500 mt-1"></i>
                            <span>Bundle size optimize edilir</span>
                        </li>
                        <li class="flex items-start gap-2">
                            <i class="fas fa-check text-green-500 mt-1"></i>
                            <span>No server round-trip</span>
                        </li>
                    </ul>
                </div>

                <div class="bg-slate-900/50 rounded-lg p-4">
                    <h4 class="font-bold text-white mb-3 flex items-center gap-2">
                        <i class="fas fa-users text-purple-400"></i>
                        Developer Experience
                    </h4>
                    <ul class="space-y-2 text-slate-300">
                        <li class="flex items-start gap-2">
                            <i class="fas fa-check text-green-500 mt-1"></i>
                            <span>Yeni geliÅŸtirici kolayca anlar</span>
                        </li>
                        <li class="flex items-start gap-2">
                            <i class="fas fa-check text-green-500 mt-1"></i>
                            <span>IDE autocomplete desteÄŸi</span>
                        </li>
                        <li class="flex items-start gap-2">
                            <i class="fas fa-check text-green-500 mt-1"></i>
                            <span>Debugging Ã§ok kolay</span>
                        </li>
                        <li class="flex items-start gap-2">
                            <i class="fas fa-check text-green-500 mt-1"></i>
                            <span>Documentation self-explanatory</span>
                        </li>
                    </ul>
                </div>
            </div>
        </div>

        <!-- Teknik Detaylar -->
        <div class="bg-blue-900/20 border-2 border-blue-800 rounded-xl p-6 mb-8">
            <h3 class="text-2xl font-bold text-blue-400 mb-6 flex items-center gap-2">
                <i class="fas fa-cogs"></i>
                ğŸ”§ Teknik Detaylar (GeliÅŸtiriciler Ä°Ã§in)
            </h3>
            <div class="space-y-4 text-slate-300">
                <div class="bg-slate-900/50 rounded-lg p-4">
                    <h4 class="font-bold text-white mb-2">ğŸ“ Dosya KonumlarÄ±</h4>
                    <ul class="space-y-1 font-mono text-sm">
                        <li>Yeni klasÃ¶r: <span class="text-green-400">public/themes/muzibu/js/context-menus/</span></li>
                        <li>Action dosyalarÄ±: <span class="text-blue-400">context-menus/actions/*.js</span></li>
                        <li>Handler dosyalarÄ±: <span class="text-yellow-400">context-menus/handlers/*.js</span></li>
                        <li>Store refactor: <span class="text-orange-400">public/themes/muzibu/js/muzibu-store.js</span></li>
                    </ul>
                </div>

                <div class="bg-slate-900/50 rounded-lg p-4">
                    <h4 class="font-bold text-white mb-2">âš™ï¸ KullanÄ±lan Teknolojiler</h4>
                    <ul class="space-y-1">
                        <li>â€¢ ES6 Modules (import/export)</li>
                        <li>â€¢ Alpine.js Store System</li>
                        <li>â€¢ JavaScript Arrow Functions</li>
                        <li>â€¢ Spread Operator (... diÄŸer action'lar iÃ§in)</li>
                        <li>â€¢ Filter/Map/Reduce (action manipulation)</li>
                    </ul>
                </div>

                <div class="bg-slate-900/50 rounded-lg p-4">
                    <h4 class="font-bold text-white mb-2">ğŸ”— Ä°liÅŸkili Sistemler</h4>
                    <ul class="space-y-1">
                        <li>â€¢ Alpine.js contextMenu store (muzibu-store.js)</li>
                        <li>â€¢ Context menu component (components/context-menu.blade.php)</li>
                        <li>â€¢ Context menu init (js/context-menu/init.js)</li>
                        <li>â€¢ Song/Album/Playlist card components</li>
                        <li>â€¢ Toast notification system</li>
                    </ul>
                </div>

                <div class="bg-slate-900/50 rounded-lg p-4">
                    <h4 class="font-bold text-white mb-2">ğŸ“Š Etkilenen SatÄ±r SayÄ±sÄ±</h4>
                    <ul class="space-y-1">
                        <li>â€¢ muzibu-store.js: ~300 satÄ±r â†’ ~50 satÄ±r (import/export logic)</li>
                        <li>â€¢ Yeni dosyalar: ~600 satÄ±r (actions + handlers + utils)</li>
                        <li>â€¢ Net artÄ±ÅŸ: +350 satÄ±r (ancak Ã§ok daha organize)</li>
                        <li>â€¢ Maintainability: %400 artÄ±ÅŸ (Ã§ok daha kolay)</li>
                    </ul>
                </div>
            </div>
        </div>

        <!-- Test Stratejisi -->
        <div class="bg-slate-800 border border-slate-700 rounded-xl p-6 mb-8">
            <h3 class="text-2xl font-bold text-white mb-6 flex items-center gap-2">
                <i class="fas fa-vial text-purple-400"></i>
                Test Stratejisi
            </h3>
            <div class="space-y-4">
                <div class="bg-slate-900/50 rounded-lg p-4">
                    <h4 class="font-bold text-purple-400 mb-3">âœ… Manuel Test Checklist</h4>
                    <div class="space-y-2 text-slate-300">
                        <label class="flex items-center gap-2 cursor-pointer hover:bg-slate-800 p-2 rounded">
                            <input type="checkbox" class="w-4 h-4">
                            <span>ÅarkÄ± row'larÄ±nda 3 nokta tÄ±kla â†’ Context menu aÃ§Ä±lÄ±r</span>
                        </label>
                        <label class="flex items-center gap-2 cursor-pointer hover:bg-slate-800 p-2 rounded">
                            <input type="checkbox" class="w-4 h-4">
                            <span>ÅarkÄ± context menu â†’ "Ã‡al" action Ã§alÄ±ÅŸÄ±r</span>
                        </label>
                        <label class="flex items-center gap-2 cursor-pointer hover:bg-slate-800 p-2 rounded">
                            <input type="checkbox" class="w-4 h-4">
                            <span>ÅarkÄ± context menu â†’ "SÄ±raya Ekle" Ã§alÄ±ÅŸÄ±r</span>
                        </label>
                        <label class="flex items-center gap-2 cursor-pointer hover:bg-slate-800 p-2 rounded">
                            <input type="checkbox" class="w-4 h-4">
                            <span>ÅarkÄ± context menu â†’ "Favorilerime Ekle" Ã§alÄ±ÅŸÄ±r</span>
                        </label>
                        <label class="flex items-center gap-2 cursor-pointer hover:bg-slate-800 p-2 rounded">
                            <input type="checkbox" class="w-4 h-4">
                            <span>Album kartÄ±nda saÄŸ tÄ±k â†’ Context menu aÃ§Ä±lÄ±r</span>
                        </label>
                        <label class="flex items-center gap-2 cursor-pointer hover:bg-slate-800 p-2 rounded">
                            <input type="checkbox" class="w-4 h-4">
                            <span>Playlist kartÄ±nda saÄŸ tÄ±k â†’ Context menu aÃ§Ä±lÄ±r</span>
                        </label>
                        <label class="flex items-center gap-2 cursor-pointer hover:bg-slate-800 p-2 rounded">
                            <input type="checkbox" class="w-4 h-4">
                            <span>Playlist (is_mine=true) â†’ "DÃ¼zenle" ve "Sil" gÃ¶sterilir</span>
                        </label>
                        <label class="flex items-center gap-2 cursor-pointer hover:bg-slate-800 p-2 rounded">
                            <input type="checkbox" class="w-4 h-4">
                            <span>Playlist (is_mine=false) â†’ "Playlisti Kopyala" gÃ¶sterilir</span>
                        </label>
                        <label class="flex items-center gap-2 cursor-pointer hover:bg-slate-800 p-2 rounded">
                            <input type="checkbox" class="w-4 h-4">
                            <span>Genre/Sector/Radio/Artist kartlarÄ±nda test</span>
                        </label>
                        <label class="flex items-center gap-2 cursor-pointer hover:bg-slate-800 p-2 rounded">
                            <input type="checkbox" class="w-4 h-4">
                            <span>Mobile: Long-press (500ms) â†’ Context menu aÃ§Ä±lÄ±r</span>
                        </label>
                        <label class="flex items-center gap-2 cursor-pointer hover:bg-slate-800 p-2 rounded">
                            <input type="checkbox" class="w-4 h-4">
                            <span>Console'da hata yok</span>
                        </label>
                        <label class="flex items-center gap-2 cursor-pointer hover:bg-slate-800 p-2 rounded">
                            <input type="checkbox" class="w-4 h-4">
                            <span>Network tab'da gereksiz request yok</span>
                        </label>
                    </div>
                </div>
            </div>
        </div>

        <!-- SonuÃ§ -->
        <div class="bg-gradient-to-r from-green-900/30 to-blue-900/30 border-2 border-green-500 rounded-xl p-6">
            <h3 class="text-2xl font-bold text-green-400 mb-4 flex items-center gap-2">
                <i class="fas fa-flag-checkered"></i>
                SonuÃ§ ve Tavsiye
            </h3>
            <div class="space-y-4 text-slate-300">
                <p class="text-lg">
                    <strong class="text-white">Hybrid JavaScript yaklaÅŸÄ±mÄ±</strong> ile modÃ¼ler context menu sistemi kurulmasÄ± <strong class="text-green-400">ÅŸiddetle tavsiye edilir</strong>.
                </p>
                <p>
                    Bu refactor kÄ±sa vadede biraz efor gerektirecek (~2-3 saat), ancak uzun vadede:
                </p>
                <ul class="space-y-2 ml-6">
                    <li class="flex items-start gap-2">
                        <i class="fas fa-check text-green-500 mt-1"></i>
                        <span>Yeni menÃ¼ ekleme sÃ¼resi <strong>30 dakika â†’ 5 dakika</strong></span>
                    </li>
                    <li class="flex items-start gap-2">
                        <i class="fas fa-check text-green-500 mt-1"></i>
                        <span>MenÃ¼ dÃ¼zeltme sÃ¼resi <strong>20 dakika â†’ 2 dakika</strong></span>
                    </li>
                    <li class="flex items-start gap-2">
                        <i class="fas fa-check text-green-500 mt-1"></i>
                        <span>Bug fix sÃ¼resi <strong>1 saat â†’ 10 dakika</strong></span>
                    </li>
                    <li class="flex items-start gap-2">
                        <i class="fas fa-check text-green-500 mt-1"></i>
                        <span>Yeni geliÅŸtirici onboarding <strong>2 gÃ¼n â†’ 2 saat</strong></span>
                    </li>
                </ul>
                <p class="text-lg mt-4 font-bold text-green-400">
                    <i class="fas fa-thumbs-up mr-2"></i>
                    ROI (Return on Investment): YÃ¼ksek! Ä°lk 1 ay iÃ§inde kendini amorti eder.
                </p>
            </div>
        </div>

        <!-- Footer -->
        <footer class="mt-12 pt-6 border-t border-slate-700 text-center text-slate-500 text-sm">
            <p>ğŸ¤– Generated with Claude AI - Code Assistant</p>
            <p class="mt-2">Context Menu Refactor Planning Document</p>
        </footer>
    </div>
</body>
</html>
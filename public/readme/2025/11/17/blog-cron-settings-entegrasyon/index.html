<!DOCTYPE html>
<html lang="tr">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Blog AI Cron - Settings Entegrasyonu & Tenant-Aware Sistem</title>
    <style>
        * { margin: 0; padding: 0; box-sizing: border-box; }

        body {
            background: linear-gradient(135deg, #0f172a 0%, #1e293b 100%);
            color: #e2e8f0;
            font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', system-ui, sans-serif;
            line-height: 1.7;
            padding: 40px 20px;
        }

        .container {
            max-width: 1400px;
            margin: 0 auto;
        }

        header {
            margin-bottom: 50px;
            padding-bottom: 30px;
            border-bottom: 2px solid #334155;
        }

        h1 {
            font-size: 2.8rem;
            font-weight: 700;
            margin-bottom: 15px;
            background: linear-gradient(135deg, #60a5fa, #3b82f6, #8b5cf6);
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
        }

        .meta {
            color: #94a3b8;
            font-size: 0.95rem;
        }

        section {
            margin-bottom: 50px;
        }

        h2 {
            font-size: 2rem;
            margin-bottom: 30px;
            color: #60a5fa;
            display: flex;
            align-items: center;
            gap: 12px;
            padding-bottom: 15px;
            border-bottom: 2px solid #334155;
        }

        h3 {
            font-size: 1.5rem;
            margin: 35px 0 20px 0;
            color: #38bdf8;
        }

        h4 {
            font-size: 1.2rem;
            margin: 25px 0 15px 0;
            color: #7dd3fc;
        }

        .plan-item {
            background: rgba(30, 41, 59, 0.5);
            padding: 30px;
            margin-bottom: 20px;
            border-radius: 12px;
            border-left: 4px solid #3b82f6;
            backdrop-filter: blur(10px);
            transition: all 0.3s ease;
        }

        .plan-item:hover {
            transform: translateX(5px);
            background: rgba(30, 41, 59, 0.7);
        }

        .plan-item h4 {
            color: #60a5fa;
            margin-bottom: 15px;
            font-size: 1.3rem;
            margin-top: 0;
        }

        .plan-item p {
            color: #cbd5e1;
            line-height: 1.8;
            margin-bottom: 12px;
        }

        .plan-item ul {
            margin-left: 25px;
            margin-top: 12px;
        }

        .plan-item li {
            color: #cbd5e1;
            margin-bottom: 10px;
        }

        .tech-term {
            color: #fbbf24;
            font-weight: 500;
        }

        .code-block {
            background: #1e293b;
            border: 1px solid #334155;
            border-radius: 8px;
            padding: 20px;
            margin: 20px 0;
            font-family: 'Courier New', monospace;
            font-size: 0.9rem;
            color: #22d3ee;
            overflow-x: auto;
        }

        .warning-box {
            background: rgba(220, 38, 38, 0.1);
            border-left: 4px solid #dc2626;
            padding: 25px;
            margin: 25px 0;
            border-radius: 8px;
        }

        .warning-box h4 {
            color: #fca5a5;
            margin-bottom: 12px;
        }

        .success-box {
            background: rgba(16, 185, 129, 0.1);
            border-left: 4px solid #10b981;
            padding: 25px;
            margin: 25px 0;
            border-radius: 8px;
        }

        .success-box h4 {
            color: #6ee7b7;
            margin-bottom: 12px;
        }

        .info-box {
            background: rgba(59, 130, 246, 0.1);
            border-left: 4px solid #3b82f6;
            padding: 25px;
            margin: 25px 0;
            border-radius: 8px;
        }

        .info-box h4 {
            color: #93c5fd;
            margin-bottom: 12px;
        }

        .stats-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(250px, 1fr));
            gap: 20px;
            margin: 30px 0;
        }

        .stat-card {
            background: rgba(30, 41, 59, 0.5);
            padding: 25px;
            border-radius: 12px;
            text-align: center;
            border: 1px solid #334155;
            transition: all 0.3s ease;
        }

        .stat-card:hover {
            transform: translateY(-5px);
            box-shadow: 0 10px 30px rgba(59, 130, 246, 0.3);
        }

        .stat-card .value {
            font-size: 2.5rem;
            font-weight: 700;
            color: #60a5fa;
            margin-bottom: 10px;
        }

        .stat-card .label {
            color: #94a3b8;
            font-size: 0.95rem;
        }

        .comparison-table {
            width: 100%;
            margin: 30px 0;
            border-collapse: collapse;
            background: rgba(30, 41, 59, 0.3);
            border-radius: 12px;
            overflow: hidden;
        }

        .comparison-table th {
            background: rgba(51, 65, 85, 0.5);
            padding: 18px;
            text-align: left;
            color: #60a5fa;
            font-weight: 600;
            border-bottom: 2px solid #334155;
        }

        .comparison-table td {
            padding: 15px 18px;
            border-bottom: 1px solid #334155;
            color: #cbd5e1;
        }

        .comparison-table tr:hover {
            background: rgba(51, 65, 85, 0.3);
        }

        .formula-box {
            background: rgba(139, 92, 246, 0.1);
            border: 2px solid #8b5cf6;
            padding: 25px;
            margin: 25px 0;
            border-radius: 12px;
            text-align: center;
        }

        .formula-box .formula {
            font-size: 1.3rem;
            color: #c4b5fd;
            font-family: 'Courier New', monospace;
            margin: 15px 0;
            font-weight: 600;
        }

        .flow-step {
            display: flex;
            align-items: center;
            margin: 20px 0;
            padding: 20px;
            background: rgba(51, 65, 85, 0.5);
            border-radius: 8px;
        }

        .flow-step .number {
            background: #3b82f6;
            color: white;
            width: 45px;
            height: 45px;
            border-radius: 50%;
            display: flex;
            align-items: center;
            justify-content: center;
            font-weight: 700;
            margin-right: 20px;
            flex-shrink: 0;
            font-size: 1.2rem;
        }

        .flow-step .content {
            flex: 1;
        }

        .arrow {
            text-align: center;
            color: #60a5fa;
            font-size: 1.8rem;
            margin: 8px 0;
        }

        .settings-card {
            background: rgba(51, 65, 85, 0.3);
            padding: 20px;
            margin: 15px 0;
            border-radius: 10px;
            border-left: 3px solid #8b5cf6;
        }

        .settings-card .setting-name {
            font-weight: 600;
            color: #c4b5fd;
            margin-bottom: 8px;
            font-size: 1.1rem;
        }

        .settings-card .setting-key {
            font-family: 'Courier New', monospace;
            color: #fbbf24;
            font-size: 0.9rem;
            margin-bottom: 10px;
        }

        .settings-card .setting-desc {
            color: #cbd5e1;
            line-height: 1.6;
        }

        footer {
            margin-top: 80px;
            padding-top: 40px;
            border-top: 1px solid #334155;
            color: #64748b;
            font-size: 0.9rem;
            text-align: center;
        }

        .badge {
            display: inline-block;
            padding: 4px 12px;
            border-radius: 20px;
            font-size: 0.8rem;
            font-weight: 600;
            margin-left: 8px;
        }

        .badge-new { background: #10b981; color: white; }
        .badge-changed { background: #f59e0b; color: white; }
        .badge-critical { background: #dc2626; color: white; }
    </style>
</head>
<body>
    <div class="container">
        <header>
            <h1>ğŸ”„ Blog AI Cron - Settings Entegrasyonu & Tenant-Aware Sistem</h1>
            <div class="meta">
                ğŸ“… Tarih: 2025-11-17 01:55 |
                ğŸ¯ Tenant: Multi-Tenant (All) |
                ğŸ‘¤ Talep: Settings-based dynamic cron + tenant-aware frequency
            </div>
        </header>

        <section>
            <h2>ğŸ“‹ Mevcut Durum Analizi</h2>

            <div class="info-box">
                <h4>ğŸ” Åu Anki Cron Sistemi</h4>
                <ul style="margin-left: 20px; margin-top: 10px;">
                    <li style="margin-bottom: 10px; color: #cbd5e1;">
                        <strong>Frekans:</strong> Her saat baÅŸÄ± (hourly) - TÃ¼m tenant'lar iÃ§in aynÄ±
                    </li>
                    <li style="margin-bottom: 10px; color: #cbd5e1;">
                        <strong>Draft KontrolÃ¼:</strong> is_generated = false (kullanÄ±lmamÄ±ÅŸ draft'lar)
                    </li>
                    <li style="margin-bottom: 10px; color: #cbd5e1;">
                        <strong>Blog Ãœretimi:</strong> Rastgele 1 draft seÃ§ â†’ Blog job'u tetikle
                    </li>
                    <li style="margin-bottom: 10px; color: #cbd5e1;">
                        <strong>Auto-Publish:</strong> YOK - Her blog otomatik yayÄ±nlanÄ±yor
                    </li>
                    <li style="margin-bottom: 10px; color: #cbd5e1;">
                        <strong>Settings Entegrasyonu:</strong> YOK - Ayarlar kullanÄ±lmÄ±yor
                    </li>
                    <li style="margin-bottom: 10px; color: #cbd5e1;">
                        <strong>Tenant-Aware:</strong> KISMEN - Draft tenant DB'den alÄ±nÄ±yor ama frekans sabit
                    </li>
                </ul>
            </div>

            <div class="warning-box">
                <h4>âš ï¸ Sorunlar</h4>
                <ul style="margin-left: 20px; margin-top: 10px;">
                    <li style="margin-bottom: 10px; color: #fca5a5;">
                        <strong>Sabit Frekans:</strong> TÃ¼m tenant'lar saatte 1 blog alÄ±yor (gÃ¼nde 24)
                    </li>
                    <li style="margin-bottom: 10px; color: #fca5a5;">
                        <strong>Settings Yok sayÄ±lÄ±yor:</strong> blog_ai_enabled, blog_ai_daily_count, blog_ai_auto_publish kullanÄ±lmÄ±yor
                    </li>
                    <li style="margin-bottom: 10px; color: #fca5a5;">
                        <strong>Kontrol Yok:</strong> Tenant sistem pasif olsa bile Ã§alÄ±ÅŸÄ±yor
                    </li>
                    <li style="margin-bottom: 10px; color: #fca5a5;">
                        <strong>Esneklik Yok:</strong> GÃ¼nde 1, 5, 10, 100 blog gibi farklÄ± senaryolar yok
                    </li>
                </ul>
            </div>
        </section>

        <section>
            <h2>âš™ï¸ Settings Management YapÄ±sÄ±</h2>

            <h3>ğŸ—‚ï¸ VeritabanÄ± Modelleri</h3>

            <div class="plan-item">
                <h4>SettingGroup (Central DB)</h4>
                <p>Setting gruplarÄ± - TÃ¼m tenant'lar iÃ§in ortak tanÄ±mlar</p>
                <div class="code-block">
                    Tablo: settings_groups (Central DB)<br>
                    Ã–rnek: Blog - Yapay Zeka (ID: 18)<br>
                    Kolonlar: id, parent_id, name, slug, description, icon, layout (JSON)
                </div>
            </div>

            <div class="plan-item">
                <h4>Setting (Central DB)</h4>
                <p>Ayar tanÄ±mlarÄ± - Hangi ayarlar var, tipleri ne?</p>
                <div class="code-block">
                    Tablo: settings (Central DB)<br>
                    Kolonlar: id, group_id, label, key, type, default_value<br>
                    Ã–rnek: blog_ai_enabled (checkbox), blog_ai_daily_count (number)
                </div>
            </div>

            <div class="plan-item">
                <h4>SettingValue (Tenant DB)</h4>
                <p>Ayar deÄŸerleri - Her tenant'Ä±n kendi ayar deÄŸerleri</p>
                <div class="code-block">
                    Tablo: settings_values (Tenant DB - tenant_2_db, tenant_3_db vb.)<br>
                    Kolonlar: id, setting_id, value<br>
                    Ã–rnek: setting_id=130, value=1 (blog_ai_enabled=true)
                </div>
            </div>

            <h3>ğŸ“Š Blog AI Settings (Group ID: 18)</h3>

            <div class="settings-card">
                <div class="setting-name">âœ… Blog AI Sistemi Aktif</div>
                <div class="setting-key">blog_ai_enabled</div>
                <div class="setting-desc">
                    <strong>Tip:</strong> Checkbox (boolean)<br>
                    <strong>VarsayÄ±lan:</strong> false<br>
                    <strong>KullanÄ±m:</strong> Sistem kapalÄ±ysa cron Ã§alÄ±ÅŸmayacak
                </div>
            </div>

            <div class="settings-card">
                <div class="setting-name">ğŸ“Š GÃ¼nlÃ¼k Blog SayÄ±sÄ±</div>
                <div class="setting-key">blog_ai_daily_count</div>
                <div class="setting-desc">
                    <strong>Tip:</strong> Number (1-100 arasÄ±)<br>
                    <strong>VarsayÄ±lan:</strong> 24<br>
                    <strong>KullanÄ±m:</strong> Bu sayÄ±ya gÃ¶re frekans hesaplanacak
                </div>
            </div>

            <div class="settings-card">
                <div class="setting-name">ğŸš€ Otomatik YayÄ±nlama</div>
                <div class="setting-key">blog_ai_auto_publish</div>
                <div class="setting-desc">
                    <strong>Tip:</strong> Checkbox (boolean)<br>
                    <strong>VarsayÄ±lan:</strong> true<br>
                    <strong>KullanÄ±m:</strong> false ise blog draft olarak kaydedilecek
                </div>
            </div>

            <div class="settings-card">
                <div class="setting-name">ğŸ¯ Konu KaynaÄŸÄ±</div>
                <div class="setting-key">blog_ai_topic_source</div>
                <div class="setting-desc">
                    <strong>Tip:</strong> Select (manuel | otomatik | karma)<br>
                    <strong>KullanÄ±m:</strong> Draft Ã¼retim stratejisini belirler
                </div>
            </div>

            <div class="settings-card">
                <div class="setting-name">ğŸ“ Manuel Konu Listesi</div>
                <div class="setting-key">blog_ai_manual_topics</div>
                <div class="setting-desc">
                    <strong>Tip:</strong> Textarea (Ã§ok satÄ±rlÄ±)<br>
                    <strong>KullanÄ±m:</strong> Her satÄ±r bir ana konu - sistem geniÅŸletir
                </div>
            </div>

            <div class="settings-card">
                <div class="setting-name">ğŸ‘” Sadece Profesyonel Stil</div>
                <div class="setting-key">blog_ai_professional_only</div>
                <div class="setting-desc">
                    <strong>Tip:</strong> Checkbox (boolean)<br>
                    <strong>KullanÄ±m:</strong> true ise sadece profesyonel/uzman ton kullanÄ±lÄ±r (B2B)
                </div>
            </div>
        </section>

        <section>
            <h2>ğŸ¯ Yeni Sistem Mimarisi</h2>

            <div class="success-box">
                <h4>âœ¨ Hedefler</h4>
                <ul style="margin-left: 20px; margin-top: 10px;">
                    <li style="margin-bottom: 10px; color: #6ee7b7;">
                        <strong>Settings-Driven:</strong> TÃ¼m ayarlar settings'den okunacak
                    </li>
                    <li style="margin-bottom: 10px; color: #6ee7b7;">
                        <strong>Tenant-Aware:</strong> Her tenant farklÄ± frekans ve ayarlara sahip
                    </li>
                    <li style="margin-bottom: 10px; color: #6ee7b7;">
                        <strong>Dinamik Frekans:</strong> GÃ¼nlÃ¼k blog sayÄ±sÄ±na gÃ¶re otomatik hesaplama
                    </li>
                    <li style="margin-bottom: 10px; color: #6ee7b7;">
                        <strong>Auto-Publish Control:</strong> Ayara gÃ¶re published/draft olarak kaydetme
                    </li>
                    <li style="margin-bottom: 10px; color: #6ee7b7;">
                        <strong>Enable/Disable:</strong> Tenant istediÄŸi zaman sistemi pasif yapabilir
                    </li>
                </ul>
            </div>

            <h3>ğŸ”„ Yeni Cron AkÄ±ÅŸÄ±</h3>

            <div class="flow-step">
                <div class="number">1</div>
                <div class="content">
                    <strong>Schedule Check - Her Dakika</strong><br>
                    Laravel scheduler her dakika Ã§alÄ±ÅŸÄ±r (cron: * * * * *)
                </div>
            </div>

            <div class="arrow">â†“</div>

            <div class="flow-step">
                <div class="number">2</div>
                <div class="content">
                    <strong>Tenant Loop - TÃ¼m Aktif Tenant'larÄ± Tara</strong><br>
                    Her tenant iÃ§in ayrÄ± ayrÄ± kontrol yap
                </div>
            </div>

            <div class="arrow">â†“</div>

            <div class="flow-step">
                <div class="number">3</div>
                <div class="content">
                    <strong>Settings Check - Tenant AyarlarÄ±</strong><br>
                    â€¢ blog_ai_enabled = true mÄ±?<br>
                    â€¢ blog_ai_daily_count kaÃ§?<br>
                    â€¢ blog_ai_auto_publish aktif mi?
                </div>
            </div>

            <div class="arrow">â†“</div>

            <div class="flow-step">
                <div class="number">4</div>
                <div class="content">
                    <strong>Frekans Hesaplama - Dinamik</strong><br>
                    GÃ¼nlÃ¼k blog sayÄ±sÄ±na gÃ¶re ne kadar sÄ±klÄ±kla Ã§alÄ±ÅŸacaÄŸÄ±nÄ± hesapla<br>
                    FormÃ¼l: 24 saat / daily_count = saat aralÄ±ÄŸÄ±
                </div>
            </div>

            <div class="arrow">â†“</div>

            <div class="flow-step">
                <div class="number">5</div>
                <div class="content">
                    <strong>Time Check - Åimdi SÄ±rasÄ± mÄ±?</strong><br>
                    Son Ã§alÄ±ÅŸtÄ±rma zamanÄ± + frekans >= ÅŸimdi â†’ Blog Ã¼ret<br>
                    DeÄŸilse â†’ Skip (bir sonraki tenant'a geÃ§)
                </div>
            </div>

            <div class="arrow">â†“</div>

            <div class="flow-step">
                <div class="number">6</div>
                <div class="content">
                    <strong>Blog Generation - Tenant Context</strong><br>
                    Tenant context'ine geÃ§ â†’ Draft seÃ§ â†’ Blog Ã¼ret â†’ Auto-publish ayarÄ±na gÃ¶re kaydet
                </div>
            </div>

            <div class="arrow">â†“</div>

            <div class="flow-step">
                <div class="number">7</div>
                <div class="content">
                    <strong>Log & Next - Kaydet ve Devam</strong><br>
                    Son Ã§alÄ±ÅŸma zamanÄ±nÄ± gÃ¼ncelle â†’ Bir sonraki tenant'a geÃ§
                </div>
            </div>
        </section>

        <section>
            <h2>ğŸ“ Dinamik Frekans Hesaplama</h2>

            <div class="formula-box">
                <h4 style="color: #c4b5fd; margin-bottom: 15px;">Temel FormÃ¼l</h4>
                <div class="formula">
                    saat_aralÄ±ÄŸÄ± = 24 / gÃ¼nlÃ¼k_blog_sayÄ±sÄ±
                </div>
                <p style="color: #94a3b8; margin-top: 10px;">
                    Dakika olarak: saat_aralÄ±ÄŸÄ± Ã— 60
                </p>
            </div>

            <h3>ğŸ“Š Frekans Tablosu</h3>

            <table class="comparison-table">
                <thead>
                    <tr>
                        <th>GÃ¼nlÃ¼k Blog</th>
                        <th>Saat AralÄ±ÄŸÄ±</th>
                        <th>Dakika AralÄ±ÄŸÄ±</th>
                        <th>Cron MantÄ±ÄŸÄ±</th>
                        <th>Ã–rnek Saatler</th>
                    </tr>
                </thead>
                <tbody>
                    <tr>
                        <td><strong>1 blog</strong></td>
                        <td>24.0 saat</td>
                        <td>1440 dakika</td>
                        <td>GÃ¼nde 1 kez (gÃ¼nlÃ¼k)</td>
                        <td>00:00</td>
                    </tr>
                    <tr>
                        <td><strong>2 blog</strong></td>
                        <td>12.0 saat</td>
                        <td>720 dakika</td>
                        <td>12 saatte bir</td>
                        <td>00:00, 12:00</td>
                    </tr>
                    <tr>
                        <td><strong>3 blog</strong></td>
                        <td>8.0 saat</td>
                        <td>480 dakika</td>
                        <td>8 saatte bir</td>
                        <td>00:00, 08:00, 16:00</td>
                    </tr>
                    <tr>
                        <td><strong>4 blog</strong></td>
                        <td>6.0 saat</td>
                        <td>360 dakika</td>
                        <td>6 saatte bir</td>
                        <td>00:00, 06:00, 12:00, 18:00</td>
                    </tr>
                    <tr>
                        <td><strong>5 blog</strong></td>
                        <td>4.8 saat</td>
                        <td>288 dakika</td>
                        <td>~4.8 saatte bir</td>
                        <td>00:00, 04:48, 09:36, 14:24, 19:12</td>
                    </tr>
                    <tr>
                        <td><strong>10 blog</strong></td>
                        <td>2.4 saat</td>
                        <td>144 dakika</td>
                        <td>~2.4 saatte bir</td>
                        <td>Her 144 dakikada</td>
                    </tr>
                    <tr>
                        <td><strong>24 blog</strong></td>
                        <td>1.0 saat</td>
                        <td>60 dakika</td>
                        <td>Saatte bir (hourly)</td>
                        <td>Her saat baÅŸÄ±</td>
                    </tr>
                    <tr>
                        <td><strong>48 blog</strong></td>
                        <td>0.5 saat</td>
                        <td>30 dakika</td>
                        <td>30 dakikada bir</td>
                        <td>Her yarÄ±m saatte</td>
                    </tr>
                    <tr>
                        <td><strong>100 blog</strong></td>
                        <td>0.24 saat</td>
                        <td>14.4 dakika</td>
                        <td>~14 dakikada bir</td>
                        <td>SÃ¼rekli (her 14 dk)</td>
                    </tr>
                </tbody>
            </table>

            <div class="info-box">
                <h4>ğŸ’¡ Algoritma MantÄ±ÄŸÄ±</h4>
                <p style="color: #cbd5e1; line-height: 1.8;">
                    Sistem her dakika Ã§alÄ±ÅŸÄ±r ama her tenant iÃ§in <strong>son blog Ã¼retim zamanÄ±nÄ±</strong> kontrol eder.
                    EÄŸer <code style="color: #fbbf24;">(ÅŸimdiki_zaman - son_Ã¼retim_zamanÄ±) >= saat_aralÄ±ÄŸÄ±</code> ise blog Ã¼retir.
                </p>
                <p style="color: #cbd5e1; line-height: 1.8; margin-top: 10px;">
                    <strong>Ã–rnek:</strong><br>
                    â€¢ Tenant 2: daily_count = 24 â†’ Her saat baÅŸÄ±<br>
                    â€¢ Tenant 3: daily_count = 1 â†’ GÃ¼nde 1 kez (her gÃ¼n 00:00'da)<br>
                    â€¢ Tenant 4: daily_count = 5 â†’ Her 4.8 saatte<br>
                    â€¢ Tenant 5: daily_count = 100 â†’ Her 14 dakikada
                </p>
            </div>
        </section>

        <section>
            <h2>ğŸ› ï¸ Ä°mplementasyon YapÄ±sÄ±</h2>

            <h3>1ï¸âƒ£ Helper Function - Setting DeÄŸer Ã‡ekme</h3>

            <div class="plan-item">
                <h4>getTenantSetting() - Tenant-aware setting helper</h4>
                <p><strong>AmaÃ§:</strong> Tenant context'ine gÃ¶re setting value Ã§ekmek</p>
                <div class="code-block">
                    Function: getTenantSetting(key, default = null)<br>
                    <br>
                    MantÄ±k:<br>
                    1. Tenant context'e geÃ§ (tenancy()->initialize())<br>
                    2. Setting model'i bul (key ile)<br>
                    3. SettingValue'yu tenant DB'den Ã§ek<br>
                    4. DeÄŸer varsa dÃ¶ndÃ¼r, yoksa default_value kullan<br>
                    5. Return value
                </div>
                <p style="margin-top: 15px;"><strong>KullanÄ±m Ã–rnekleri:</strong></p>
                <ul>
                    <li>getTenantSetting('blog_ai_enabled') â†’ true/false</li>
                    <li>getTenantSetting('blog_ai_daily_count', 24) â†’ 1-100 arasÄ± sayÄ±</li>
                    <li>getTenantSetting('blog_ai_auto_publish', true) â†’ true/false</li>
                </ul>
            </div>

            <h3>2ï¸âƒ£ Cron Command - GenerateHourlyBlog GÃ¼ncellemesi</h3>

            <div class="plan-item">
                <h4>Yeni Command: GenerateTenantBlogs <span class="badge badge-new">YENÄ°</span></h4>
                <p><strong>DeÄŸiÅŸiklikler:</strong></p>
                <ul>
                    <li><strong>Tenant Loop:</strong> TÃ¼m aktif tenant'larÄ± dÃ¶ngÃ¼ye al</li>
                    <li><strong>Settings Check:</strong> Her tenant iÃ§in blog_ai_enabled kontrol et</li>
                    <li><strong>Frekans Hesapla:</strong> daily_count'a gÃ¶re ne zaman Ã§alÄ±ÅŸacaÄŸÄ±nÄ± hesapla</li>
                    <li><strong>Time Check:</strong> Son Ã§alÄ±ÅŸma zamanÄ±nÄ± kontrol et (cache/DB)</li>
                    <li><strong>Blog Ãœret:</strong> SÄ±rasÄ± gelmiÅŸse blog Ã¼ret</li>
                    <li><strong>Auto-Publish:</strong> blog_ai_auto_publish ayarÄ±na gÃ¶re published/draft kaydet</li>
                </ul>
            </div>

            <h3>3ï¸âƒ£ Kernel.php Schedule - Dakika BazlÄ± Ã‡alÄ±ÅŸtÄ±rma</h3>

            <div class="plan-item">
                <h4>Schedule DeÄŸiÅŸikliÄŸi <span class="badge badge-changed">DEÄÄ°ÅTÄ°</span></h4>
                <div class="code-block">
                    ESKÄ°: ->hourly() (her saat baÅŸÄ±)<br>
                    YENÄ°: ->everyMinute() (her dakika)<br>
                    <br>
                    Neden?<br>
                    FarklÄ± tenant'lar farklÄ± frekanslarda Ã§alÄ±ÅŸabilsin:<br>
                    â€¢ Tenant A: Her 14 dakika (100 blog/gÃ¼n)<br>
                    â€¢ Tenant B: Her 4.8 saat (5 blog/gÃ¼n)<br>
                    â€¢ Tenant C: GÃ¼nde 1 kez (1 blog/gÃ¼n)
                </div>
                <p style="margin-top: 15px; color: #fbbf24;"><strong>âš ï¸ Not:</strong> Command iÃ§inde kendi frekans kontrolÃ¼ yapar, gereksiz yere tÃ¼m tenant'lara blog Ã¼retmez.</p>
            </div>

            <h3>4ï¸âƒ£ GenerateBlogFromDraftJob - Publish Logic</h3>

            <div class="plan-item">
                <h4>Auto-Publish DesteÄŸi <span class="badge badge-new">YENÄ°</span></h4>
                <p><strong>DeÄŸiÅŸiklik:</strong> Job'a auto_publish parametresi eklenecek</p>
                <div class="code-block">
                    Job::dispatch(draft_id, auto_publish)<br>
                    <br>
                    MantÄ±k:<br>
                    â€¢ auto_publish = true â†’ Blog::create([...., 'status' => 'published'])<br>
                    â€¢ auto_publish = false â†’ Blog::create([...., 'status' => 'draft'])<br>
                    <br>
                    Avantaj:<br>
                    Tenant blog Ã¼retsin ama manuel kontrol edip yayÄ±nlamak isteyebilir
                </div>
            </div>

            <h3>5ï¸âƒ£ Cache/DB - Son Ã‡alÄ±ÅŸma ZamanÄ± Takibi</h3>

            <div class="plan-item">
                <h4>Tracking System <span class="badge badge-new">YENÄ°</span></h4>
                <p><strong>AmaÃ§:</strong> Her tenant iÃ§in son blog Ã¼retim zamanÄ±nÄ± saklamak</p>
                <div class="code-block">
                    YÃ¶ntem 1: Cache (HÄ±zlÄ±)<br>
                    Cache::put("blog_cron_last_run_tenant_{$tenantId}", now(), 86400);<br>
                    $lastRun = Cache::get("blog_cron_last_run_tenant_{$tenantId}");<br>
                    <br>
                    YÃ¶ntem 2: Database (Persistent)<br>
                    Tablo: blog_cron_tracking<br>
                    Kolonlar: tenant_id, last_run_at, daily_count, next_run_at<br>
                    <br>
                    Ã–nerilen: Cache + DB (cache hÄ±zlÄ±, DB backup)
                </div>
            </div>
        </section>

        <section>
            <h2>ğŸ¬ FarklÄ± Tenant SenaryolarÄ±</h2>

            <h3>ğŸ“‹ Senaryo 1: Tenant 2 (ixtif.com) - Saatte 1 Blog</h3>
            <div class="plan-item">
                <h4>Ayarlar</h4>
                <ul>
                    <li>blog_ai_enabled = <strong>true</strong></li>
                    <li>blog_ai_daily_count = <strong>24</strong></li>
                    <li>blog_ai_auto_publish = <strong>true</strong></li>
                </ul>
                <p style="margin-top: 15px;"><strong>Ã‡alÄ±ÅŸma MantÄ±ÄŸÄ±:</strong></p>
                <p>
                    24 / 24 = 1 saat aralÄ±k â†’ Her saat baÅŸÄ± blog Ã¼ret<br>
                    00:00, 01:00, 02:00, ..., 23:00 â†’ 24 blog/gÃ¼n<br>
                    Direkt yayÄ±nla (published)
                </p>
            </div>

            <h3>ğŸ“‹ Senaryo 2: Tenant 3 - GÃ¼nde 1 Blog</h3>
            <div class="plan-item">
                <h4>Ayarlar</h4>
                <ul>
                    <li>blog_ai_enabled = <strong>true</strong></li>
                    <li>blog_ai_daily_count = <strong>1</strong></li>
                    <li>blog_ai_auto_publish = <strong>false</strong></li>
                </ul>
                <p style="margin-top: 15px;"><strong>Ã‡alÄ±ÅŸma MantÄ±ÄŸÄ±:</strong></p>
                <p>
                    24 / 1 = 24 saat aralÄ±k â†’ GÃ¼nde 1 kez blog Ã¼ret<br>
                    Her gÃ¼n 00:00'da â†’ 1 blog/gÃ¼n<br>
                    Draft olarak kaydet (admin manuel yayÄ±nlar)
                </p>
            </div>

            <h3>ğŸ“‹ Senaryo 3: Tenant 4 - GÃ¼nde 5 Blog</h3>
            <div class="plan-item">
                <h4>Ayarlar</h4>
                <ul>
                    <li>blog_ai_enabled = <strong>true</strong></li>
                    <li>blog_ai_daily_count = <strong>5</strong></li>
                    <li>blog_ai_auto_publish = <strong>true</strong></li>
                </ul>
                <p style="margin-top: 15px;"><strong>Ã‡alÄ±ÅŸma MantÄ±ÄŸÄ±:</strong></p>
                <p>
                    24 / 5 = 4.8 saat aralÄ±k â†’ Her 4 saat 48 dakikada 1 blog<br>
                    00:00, 04:48, 09:36, 14:24, 19:12 â†’ 5 blog/gÃ¼n<br>
                    Direkt yayÄ±nla (published)
                </p>
            </div>

            <h3>ğŸ“‹ Senaryo 4: Tenant 5 - GÃ¼nde 100 Blog (Agresif)</h3>
            <div class="plan-item">
                <h4>Ayarlar</h4>
                <ul>
                    <li>blog_ai_enabled = <strong>true</strong></li>
                    <li>blog_ai_daily_count = <strong>100</strong></li>
                    <li>blog_ai_auto_publish = <strong>true</strong></li>
                </ul>
                <p style="margin-top: 15px;"><strong>Ã‡alÄ±ÅŸma MantÄ±ÄŸÄ±:</strong></p>
                <p>
                    24 / 100 = 0.24 saat = 14.4 dakika aralÄ±k â†’ Her ~14 dakikada 1 blog<br>
                    SÃ¼rekli blog Ã¼retimi â†’ 100 blog/gÃ¼n<br>
                    Direkt yayÄ±nla (published)
                </p>
                <p style="color: #fbbf24; margin-top: 10px;">
                    <strong>âš ï¸ UyarÄ±:</strong> OpenAI rate limit ve queue kapasitesi gÃ¶z Ã¶nÃ¼nde bulundurulmalÄ±!
                </p>
            </div>

            <h3>ğŸ“‹ Senaryo 5: Tenant 6 - Sistem Pasif</h3>
            <div class="plan-item">
                <h4>Ayarlar</h4>
                <ul>
                    <li>blog_ai_enabled = <strong>false</strong> ğŸ”´</li>
                    <li>blog_ai_daily_count = 10 (Ã¶nemsiz)</li>
                    <li>blog_ai_auto_publish = true (Ã¶nemsiz)</li>
                </ul>
                <p style="margin-top: 15px;"><strong>Ã‡alÄ±ÅŸma MantÄ±ÄŸÄ±:</strong></p>
                <p>
                    blog_ai_enabled = false â†’ Cron bu tenant'Ä± <strong>ATLA</strong><br>
                    HiÃ§ blog Ã¼retilmez â†’ 0 blog/gÃ¼n<br>
                    Tenant istediÄŸi zaman sistemi kapatabilir
                </p>
            </div>
        </section>

        <section>
            <h2>ğŸ“Š Beklenen SonuÃ§lar</h2>

            <div class="stats-grid">
                <div class="stat-card">
                    <div class="value">âˆ</div>
                    <div class="label">Tenant EsnekliÄŸi</div>
                </div>
                <div class="stat-card">
                    <div class="value">1-100</div>
                    <div class="label">GÃ¼nlÃ¼k Blog AralÄ±ÄŸÄ±</div>
                </div>
                <div class="stat-card">
                    <div class="value">100%</div>
                    <div class="label">Settings-Driven</div>
                </div>
                <div class="stat-card">
                    <div class="value">0</div>
                    <div class="label">Manuel MÃ¼dahale</div>
                </div>
            </div>

            <div class="success-box">
                <h4>âœ… BaÅŸarÄ± Kriterleri</h4>
                <ul style="margin-left: 20px; margin-top: 10px;">
                    <li style="margin-bottom: 10px; color: #6ee7b7;">
                        Her tenant kendi ayarlarÄ±na gÃ¶re Ã§alÄ±ÅŸacak
                    </li>
                    <li style="margin-bottom: 10px; color: #6ee7b7;">
                        GÃ¼nlÃ¼k blog sayÄ±sÄ± dinamik olarak ayarlanabilecek (1-100)
                    </li>
                    <li style="margin-bottom: 10px; color: #6ee7b7;">
                        Otomatik yayÄ±nlama/draft kontrolÃ¼ tenant'a bÄ±rakÄ±lacak
                    </li>
                    <li style="margin-bottom: 10px; color: #6ee7b7;">
                        Tenant sistemi istediÄŸi zaman pasif yapabilecek
                    </li>
                    <li style="margin-bottom: 10px; color: #6ee7b7;">
                        FarklÄ± sektÃ¶rler farklÄ± stratejiler uygulayabilecek
                    </li>
                    <li style="margin-bottom: 10px; color: #6ee7b7;">
                        Sistem tamamen self-service olacak (admin panel'den ayarlama)
                    </li>
                </ul>
            </div>
        </section>

        <section>
            <h2>ğŸ¯ Sonraki AdÄ±mlar</h2>

            <div class="plan-item">
                <h4>1. Helper Function OluÅŸturma</h4>
                <p>getTenantSetting() helper'Ä± implement et</p>
                <p><strong>Dosya:</strong> app/Helpers/setting_helpers.php veya mevcut helper dosyasÄ±na ekle</p>
            </div>

            <div class="plan-item">
                <h4>2. Cron Command GÃ¼ncelleme</h4>
                <p>GenerateHourlyBlog â†’ GenerateTenantBlogs olarak yeniden yaz</p>
                <p><strong>DeÄŸiÅŸiklikler:</strong> Tenant loop, settings check, dynamic frequency, time tracking</p>
            </div>

            <div class="plan-item">
                <h4>3. Kernel Schedule GÃ¼ncelleme</h4>
                <p>->hourly() â†’ ->everyMinute() olarak deÄŸiÅŸtir</p>
                <p><strong>Not:</strong> Command iÃ§inde kendi frekans kontrolÃ¼ olacaÄŸÄ± iÃ§in sorun yok</p>
            </div>

            <div class="plan-item">
                <h4>4. Blog Generation Job GÃ¼ncelleme</h4>
                <p>GenerateBlogFromDraftJob'a auto_publish parametresi ekle</p>
                <p><strong>DeÄŸiÅŸiklik:</strong> Status'u ayara gÃ¶re belirle (published/draft)</p>
            </div>

            <div class="plan-item">
                <h4>5. Tracking System Kurulumu</h4>
                <p>Her tenant iÃ§in son Ã§alÄ±ÅŸma zamanÄ± cache/DB'ye kaydet</p>
                <p><strong>YÃ¶ntem:</strong> Cache (hÄ±zlÄ±) + DB (persistent) kombinasyonu</p>
            </div>

            <div class="plan-item">
                <h4>6. Test & Monitoring</h4>
                <p>FarklÄ± tenant senaryolarÄ±nÄ± test et, log ve monitoring sistemi kur</p>
                <p><strong>Kontrol:</strong> Her tenant'Ä±n ayarlarÄ± doÄŸru Ã§alÄ±ÅŸÄ±yor mu?</p>
            </div>
        </section>

        <footer>
            ğŸ¤– Claude AI tarafÄ±ndan oluÅŸturuldu - Blog AI Cron Settings Entegrasyonu & Tenant-Aware Dinamik Sistem TasarÄ±mÄ±
        </footer>
    </div>
</body>
</html>

/*! grapesjs-tabs - 1.0.17 */
!function(t,e){'object'==typeof exports&&'object'==typeof module?module.exports=e():'function'==typeof define&&define.amd?define([],e):'object'==typeof exports?exports["grapesjs-tabs"]=e():t["grapesjs-tabs"]=e()}('undefined'!=typeof globalThis?globalThis:'undefined'!=typeof window?window:this,(()=>(()=>{"use strict";var t={d:(e,n)=>{for(var a in n)t.o(n,a)&&!t.o(e,a)&&Object.defineProperty(e,a,{enumerable:!0,get:n[a]})},o:(t,e)=>Object.prototype.hasOwnProperty.call(t,e),r:t=>{'undefined'!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:'Module'}),Object.defineProperty(t,'__esModule',{value:!0})}},e={};t.r(e),t.d(e,{default:()=>v});var n=function(t){return"\n  .".concat(t.classTab," {\n    padding: 7px 14px;\n    display: inline-block;\n    border-radius: 3px;\n    margin-right: 10px;\n  }\n\n  .").concat(t.classTab,":focus {\n    outline: none;\n  }\n\n  .").concat(t.classTab,".").concat(t.classTabActive," {\n    background-color: #0d94e6;\n    color: white;\n  }\n\n  .").concat(t.classTabContainer," {\n    display: inline-block;\n  }\n\n  .").concat(t.classTabContent," {\n    animation: fadeEffect 1s;\n  }\n\n  .").concat(t.classTabContents," {\n    min-height: 100px;\n    padding: 10px;\n  }\n\n  @keyframes fadeEffect {\n    from {opacity: 0;}\n    to {opacity: 1;}\n  }\n")},a=function(t,e){if(t)return'function'==typeof t?t(e):t};const o={tabsBlock:{},tabsProps:{},tabContainerProps:{},tabProps:{},tabContentProps:{},tabContentsProps:{},classTab:'tab',classTabContainer:'tab-container',classTabActive:'tab-active',classTabContent:'tab-content',classTabContents:'tab-contents',selectorTab:'aria-controls',typeTabs:'tabs',typeTabContainer:'tab-container',typeTab:'tab',typeTabContent:'tab-content',typeTabContents:'tab-contents',templateTab:function(t){var e=t.index;return"<span data-gjs-highlightable=\"false\">Tab ".concat(e,"</span>")},templateTabContent:function(t){var e=t.index;return"<div>Tab Content ".concat(e,"</div>")},style:n};var r=void 0&&(void 0).__assign||function(){return r=Object.assign||function(t){for(var e,n=1,a=arguments.length;n<a;n++)for(var o in e=arguments[n])Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o]);return t},r.apply(this,arguments)},i=void 0&&(void 0).__spreadArray||function(t,e,n){if(n||2===arguments.length)for(var a,o=0,r=e.length;o<r;o++)!a&&o in e||(a||(a=Array.prototype.slice.call(e,0,o)),a[o]=e[o]);return t.concat(a||Array.prototype.slice.call(e))};var s=void 0&&(void 0).__assign||function(){return s=Object.assign||function(t){for(var e,n=1,a=arguments.length;n<a;n++)for(var o in e=arguments[n])Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o]);return t},s.apply(this,arguments)};var c=void 0&&(void 0).__assign||function(){return c=Object.assign||function(t){for(var e,n=1,a=arguments.length;n<a;n++)for(var o in e=arguments[n])Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o]);return t},c.apply(this,arguments)},l='tabpanel';var p=void 0&&(void 0).__assign||function(){return p=Object.assign||function(t){for(var e,n=1,a=arguments.length;n<a;n++)for(var o in e=arguments[n])Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o]);return t},p.apply(this,arguments)};var b=void 0&&(void 0).__assign||function(){return b=Object.assign||function(t){for(var e,n=1,a=arguments.length;n<a;n++)for(var o in e=arguments[n])Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o]);return t},b.apply(this,arguments)},d='tablist';var u=void 0&&(void 0).__assign||function(){return u=Object.assign||function(t){for(var e,n=1,a=arguments.length;n<a;n++)for(var o in e=arguments[n])Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o]);return t},u.apply(this,arguments)},f=[function(t,e){t.Components.addType(e.typeTabContainer,{model:{defaults:b({name:'Tab Container',draggable:"[data-gjs-type=\"".concat(e.typeTabs,"\"]"),droppable:"[data-gjs-type=\"".concat(e.typeTab,"\"]"),copyable:!1,removable:!1,highlightable:!1,attributes:{role:d},classes:e.classTabContainer},e.tabContainerProps)}})},function(t,e){t.Components.addType(e.typeTabContent,{model:{defaults:c({name:'Tab Content',draggable:!1,copyable:!1,removable:!1,highlightable:!1,attributes:{role:l},classes:e.classTabContent,traits:[]},e.tabContentProps)}})},function(t,e){t.Components.addType(e.typeTabContents,{model:{defaults:p({name:'Tab Contents',draggable:!1,droppable:!1,copyable:!1,removable:!1,classes:e.classTabContents},e.tabContentsProps)}})},function(t,e){var n=t.Components,o='data-prev',s=function(t){return t.getAttributes()[o]},c=t.DomComponents.getType('default').model;n.addType(e.typeTab,{model:{defaults:r({name:'Tab',tagName:'div',draggable:"[data-gjs-type=\"".concat(e.typeTabContainer,"\"]"),droppable:!1,attributes:{role:'tab'},classes:[e.classTab],traits:[{type:'button',label:!1,text:'Style Active',full:!0,command:function(t){t.StyleManager.select(".".concat(e.classTab,".").concat(e.classTabActive))}}]},e.tabProps),init:function(){this.on('removed',this.__onRemove)},__initTab:function(t){var n,r;if(!this.tabContent){var i=this.getTabContent();if(i&&s(i)){var c=i.getId(),l=this.getId();i.addAttributes({id:c,'aria-labelledby':l,hidden:!0}),i.removeAttributes(o),this.addAttributes(((n={})[e.selectorTab]=c,n.id=l,n))}if(!i){c=(i=this.getTabsType().getContentsType().append({type:e.typeTabContent,components:a(e.templateTabContent,{index:t})})[0]).getId(),l=this.getId();i.addAttributes({id:c,'aria-labelledby':l,hidden:!0}),this.addAttributes(((r={})[e.selectorTab]=c,r.id=l,r)),this.tabContent=i}this.tabContent=i}},__onRemove:function(){var t=this.getTabContent();t&&t.remove(),this.getTabsType().trigger('rerender')},getTabsType:function(){return this.closestType(e.typeTabs)},getTabContent:function(){var t=this.getAttributes()[e.selectorTab],n=this.getTabsType();if(n&&t)return n.findContents().filter((function(e){return e.getId()==t||s(e)==t}))[0]},clone:function(t){var n,a;void 0===t&&(t={});for(var r=[],s=1;s<arguments.length;s++)r[s-1]=arguments[s];var l=t._inner;if(l){var p=this.getTabContent();p&&p.addAttributes(((n={})[o]=p.getId(),n))}var b=c.prototype.clone.apply(this,i([t],r,!0));return l||b.addAttributes(((a={})[e.selectorTab]='',a)),b}}})},function(t,e){var n=t.Components,o=e.style?e.style(e):'',r=[1,2,3].map((function(t){return{type:e.typeTab,components:a(e.templateTab,{index:t})}}));n.addType(e.typeTabs,{model:{defaults:s({name:'Tabs',classactive:e.classTabActive,selectortab:e.selectorTab,'script-props':['classactive','selectortab'],script:function(t){var e,n,a=this,o=t.classactive,r=t.selectortab,i=window.history,s=window._isEditor,c='ariaSelected',l='[role=tab]',p='[role=tabpanel]',b=document.body,d=document.location,u=b.matches||b.webkitMatchesSelector||b.mozMatchesSelector||b.msMatchesSelector,f=function(t,e){Array.from(t).forEach(e)},y=function(t){return t.getAttribute(r)||''},T=function(t,e){return t.querySelector(e)},v=function(){return a.querySelectorAll(l)},h=function(t,e){s||(t.tabIndex=parseInt(e))},g=function(t){f(v(),(function(t){t.className=t.className.replace(o,'').trim(),t.setAttribute(c,'false'),h(t,'-1')})),f(a.querySelectorAll(p),(function(t){t.hidden=!0})),t.className+=' '+o,t.setAttribute(c,'true'),h(t,'0');var e=y(t),n=e&&T(a,"#".concat(e));n&&(n.hidden=!1)},m=T(a,".".concat(o).concat(l));(m=m||((n=(d.hash||'').replace('#',''))?T(a,(e=r,"".concat(l,"[").concat(e,"=").concat(n,"]"))):null)||T(a,l))&&g(m),a.addEventListener('click',(function(t){var e=t.target;if(e){var n=u.call(e,l);if(!n){var a=function(t){return Array.from(v()).find((function(e){return e.contains(t)}))}(e);a&&(e=a,n=!0)}if(n&&!t.__trg&&e.className.indexOf(o)<0){t.preventDefault(),t.__trg=1,g(e);var r=y(e);try{null==i||i.pushState(null,'',"#".concat(r))}catch(t){console.error('History API is not supported',t)}}}}))},traits:[{type:'button',label:'Add Tab',text:'Add Tab',full:!0,command:function(t){var e=t.getSelected();null==e||e.addTab()}}],components:[{type:e.typeTabContainer,components:r},{type:e.typeTabContents}],styles:o},e.tabsProps),isTabsComponent:function(t){return void 0!==t.findTabs},init:function(){var t=this,e=this;e.findTabs().forEach((function(e,n){t.__onTab(e,n+1,{})}));var n=e.getTabContainerType(),a=e.findTabs().length;this.listenTo(null==n?void 0:n.components(),'add',(function(t){var e;a++,null===(e=t.__initTab)||void 0===e||e.call(t,a)}))},__onTab:function(t,e,n,a){void 0===a&&(a={}),a.avoidStore||a.temporary||t.__initTab(e)},getTabContainerType:function(){return this.findType(e.typeTabContainer)[0]},getContentsType:function(){return this.findType(e.typeTabContents)[0]||this},findTabs:function(){return this.findType(e.typeTab)},findContents:function(){return this.findType(e.typeTabContent)},addTab:function(t){var n=this.getTabContainerType(),o={index:this.findTabs().length+1},r=t?'function'==typeof t?t(o):t:a(e.templateTab,o);null==n||n.append({type:e.typeTab,components:r})}}})}];var y=void 0&&(void 0).__assign||function(){return y=Object.assign||function(t){for(var e,n=1,a=arguments.length;n<a;n++)for(var o in e=arguments[n])Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o]);return t},y.apply(this,arguments)};var T=void 0&&(void 0).__assign||function(){return T=Object.assign||function(t){for(var e,n=1,a=arguments.length;n<a;n++)for(var o in e=arguments[n])Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o]);return t},T.apply(this,arguments)};const v=function(t,e){void 0===e&&(e={});var n=T(T({},o),e);!function(t,e){var n=u(u({},e),{defaultModel:t.DomComponents.getType('default').model,editor:t});f.forEach((function(e){return e(t,n)}))}(t,n),function(t,e){var n=e.tabsBlock,a=e.typeTabs,o=t.Blocks;if(n){var r=y({media:"\n        <svg viewBox=\"0 0 24 24\" xmlns=\"http://www.w3.org/2000/svg\">\n          <path d=\"M22 9.3c0-.8-.5-1.3-1.3-1.3H3.4C2.5 8 2 8.5 2 9.3v7.4c0 .8.5 1.3 1.3 1.3h17.4c.8 0 1.3-.5 1.3-1.3V9.3zM21 17H3V9h18v8z\" fill-rule=\"nonzero\"/><rect x=\"3\" y=\"5\" width=\"4\" height=\"2\" rx=\".5\"/><rect x=\"8\" y=\"5\" width=\"4\" height=\"2\" rx=\".5\"/><rect x=\"13\" y=\"5\" width=\"4\" height=\"2\" rx=\".5\"/>\n        </svg>\n      ",label:'Tabs',content:{type:a}},n);o.add(a,r)}}(t,n)};return e})()));
//# sourceMappingURL=index.js.map
<!DOCTYPE html>
<html lang="tr">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Muzibu Data Migration - Tablo Analizi ve Import Script</title>
    <script src="https://cdn.tailwindcss.com"></script>
</head>
<body class="bg-slate-900 text-white p-8">
    <header class="mb-8">
        <span class="inline-block bg-blue-600 text-white px-3 py-1 rounded-full text-sm font-semibold mb-2">
            ğŸ“‹ Data Migration
        </span>
        <h1 class="text-4xl font-bold mb-2">Muzibu Data Migration</h1>
        <p class="text-slate-400">Eski muzibu.com verilerini yeni muzibu.com sistemine import etme</p>
        <p class="text-slate-500 text-sm mt-2">08 Ocak 2026</p>
    </header>

    <!-- Basit AnlatÄ±m -->
    <div class="bg-green-900/20 border border-green-800 rounded-lg p-6 mb-6">
        <h3 class="text-xl font-bold text-green-400 mb-3">ğŸ“ Basit AnlatÄ±m (Herkes Ä°Ã§in)</h3>
        <p class="text-slate-300 mb-4">
            Eski Muzibu sistemindeki tÃ¼m mÃ¼zik verilerini (sanatÃ§Ä±lar, albÃ¼mler, tÃ¼rler, radyolar, sektÃ¶rler)
            yeni sisteme taÅŸÄ±yoruz. Eski sistem TÃ¼rkÃ§e baÅŸlÄ±klar kullanÄ±yordu, yeni sistem ise Ã§oklu dil desteÄŸi
            sunuyor (JSON formatÄ±nda). Bu rapor, hangi verilerin nasÄ±l dÃ¶nÃ¼ÅŸtÃ¼rÃ¼leceÄŸini ve import script'inin
            nasÄ±l Ã§alÄ±ÅŸtÄ±rÄ±lacaÄŸÄ±nÄ± aÃ§Ä±klÄ±yor.
        </p>
        <div class="bg-slate-800 rounded p-4">
            <p class="font-semibold text-green-300 mb-2">Neden Ã–nemli?</p>
            <ul class="list-disc list-inside space-y-1 text-slate-300">
                <li>Eski sistem verileri kaybolmadan yeni sisteme taÅŸÄ±nacak</li>
                <li>Ã‡oklu dil desteÄŸi iÃ§in JSON formatÄ±na dÃ¶nÃ¼ÅŸÃ¼m yapÄ±lacak</li>
                <li>ID mapping ile eski ve yeni ID'ler eÅŸleÅŸtirilecek (sonraki import'lar iÃ§in)</li>
                <li>Medya dosyalarÄ± manuel yÃ¼klenecek (thumb â†’ Spatie Media)</li>
            </ul>
        </div>
    </div>

    <!-- Teknik Detaylar -->
    <div class="bg-blue-900/20 border border-blue-800 rounded-lg p-6 mb-6">
        <h3 class="text-xl font-bold text-blue-400 mb-3">ğŸ”§ Teknik Detaylar (GeliÅŸtiriciler Ä°Ã§in)</h3>

        <div class="mb-6">
            <h4 class="font-semibold text-blue-300 mb-2">Kaynak ve Hedef:</h4>
            <ul class="list-disc list-inside space-y-1 text-slate-300">
                <li><strong>SQL DosyasÄ±:</strong> <code class="bg-slate-800 px-2 py-1 rounded text-sm">/var/www/vhosts/muzibu.com/httpdocs/muzibu_mayis25 (1).sql</code></li>
                <li><strong>Hedef DB:</strong> tuufi_4ekim (central database - Muzibu artÄ±k merkezi DB'de Ã§alÄ±ÅŸÄ±yor)</li>
                <li><strong>Connection:</strong> mysql (default - central database)</li>
            </ul>
        </div>

        <div class="mb-6">
            <h4 class="font-semibold text-blue-300 mb-2">Import Edilen Tablolar:</h4>
            <div class="grid grid-cols-1 md:grid-cols-2 gap-4">
                <div class="bg-slate-800 rounded p-4">
                    <p class="font-semibold text-yellow-400">1. Artists</p>
                    <p class="text-sm text-slate-400">43 kayÄ±t</p>
                </div>
                <div class="bg-slate-800 rounded p-4">
                    <p class="font-semibold text-yellow-400">2. Genres</p>
                    <p class="text-sm text-slate-400">39 kayÄ±t</p>
                </div>
                <div class="bg-slate-800 rounded p-4">
                    <p class="font-semibold text-yellow-400">3. Sectors</p>
                    <p class="text-sm text-slate-400">18 kayÄ±t</p>
                </div>
                <div class="bg-slate-800 rounded p-4">
                    <p class="font-semibold text-yellow-400">4. Radios</p>
                    <p class="text-sm text-slate-400">99 kayÄ±t</p>
                </div>
                <div class="bg-slate-800 rounded p-4">
                    <p class="font-semibold text-yellow-400">5. Albums</p>
                    <p class="text-sm text-slate-400">179 kayÄ±t (artist_id mapping gerekli)</p>
                </div>
            </div>
        </div>
    </div>

    <!-- Tablo FarklarÄ± -->
    <div class="mb-6">
        <h3 class="text-2xl font-bold mb-4">ğŸ“Š Tablo YapÄ±sÄ± FarklarÄ±</h3>

        <!-- Artists -->
        <div class="bg-slate-800 rounded-lg p-6 mb-4">
            <h4 class="text-xl font-semibold text-purple-400 mb-3">Artists</h4>
            <div class="grid grid-cols-1 md:grid-cols-2 gap-6">
                <div>
                    <p class="font-semibold text-red-400 mb-2">âŒ Eski YapÄ±:</p>
                    <ul class="list-disc list-inside space-y-1 text-sm text-slate-300">
                        <li><code>id</code></li>
                        <li><code>title_tr</code> VARCHAR</li>
                        <li><code>slug</code> VARCHAR</li>
                        <li><code>bio_tr</code> TEXT</li>
                        <li><code>thumb</code> VARCHAR</li>
                        <li><code>created</code> DATETIME</li>
                        <li><code>active</code> TINYINT</li>
                        <li><code>meta_title, meta_keywords, meta_description</code></li>
                    </ul>
                </div>
                <div>
                    <p class="font-semibold text-green-400 mb-2">âœ… Yeni YapÄ±:</p>
                    <ul class="list-disc list-inside space-y-1 text-sm text-slate-300">
                        <li><code>artist_id</code> (primary key)</li>
                        <li><code>title</code> JSON (Ã§oklu dil)</li>
                        <li><code>slug</code> JSON</li>
                        <li><code>bio</code> JSON</li>
                        <li><code>media_id</code> INT (Spatie Media)</li>
                        <li><code>created_at, updated_at</code> TIMESTAMP</li>
                        <li><code>is_active</code> BOOLEAN</li>
                        <li>HasSeo trait (meta_ field'larÄ± yok)</li>
                    </ul>
                </div>
            </div>
        </div>

        <!-- Albums -->
        <div class="bg-slate-800 rounded-lg p-6 mb-4">
            <h4 class="text-xl font-semibold text-purple-400 mb-3">Albums</h4>
            <div class="grid grid-cols-1 md:grid-cols-2 gap-6">
                <div>
                    <p class="font-semibold text-red-400 mb-2">âŒ Eski YapÄ±:</p>
                    <ul class="list-disc list-inside space-y-1 text-sm text-slate-300">
                        <li><code>id</code></li>
                        <li><code>artist_id</code></li>
                        <li><code>title_tr, slug, description_tr</code></li>
                        <li><code>thumb</code></li>
                        <li><code>created, active</code></li>
                        <li><code>meta_*</code></li>
                    </ul>
                </div>
                <div>
                    <p class="font-semibold text-green-400 mb-2">âœ… Yeni YapÄ±:</p>
                    <ul class="list-disc list-inside space-y-1 text-sm text-slate-300">
                        <li><code>album_id</code></li>
                        <li><code>artist_id</code> (mapping gerekli!)</li>
                        <li><code>title, slug, description</code> JSON</li>
                        <li><code>media_id</code> NULL</li>
                        <li><code>created_at, updated_at, is_active</code></li>
                        <li>HasSeo trait</li>
                    </ul>
                </div>
            </div>
        </div>

        <!-- DiÄŸer tablolar (kompakt) -->
        <div class="grid grid-cols-1 md:grid-cols-3 gap-4">
            <div class="bg-slate-800 rounded p-4">
                <p class="font-semibold text-purple-400 mb-2">Genres</p>
                <p class="text-sm text-slate-400">AynÄ± mantÄ±k: title_tr â†’ title (JSON), description_tr â†’ description (JSON)</p>
            </div>
            <div class="bg-slate-800 rounded p-4">
                <p class="font-semibold text-purple-400 mb-2">Radios</p>
                <p class="text-sm text-slate-400">title_tr â†’ title (JSON), slug â†’ slug (JSON)</p>
            </div>
            <div class="bg-slate-800 rounded p-4">
                <p class="font-semibold text-purple-400 mb-2">Sectors</p>
                <p class="text-sm text-slate-400">title_tr â†’ title (JSON), description yok eskide (NULL)</p>
            </div>
        </div>
    </div>

    <!-- DÃ¶nÃ¼ÅŸÃ¼m KurallarÄ± -->
    <div class="bg-yellow-900/20 border border-yellow-800 rounded-lg p-6 mb-6">
        <h3 class="text-xl font-bold text-yellow-400 mb-3">ğŸ”„ DÃ¶nÃ¼ÅŸÃ¼m KurallarÄ±</h3>
        <div class="space-y-3">
            <div class="bg-slate-800 rounded p-4">
                <p class="font-semibold text-yellow-300 mb-1">1. Basit Field DÃ¶nÃ¼ÅŸÃ¼mleri:</p>
                <ul class="list-disc list-inside text-sm text-slate-300">
                    <li><code>title_tr</code> â†’ <code>{"tr": "...", "en": ""}</code></li>
                    <li><code>slug</code> â†’ <code>{"tr": "...", "en": ""}</code></li>
                    <li><code>description_tr / bio_tr</code> â†’ <code>{"tr": "...", "en": ""}</code></li>
                </ul>
            </div>
            <div class="bg-slate-800 rounded p-4">
                <p class="font-semibold text-yellow-300 mb-1">2. Medya DÃ¶nÃ¼ÅŸÃ¼mÃ¼:</p>
                <p class="text-sm text-slate-300"><code>thumb</code> â†’ <code>media_id = NULL</code> (Spatie Media sonra manuel yÃ¼klenecek)</p>
            </div>
            <div class="bg-slate-800 rounded p-4">
                <p class="font-semibold text-yellow-300 mb-1">3. Boolean DÃ¶nÃ¼ÅŸÃ¼m:</p>
                <p class="text-sm text-slate-300"><code>active</code> (TINYINT) â†’ <code>is_active</code> (BOOLEAN)</p>
            </div>
            <div class="bg-slate-800 rounded p-4">
                <p class="font-semibold text-yellow-300 mb-1">4. Tarih DÃ¶nÃ¼ÅŸÃ¼mÃ¼:</p>
                <p class="text-sm text-slate-300"><code>created</code> â†’ <code>created_at + updated_at</code></p>
            </div>
            <div class="bg-slate-800 rounded p-4">
                <p class="font-semibold text-yellow-300 mb-1">5. Meta Field KaldÄ±rma:</p>
                <p class="text-sm text-slate-300"><code>meta_title, meta_keywords, meta_description</code> â†’ KaldÄ±rÄ±ldÄ± (HasSeo trait kullanÄ±lÄ±yor)</p>
            </div>
        </div>
    </div>

    <!-- Import Script KullanÄ±mÄ± -->
    <div class="bg-green-900/20 border border-green-800 rounded-lg p-6 mb-6">
        <h3 class="text-xl font-bold text-green-400 mb-3">ğŸš€ Import Script KullanÄ±mÄ±</h3>

        <div class="mb-4">
            <p class="font-semibold text-green-300 mb-2">Script Konumu:</p>
            <code class="bg-slate-800 px-3 py-2 rounded block text-sm">/var/www/vhosts/muzibu.com/httpdocs/public/import-muzibu-data.php</code>
        </div>

        <div class="mb-4">
            <p class="font-semibold text-green-300 mb-2">Ã‡alÄ±ÅŸtÄ±rma:</p>
            <pre class="bg-slate-800 p-4 rounded text-sm overflow-x-auto"><code>curl -s https://muzibu.com/import-muzibu-data.php</code></pre>
        </div>

        <div class="mb-4">
            <p class="font-semibold text-green-300 mb-2">Ã‡Ä±ktÄ±:</p>
            <ul class="list-disc list-inside space-y-1 text-sm text-slate-300">
                <li>Her tablo iÃ§in import durumu (kaÃ§ kayÄ±t baÅŸarÄ±lÄ±, kaÃ§ hata)</li>
                <li>ID mapping dosyasÄ±: <code>muzibu-id-mappings.json</code></li>
                <li>Hata log'larÄ± (varsa)</li>
            </ul>
        </div>

        <div class="bg-slate-800 rounded p-4">
            <p class="font-semibold text-yellow-300 mb-2">âš ï¸ Dikkat:</p>
            <ul class="list-disc list-inside space-y-1 text-sm text-slate-300">
                <li>Script sadece bir kez Ã§alÄ±ÅŸtÄ±rÄ±lmalÄ± (duplicate Ã¶nleme yok!)</li>
                <li>Import sÄ±rasÄ± Ã¶nemli: Artists â†’ Genres â†’ Sectors â†’ Radios â†’ Albums</li>
                <li>Albums import'u iÃ§in artist_id mapping gerekli</li>
            </ul>
        </div>
    </div>

    <!-- Sonraki AdÄ±mlar -->
    <div class="bg-purple-900/20 border border-purple-800 rounded-lg p-6 mb-6">
        <h3 class="text-xl font-bold text-purple-400 mb-3">ğŸ”œ Sonraki AdÄ±mlar</h3>
        <p class="text-slate-300 mb-4">
            Ä°lk 5 tablo import edildikten sonra, kalan tablolar iÃ§in yeni script'ler hazÄ±rlanacak:
        </p>
        <ol class="list-decimal list-inside space-y-2 text-slate-300">
            <li><strong>Songs:</strong> album_id ve genre_id mapping gerekli, ÅŸarkÄ± dosyalarÄ± kopyalanacak</li>
            <li><strong>Playlists:</strong> sector_id ve radio_id mapping gerekli</li>
            <li><strong>Favorites:</strong> Polymorphic dÃ¶nÃ¼ÅŸÃ¼m (song_id â†’ favoritable_type + favoritable_id)</li>
            <li><strong>Song_plays:</strong> song_id mapping gerekli</li>
            <li><strong>Pivot Tables:</strong> Polymorphic playlistables tablosuna dÃ¶nÃ¼ÅŸtÃ¼rÃ¼lecek</li>
        </ol>
        <p class="text-yellow-300 mt-4 font-semibold">
            âš ï¸ Songs tablosu SQL dosyasÄ±nda yok! AyrÄ± bir SQL export gerekiyor.
        </p>
    </div>

    <footer class="text-center text-slate-500 text-sm mt-12 pt-6 border-t border-slate-700">
        <p>ğŸ¤– Bu rapor Claude AI tarafÄ±ndan oluÅŸturuldu</p>
        <p class="mt-1">08 Ocak 2026 - Muzibu Data Migration v1</p>
    </footer>
</body>
</html>

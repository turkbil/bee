<!DOCTYPE html>
<html lang="tr">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Shop Product AI System - Claude Code Implementation</title>
    <style>
        * { margin: 0; padding: 0; box-sizing: border-box; }

        body {
            background: linear-gradient(135deg, #0f172a 0%, #1e293b 100%);
            color: #e2e8f0;
            font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', system-ui, sans-serif;
            line-height: 1.8;
            padding: 40px 20px;
        }

        .container {
            max-width: 1400px;
            margin: 0 auto;
        }

        header {
            margin-bottom: 50px;
            padding-bottom: 30px;
            border-bottom: 2px solid #334155;
        }

        h1 {
            font-size: 2.5rem;
            font-weight: 700;
            margin-bottom: 15px;
            background: linear-gradient(135deg, #60a5fa, #3b82f6);
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
        }

        .meta {
            color: #94a3b8;
            font-size: 0.95rem;
        }

        section {
            margin-bottom: 50px;
        }

        h2 {
            font-size: 1.8rem;
            margin-bottom: 25px;
            color: #60a5fa;
            display: flex;
            align-items: center;
            gap: 10px;
        }

        h3 {
            font-size: 1.4rem;
            color: #fbbf24;
            margin-bottom: 15px;
            margin-top: 30px;
        }

        .block {
            background: rgba(30, 41, 59, 0.6);
            padding: 30px;
            margin-bottom: 25px;
            border-radius: 12px;
            border-left: 4px solid #3b82f6;
        }

        .block.critical {
            border-left-color: #dc2626;
            background: rgba(220, 38, 38, 0.1);
        }

        .block.success {
            border-left-color: #10b981;
            background: rgba(16, 185, 129, 0.1);
        }

        .block.warning {
            border-left-color: #f59e0b;
            background: rgba(245, 158, 11, 0.1);
        }

        .code {
            background: #0f172a;
            padding: 20px;
            border-radius: 8px;
            overflow-x: auto;
            margin: 15px 0;
            border: 1px solid #334155;
            font-family: 'Courier New', monospace;
            font-size: 0.9rem;
            color: #86efac;
        }

        table {
            width: 100%;
            border-collapse: collapse;
            margin: 20px 0;
            background: rgba(30, 41, 59, 0.3);
        }

        th, td {
            padding: 12px;
            text-align: left;
            border-bottom: 1px solid #334155;
        }

        th {
            background: rgba(59, 130, 246, 0.2);
            color: #93c5fd;
            font-weight: 600;
        }

        td {
            color: #cbd5e1;
        }

        ul, ol {
            margin-left: 25px;
            margin-top: 10px;
        }

        li {
            margin-bottom: 8px;
            color: #cbd5e1;
        }

        .flow {
            background: rgba(30, 41, 59, 0.5);
            padding: 25px;
            margin: 20px 0;
            border-radius: 12px;
            border: 2px solid #3b82f6;
        }

        .step {
            padding: 15px;
            margin: 10px 0;
            border-left: 3px solid #60a5fa;
            background: rgba(59, 130, 246, 0.05);
            border-radius: 6px;
        }

        .step.branch-a {
            border-left-color: #10b981;
            margin-left: 30px;
        }

        .step.branch-b {
            border-left-color: #dc2626;
            margin-left: 30px;
        }

        footer {
            margin-top: 60px;
            padding-top: 30px;
            border-top: 1px solid #334155;
            color: #64748b;
            font-size: 0.9rem;
            text-align: center;
        }
    </style>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
</head>
<body>
    <div class="container">
        <header>
            <h1>ğŸ¤– Shop Product AI - Claude Code Implementation</h1>
            <div class="meta">
                ğŸ“‹ TÃ¼m iÅŸlemleri Claude Code yapacak | ğŸ“¸ Sadece gÃ¶rseller Leonardo AI
            </div>
        </header>

        <!-- SÄ°STEM KONTEKST -->
        <section>
            <h2><i class="fas fa-server"></i> SÄ°STEM KONTEKST</h2>

            <div class="block">
                <h3>ğŸ¢ Multi-Tenant Laravel Sistemi</h3>
                <table>
                    <tr>
                        <th>Parametre</th>
                        <th>DeÄŸer</th>
                    </tr>
                    <tr>
                        <td>Tenant ID</td>
                        <td>2</td>
                    </tr>
                    <tr>
                        <td>Domain</td>
                        <td>ixtif.com</td>
                    </tr>
                    <tr>
                        <td>Database</td>
                        <td>tenant_ixtif</td>
                    </tr>
                    <tr>
                        <td>SektÃ¶r</td>
                        <td>EndÃ¼striyel Ekipman (Forklift, Transpalet)</td>
                    </tr>
                    <tr>
                        <td>Laravel Versiyonu</td>
                        <td>11.x</td>
                    </tr>
                    <tr>
                        <td>PHP Versiyonu</td>
                        <td>8.3</td>
                    </tr>
                </table>

                <h3 style="margin-top: 25px;">ğŸ“Š Database Tables</h3>
                <div class="code">shop_products        â†’ Ana Ã¼rÃ¼n tablosu (PK: product_id)
shop_categories      â†’ Kategori tablosu (PK: category_id)
shop_brands          â†’ Marka tablosu (PK: brand_id)
shop_product_variants â†’ Variant Ã¼rÃ¼nler
media_library_items  â†’ GÃ¶rsel yÃ¶netimi (Leonardo AI outputs)</div>
            </div>

            <div class="block">
                <h3>ğŸ—„ï¸ ShopProduct Model</h3>
                <div class="code">Namespace: Modules\Shop\App\Models\ShopProduct
Table: shop_products
Primary Key: product_id (integer)

Translatable Fields (Spatie/HasTranslations):
- title (array: tr/en)
- slug (array: tr/en)
- body (array: tr/en)
- short_description (array: tr/en)

JSON Fields:
- primary_specs (array)
- faq_data (array)
- tags (array)
- technical_specs (array)
- highlighted_features (array)

Relations:
- category (BelongsTo ShopCategory)
- brand (BelongsTo ShopBrand)
- variants (HasMany ShopProductVariant)
- parent (BelongsTo ShopProduct, foreign: parent_product_id)</div>
            </div>

            <div class="block">
                <h3>ğŸ—„ï¸ ShopCategory Model</h3>
                <div class="code">Namespace: Modules\Shop\App\Models\ShopCategory
Table: shop_categories
Primary Key: category_id (integer)

Important Fields:
- parent_id (integer, nullable) â†’ Alt kategori ise parent category ID
- title (array: tr/en)
- slug (array: tr/en)

Yedek ParÃ§a Kategorisi:
category_id = 7 (parent_id IS NULL)
Alt kategoriler: parent_id = 7</div>
            </div>

            <div class="block critical">
                <h3>ğŸ¤– AI Rolleri</h3>
                <table>
                    <tr>
                        <th>Ä°ÅŸlem</th>
                        <th>Kim Yapacak</th>
                    </tr>
                    <tr>
                        <td>Ä°Ã§erik Ã¼retimi (TR + EN)</td>
                        <td><strong>CLAUDE CODE</strong> (sen!)</td>
                    </tr>
                    <tr>
                        <td>Mevcut iÃ§erik analizi</td>
                        <td><strong>CLAUDE CODE</strong></td>
                    </tr>
                    <tr>
                        <td>SEO keyword ekleme</td>
                        <td><strong>CLAUDE CODE</strong></td>
                    </tr>
                    <tr>
                        <td>HTML Ã¼retimi</td>
                        <td><strong>CLAUDE CODE</strong></td>
                    </tr>
                    <tr>
                        <td>Validation</td>
                        <td><strong>CLAUDE CODE</strong></td>
                    </tr>
                    <tr>
                        <td>Database kayÄ±t</td>
                        <td><strong>CLAUDE CODE</strong></td>
                    </tr>
                    <tr>
                        <td>GÃ¶rsel Ã¼retimi (2 adet)</td>
                        <td><strong>LEONARDO AI</strong></td>
                    </tr>
                </table>
            </div>
        </section>

        <!-- GÃ–REV TANIMI -->
        <section>
            <h2><i class="fas fa-bullseye"></i> GÃ–REV TANIMI</h2>

            <div class="block critical">
                <h3>ğŸ¯ Ne YapacaksÄ±n?</h3>
                <p>Yedek parÃ§a Ã¼rÃ¼nleri iÃ§in <strong>otomatik bilingual (TR+EN) iÃ§erik Ã¼reteceÄŸin</strong> bir sistem oluÅŸturacaksÄ±n.</p>

                <h3 style="margin-top: 20px;">âœ… Hangi ÃœrÃ¼nler Ä°ÅŸlenecek?</h3>
                <ul>
                    <li><strong>Kategori:</strong> Sadece "Yedek ParÃ§a" (category_id = 7 VEYA parent category = 7)</li>
                    <li><strong>Variant Durumu:</strong> Sadece ana Ã¼rÃ¼nler (parent_product_id IS NULL veya 0)</li>
                    <li><strong>Variant Ã¼rÃ¼nler SKIP:</strong> EÄŸer parent_product_id > 0 ise iÅŸleme</li>
                </ul>

                <h3 style="margin-top: 20px;">ğŸš« Hangi ÃœrÃ¼nler Ä°ÅLENMEZ?</h3>
                <ul>
                    <li>âŒ Forklift kategorisi Ã¼rÃ¼nleri</li>
                    <li>âŒ Transpalet kategorisi Ã¼rÃ¼nleri</li>
                    <li>âŒ Variant Ã¼rÃ¼nler (child products)</li>
                    <li>âŒ DiÄŸer kategoriler</li>
                </ul>
            </div>

            <div class="block warning">
                <h3>âš¡ Ä°ki FarklÄ± Strateji</h3>
                <p>ÃœrÃ¼n iÃ§eriÄŸi <strong>mevcut durumuna gÃ¶re</strong> iki farklÄ± akÄ±ÅŸa girecek:</p>

                <table style="margin-top: 15px;">
                    <tr>
                        <th>Durum</th>
                        <th>Strateji</th>
                        <th>Ne YapÄ±lacak?</th>
                    </tr>
                    <tr>
                        <td><strong>Branch A</strong><br>Mevcut iÃ§erik VAR</td>
                        <td>EXPAND (GeniÅŸlet)</td>
                        <td>
                            â€¢ Mevcut teknik detaylarÄ± koru<br>
                            â€¢ Ä°Ã§eriÄŸi geniÅŸlet<br>
                            â€¢ SEO ekle
                        </td>
                    </tr>
                    <tr>
                        <td><strong>Branch B</strong><br>Mevcut iÃ§erik YOK</td>
                        <td>CREATE (Genel OluÅŸtur)</td>
                        <td>
                            â€¢ Genel tanÄ±tÄ±m yap<br>
                            â€¢ Teknik detay VERME<br>
                            â€¢ GÃ¼venli iÃ§erik
                        </td>
                    </tr>
                </table>
            </div>
        </section>

        <!-- AKIÅ DÄ°YAGRAMI -->
        <section>
            <h2><i class="fas fa-project-diagram"></i> AKIÅ DÄ°YAGRAMI</h2>

            <div class="flow">
                <div class="step">
                    <strong>BAÅLANGIÃ‡:</strong> KullanÄ±cÄ± "product_id: 331 iÃ§in iÃ§erik Ã¼ret" der
                </div>

                <div class="step">
                    <strong>1. ÃœRÃœN FÄ°LTRELEME (Tenant baÅŸlat + Kontrol)</strong>
                    <div class="code">// Tenant baÅŸlat
$tenant = \App\Models\Tenant::find(2);
tenancy()->initialize($tenant);

// ÃœrÃ¼n getir
$product = ShopProduct::find($productId);

// Kontrol 1: Yedek parÃ§a mÄ±?
if ($product->category_id != 7 && $product->category->parent_id != 7) {
    throw new Exception('Bu Ã¼rÃ¼n yedek parÃ§a kategorisinde deÄŸil');
}

// Kontrol 2: Variant Ã¼rÃ¼n mÃ¼?
if ($product->parent_product_id && $product->parent_product_id > 0) {
    throw new Exception('Variant Ã¼rÃ¼nler iÅŸlenmez, sadece ana Ã¼rÃ¼nler');
}</div>
                </div>

                <div class="step">
                    <strong>2. MEVCUT Ä°Ã‡ERÄ°K KONTROLÃœ (KRÄ°TÄ°K!)</strong>
                    <div class="code">$existingBody = $product->body['tr'] ?? '';
$hasContent = strlen($existingBody) > 100;

if ($hasContent) {
    // BRANCH A â†’ GeniÅŸlet
    echo "âœ… Mevcut iÃ§erik bulundu, geniÅŸletme modunda devam...";
    $strategy = 'expand';
} else {
    // BRANCH B â†’ Yeni oluÅŸtur
    echo "âš ï¸ Mevcut iÃ§erik yok, genel tanÄ±tÄ±m oluÅŸturulacak...";
    $strategy = 'create';
}</div>
                </div>

                <h3 style="color: #86efac; margin-top: 30px;">ğŸŸ¢ BRANCH A - Mevcut Ä°Ã§erik Varsa</h3>

                <div class="step branch-a">
                    <strong>A1. Mevcut veriyi analiz et (Claude Code)</strong>
                    <div class="code">// Mevcut iÃ§eriÄŸi oku
$existingBody = $product->body['tr'];
$existingSpecs = $product->primary_specs ?? [];
$existingFaq = $product->faq_data ?? [];

// Teknik detaylarÄ± regex ile Ã§Ä±kar
preg_match_all('/(\d+\s*(mm|cm|kg|g|V|volt|A))/i', $existingBody, $techMatches);
$technicalDetails = $techMatches[0] ?? [];

echo "ğŸ“Š Mevcut teknik detaylar: " . implode(', ', $technicalDetails);</div>
                </div>

                <div class="step branch-a">
                    <strong>A2. Ä°Ã§erik Ãœretimi (Claude Code sen yapacaksÄ±n!)</strong>
                    <div class="code">// KullanÄ±cÄ± Claude Code'a ÅŸunu sÃ¶yleyecek:
"Bu Ã¼rÃ¼n iÃ§eriÄŸini geniÅŸlet:

ÃœRÃœN: {$product->title['tr']}
KATEGORÄ°: Yedek ParÃ§a

MEVCUT Ä°Ã‡ERÄ°K:
{$existingBody}

MEVCUT TEKNÄ°K DETAYLAR:
{$technicalDetails}

KURALLAR:
âœ… Mevcut teknik detaylarÄ± KORU (boyut, aÄŸÄ±rlÄ±k, malzeme vb)
âœ… Ä°Ã§eriÄŸi geniÅŸlet, daha detaylÄ± yaz
âœ… SEO keywords ekle: forklift, yedek parÃ§a, onarÄ±m, servis, montaj
âœ… Pattern v4 HTML kullan
âŒ Fiyat BÄ°LGÄ°SÄ° ASLA verme!
âœ… Bilingual: TR + EN

JSON FORMAT:
{
  \"title\": {\"tr\": \"...\", \"en\": \"...\"},
  \"short_description\": {\"tr\": \"...\", \"en\": \"...\"},
  \"primary_specs\": [
    {\"label\": \"Malzeme\", \"value\": \"DÃ¶kÃ¼m Ã‡elik\"}
  ],
  \"body\": {
    \"tr\": \"<section>...</section>\",
    \"en\": \"<section>...</section>\"
  },
  \"faq_data\": [
    {\"question\": \"...\", \"answer\": \"...\"}
  ],
  \"tags\": [\"forklift\", \"yedek parÃ§a\"]
}"

// Claude Code bu prompt'a cevap verecek!</div>
                </div>

                <h3 style="color: #fca5a5; margin-top: 30px;">ğŸ”´ BRANCH B - Mevcut Ä°Ã§erik Yoksa</h3>

                <div class="step branch-b">
                    <strong>B1. Sadece baÅŸlÄ±k + kategori al</strong>
                    <div class="code">$basicInfo = [
    'title' => $product->title,
    'category' => 'Yedek ParÃ§a',
];

echo "âš ï¸ Sadece baÅŸlÄ±k bilgisi var, genel iÃ§erik Ã¼retilecek...";</div>
                </div>

                <div class="step branch-b">
                    <strong>B2. Ä°Ã§erik Ãœretimi (Claude Code sen yapacaksÄ±n!)</strong>
                    <div class="code">// KullanÄ±cÄ± Claude Code'a ÅŸunu sÃ¶yleyecek:
"Bu Ã¼rÃ¼n iÃ§in GENEL tanÄ±tÄ±m iÃ§eriÄŸi oluÅŸtur:

ÃœRÃœN: {$product->title['tr']}
KATEGORÄ°: Yedek ParÃ§a

âš ï¸ KRÄ°TÄ°K KURALLAR:
âŒ Spesifik boyut/aÄŸÄ±rlÄ±k/voltaj VERME (150mm, 2kg, 220V gibi)
âŒ Fiyat bilgisi ASLA verme!
âŒ Kesin teknik detay verme
âœ… Genel ifadeler kullan: 'Detaylar iÃ§in arayÄ±n', 'Forklift modelinize uyumlu', 'Profesyonel montaj Ã¶nerilir'
âœ… Kalite, gÃ¼venilirlik, OEM standartlarÄ± vurgula
âœ… SEO keywords: forklift, yedek parÃ§a, onarÄ±m, servis
âœ… Pattern v4 HTML kullan
âœ… Bilingual: TR + EN

JSON FORMAT: (yukarÄ±daki gibi)"

// Claude Code bu prompt'a cevap verecek!</div>
                </div>

                <div class="step" style="margin-top: 30px;">
                    <strong>3. VALIDATION (Claude Code kontrol eder)</strong>
                    <div class="code">// Fiyat kontrolÃ¼ (HER ZAMAN)
if (preg_match('/\d+\s*(TL|USD|\$|â‚¬|lira|dolar)/i', json_encode($content))) {
    throw new Exception('âŒ Ä°Ã§erikte fiyat bilgisi var! DÃ¼zelt!');
}

// Branch B iÃ§in teknik detay kontrolÃ¼
if ($strategy === 'create') {
    if (preg_match('/\d+\s*(mm|cm|kg|g|volt|V|A)/i', json_encode($content))) {
        throw new Exception('âŒ Yeni iÃ§erikte teknik detay olmamalÄ±! DÃ¼zelt!');
    }
}

echo "âœ… Validation passed!";</div>
                </div>

                <div class="step">
                    <strong>4. LEONARDO AI GÃ–RSELLER (2 adet)</strong>
                    <div class="code">// Leonardo AI Service kullan
$leonardoService = app(\App\Services\Media\LeonardoAIService::class);

// Foto 1: KullanÄ±m ortamÄ±
$prompt1 = "Industrial workshop scene, forklift spare part installation,
mechanic hands assembling parts, professional lighting, realistic photo";

$image1 = $leonardoService->generateFromPrompt($prompt1, [
    'width' => 1024,
    'height' => 1024,
    'style' => 'cinematic'
]);

// Foto 2: Teknik Ã§izim
$prompt2 = "Technical blueprint drawing, forklift axle component diagram,
engineering schematic, white background, clean lines";

$image2 = $leonardoService->generateFromPrompt($prompt2, [
    'width' => 1024,
    'height' => 1024,
    'style' => 'cinematic'
]);

echo "ğŸ“¸ GÃ¶rseller Ã¼retildi!";</div>
                </div>

                <div class="step">
                    <strong>5. GÃ–RSELLER EMBED + SEO TAGS (Claude Code)</strong>
                    <div class="code">// Body iÃ§ine gÃ¶rselleri embed et
$imageTag1 = "&lt;a href='{$image1['url']}' class='glightbox block rounded-xl overflow-hidden border-2 border-gray-200 dark:border-gray-700 hover:border-blue-500 transition-all'&gt;
    &lt;img src='{$image1['url']}'
         alt='Forklift {$product->title['tr']} Yedek ParÃ§a Montaj GÃ¶rseli'
         title='{$product->title['tr']} - OEM Kalite Forklift Yedek ParÃ§a'
         loading='lazy'
         class='w-full aspect-square rounded-xl object-cover'&gt;
&lt;/a&gt;";

// Body iÃ§inde uygun yere yerleÅŸtir</div>
                </div>

                <div class="step">
                    <strong>6. SEO AYARLARI (Claude Code - KRÄ°TÄ°K!)</strong>
                    <div class="code">// SEO meta bilgileri Ã¼ret (HasSeo trait kullanÄ±yor)
$seo = $product->getOrCreateSeoSetting();
$seo->update([
    'titles' => [
        'tr' => "Forklift {$product->title['tr']} | OEM Kalite Yedek ParÃ§a",
        'en' => "Forklift {$product->title['en']} | OEM Quality Spare Part"
    ],
    'descriptions' => [
        'tr' => "Forklift {$product->title['tr']} yedek parÃ§asÄ±. OEM kalite, hÄ±zlÄ± teslimat. DetaylÄ± bilgi ve fiyat iÃ§in iletiÅŸime geÃ§in.",
        'en' => "Forklift {$product->title['en']} spare part. OEM quality, fast delivery. Contact for details and pricing."
    ],
    'keywords' => [
        'tr' => implode(', ', $aiContent['tags']),
        'en' => implode(', ', array_map(fn($tag) => translateToEn($tag), $aiContent['tags']))
    ],
    'og_titles' => [
        'tr' => $product->title['tr'],
        'en' => $product->title['en']
    ],
    'og_descriptions' => [
        'tr' => $product->short_description['tr'],
        'en' => $product->short_description['en']
    ],
    'focus_keywords' => [
        'tr' => ['forklift', 'yedek parÃ§a', $product->title['tr']],
        'en' => ['forklift', 'spare part', $product->title['en']]
    ],
    'schema_type' => ['Product'],
    'robots_meta' => ['index', 'follow'],
]);

echo "âœ… SEO ayarlarÄ± kaydedildi!";</div>
                </div>

                <div class="step">
                    <strong>7. DATABASE SAVE (Claude Code)</strong>
                    <div class="code">$product->update([
    'title' => $aiContent['title'],
    'short_description' => $aiContent['short_description'],
    'body' => $aiContent['body'],
    'primary_specs' => $aiContent['primary_specs'],
    'faq_data' => $aiContent['faq_data'],
    'tags' => $aiContent['tags'],
]);

// Cache clear
Artisan::call('view:clear');
Artisan::call('responsecache:clear');
exec('curl -s -k https://ixtif.com/opcache-reset.php');

echo "âœ… Ä°Ã§erik kaydedildi ve cache temizlendi!";</div>
                </div>
            </div>
        </section>

        <!-- KRÄ°TÄ°K KURALLAR -->
        <section>
            <h2><i class="fas fa-exclamation-triangle"></i> KRÄ°TÄ°K KURALLAR</h2>

            <div class="block critical">
                <h3>ğŸš¨ KURAL 1: FÄ°YAT BÄ°LGÄ°SÄ° ASLA</h3>
                <p>HiÃ§bir durumda fiyat bilgisi verilmeyecek:</p>
                <ul>
                    <li>âŒ "500 TL", "1000 $", "100-500 TL arasÄ±"</li>
                    <li>âŒ "Ucuz", "Uygun fiyat", "Ekonomik"</li>
                    <li>âœ… "Fiyat iÃ§in arayÄ±n"</li>
                    <li>âœ… "GÃ¼ncel fiyat bilgisi iÃ§in iletiÅŸime geÃ§in"</li>
                </ul>
            </div>

            <div class="block critical">
                <h3>ğŸš¨ KURAL 2: TEKNÄ°K DETAY (KoÅŸullu)</h3>
                <table style="margin-top: 15px;">
                    <tr>
                        <th>Durum</th>
                        <th>Teknik Detay</th>
                    </tr>
                    <tr>
                        <td>Branch A (Mevcut VAR)</td>
                        <td>âœ… KULLAN - Mevcut teknik detaylarÄ± koruyup geniÅŸlet</td>
                    </tr>
                    <tr>
                        <td>Branch B (Mevcut YOK)</td>
                        <td>âŒ VERME - Spesifik boyut/aÄŸÄ±rlÄ±k/voltaj belirtme</td>
                    </tr>
                </table>
            </div>

            <div class="block critical">
                <h3>ğŸš¨ KURAL 3: GOOGLE SEO Ã–NCELÄ°KLÄ°</h3>
                <ul>
                    <li>âœ… Long-tail keywords: "forklift arka dingil yedek parÃ§a"</li>
                    <li>âœ… LSI keywords: bakÄ±m, onarÄ±m, servis, montaj, deÄŸiÅŸim</li>
                    <li>âœ… FAQ = Google arama sorgularÄ± formatÄ±nda</li>
                    <li>âœ… Alt/title tags gÃ¶rsellerde</li>
                </ul>
            </div>

            <div class="block critical">
                <h3>ğŸš¨ KURAL 4: GÃ–RSEL STRATEJÄ°SÄ°</h3>
                <ul>
                    <li>âŒ ÃœrÃ¼nÃ¼ birebir oluÅŸturma (AI hallucination riski!)</li>
                    <li>âœ… Foto 1: KullanÄ±m ortamÄ± (atÃ¶lye, montaj sahnesi)</li>
                    <li>âœ… Foto 2: SallantÄ±lÄ± teknik Ã§izim (blueprint style)</li>
                    <li>âœ… 1024x1024 square format</li>
                    <li>âœ… Cinematic veya realistic style</li>
                </ul>
            </div>
        </section>

        <!-- PATTERN V4 HTML -->
        <section>
            <h2><i class="fas fa-code"></i> PATTERN V4 HTML YAPISI</h2>

            <div class="block">
                <h3>ğŸ“ HTML Åablonu (Claude Code bu formatÄ± kullanacak)</h3>
                <div class="code">&lt;!-- GÄ°RÄ°Å BÃ–LÃœMÃœ --&gt;
&lt;section class='mb-20'&gt;
    &lt;div class='grid md:grid-cols-2 gap-8 mb-12'&gt;
        &lt;!-- Sol: AÃ§Ä±klama --&gt;
        &lt;div&gt;
            &lt;p class='text-gray-700 dark:text-gray-300 mb-6'&gt;
                [ÃœrÃ¼n aÃ§Ä±klamasÄ±, 2-3 paragraf]
            &lt;/p&gt;
        &lt;/div&gt;

        &lt;!-- SaÄŸ: GÃ¶rsel 1 --&gt;
        &lt;a href='{imageUrl}' class='glightbox block rounded-xl overflow-hidden border-2 border-gray-200 dark:border-gray-700 hover:border-blue-500 transition-all'&gt;
            &lt;img src='{imageUrl}'
                 alt='Forklift [ÃœrÃ¼n AdÄ±] Yedek ParÃ§a'
                 title='[ÃœrÃ¼n AdÄ±] - OEM Kalite'
                 loading='lazy'
                 class='w-full aspect-square rounded-xl object-cover'&gt;
        &lt;/a&gt;
    &lt;/div&gt;
&lt;/section&gt;

&lt;!-- NEDEN TERCÄ°H ETMELÄ°SÄ°NÄ°Z --&gt;
&lt;section class='mb-20'&gt;
    &lt;h2 class='text-3xl font-bold mb-12 text-gray-900 dark:text-white'&gt;
        Neden Bu Yedek ParÃ§ayÄ± Tercih Etmelisiniz?
    &lt;/h2&gt;

    &lt;div class='grid md:grid-cols-3 gap-8'&gt;
        &lt;!-- Kart 1 --&gt;
        &lt;div class='text-center p-6 bg-gray-50 dark:bg-gray-800 rounded-xl'&gt;
            &lt;i class='fas fa-check-circle text-5xl text-blue-600 mb-4'&gt;&lt;/i&gt;
            &lt;h3 class='text-xl font-bold mb-3 text-gray-900 dark:text-white'&gt;
                OEM Kalite
            &lt;/h3&gt;
            &lt;p class='text-gray-700 dark:text-gray-300'&gt;
                Orijinal ekipman kalitesinde...
            &lt;/p&gt;
        &lt;/div&gt;

        &lt;!-- Kart 2, 3... --&gt;
    &lt;/div&gt;
&lt;/section&gt;

&lt;!-- GÃ–RSEL 2 + DETAY --&gt;
&lt;section class='mb-20'&gt;
    &lt;div class='grid md:grid-cols-2 gap-8'&gt;
        &lt;a href='{image2Url}' class='glightbox'&gt;...&lt;/a&gt;
        &lt;div&gt;[DetaylÄ± aÃ§Ä±klama]&lt;/div&gt;
    &lt;/div&gt;
&lt;/section&gt;</div>
            </div>
        </section>

        <!-- SQL SORGULARI -->
        <section>
            <h2><i class="fas fa-database"></i> SQL SORGULARI</h2>

            <div class="block">
                <h3>Yedek ParÃ§a Ana ÃœrÃ¼nlerini Bul</h3>
                <div class="code">-- Tenant database seÃ§
USE tenant_ixtif;

-- Yedek parÃ§a kategorisindeki ana Ã¼rÃ¼nler
SELECT
    p.product_id,
    p.title,
    p.category_id,
    c.title AS category_title,
    LENGTH(JSON_EXTRACT(p.body, '$.tr')) AS content_length,
    CASE
        WHEN LENGTH(JSON_EXTRACT(p.body, '$.tr')) > 100 THEN 'Branch A (GeniÅŸlet)'
        ELSE 'Branch B (Yeni OluÅŸtur)'
    END AS strategy
FROM shop_products p
JOIN shop_categories c ON p.category_id = c.category_id
WHERE (p.category_id = 7 OR c.parent_id = 7)
AND (p.parent_product_id IS NULL OR p.parent_product_id = 0)
ORDER BY strategy, p.product_id;</div>
            </div>

            <div class="block">
                <h3>Ä°statistikler</h3>
                <div class="code">-- Branch A: Mevcut iÃ§eriÄŸi olanlar
SELECT COUNT(*) AS branch_a_count
FROM shop_products p
WHERE (p.category_id = 7 OR EXISTS(
    SELECT 1 FROM shop_categories c
    WHERE c.category_id = p.category_id AND c.parent_id = 7
))
AND (p.parent_product_id IS NULL OR p.parent_product_id = 0)
AND LENGTH(JSON_EXTRACT(p.body, '$.tr')) > 100;

-- Branch B: Mevcut iÃ§eriÄŸi olmayanlar
SELECT COUNT(*) AS branch_b_count
FROM shop_products p
WHERE (p.category_id = 7 OR EXISTS(
    SELECT 1 FROM shop_categories c
    WHERE c.category_id = p.category_id AND c.parent_id = 7
))
AND (p.parent_product_id IS NULL OR p.parent_product_id = 0)
AND (p.body IS NULL OR LENGTH(JSON_EXTRACT(p.body, '$.tr')) <= 100);</div>
            </div>
        </section>

        <!-- Ã–RNEK KULLANIM -->
        <section>
            <h2><i class="fas fa-play-circle"></i> Ã–RNEK KULLANIM</h2>

            <div class="block success">
                <h3>ğŸ’¬ KullanÄ±cÄ± Ã–rnek Talebi</h3>
                <div class="code">KullanÄ±cÄ±: "product_id: 331 iÃ§in iÃ§erik Ã¼ret"</div>
            </div>

            <div class="block">
                <h3>ğŸ¤– Claude Code Ä°ÅŸlem AdÄ±mlarÄ±</h3>
                <ol>
                    <li><strong>Tenant baÅŸlat:</strong> Tenant 2 (ixtif.com) aktif et</li>
                    <li><strong>ÃœrÃ¼n getir:</strong> ShopProduct::find(331)</li>
                    <li><strong>Filtreleme:</strong> Yedek parÃ§a mÄ±? Variant deÄŸil mi?</li>
                    <li><strong>Strateji belirle:</strong> Mevcut iÃ§erik var mÄ±? (Branch A/B)</li>
                    <li><strong>Ä°Ã§erik Ã¼ret:</strong> Sen (Claude Code) prompt'a gÃ¶re iÃ§erik Ã¼ret</li>
                    <li><strong>Validation:</strong> Fiyat var mÄ±? Teknik detay (Branch B ise) var mÄ±?</li>
                    <li><strong>Leonardo AI:</strong> 2 gÃ¶rsel Ã¼ret (1024x1024)</li>
                    <li><strong>Embed gÃ¶rseller:</strong> Body iÃ§ine SEO taglerle yerleÅŸtir</li>
                    <li><strong>SEO ayarlarÄ±:</strong> updateSeo() ile meta title/description/keywords/og tags (KRÄ°TÄ°K!)</li>
                    <li><strong>Save:</strong> Database'e kaydet + cache temizle</li>
                    <li><strong>DoÄŸrula:</strong> URL'yi test et (https://ixtif.com/shop/...)</li>
                </ol>
            </div>
        </section>

        <!-- BAÅARI KRÄ°TERLERÄ° -->
        <section>
            <h2><i class="fas fa-trophy"></i> BAÅARI KRÄ°TERLERÄ°</h2>

            <div class="block success">
                <h3>âœ… Sistem BaÅŸarÄ±lÄ± SayÄ±lÄ±r EÄŸer:</h3>
                <ol>
                    <li>Sadece yedek parÃ§a kategorisi iÅŸleniyor</li>
                    <li>Variant Ã¼rÃ¼nler otomatik reject ediliyor</li>
                    <li>Mevcut iÃ§erik varsa (Branch A) teknik detaylar KORUNUYOR</li>
                    <li>Mevcut iÃ§erik yoksa (Branch B) genel tanÄ±tÄ±m yapÄ±lÄ±yor</li>
                    <li>HÄ°Ã‡BÄ°R ÃœRÃœNDE fiyat bilgisi YOK</li>
                    <li>Branch B Ã¼rÃ¼nlerinde spesifik teknik detay YOK</li>
                    <li>SEO keywords her Ã¼rÃ¼nde mevcut</li>
                    <li>Leonardo AI gÃ¶rselleri context saÄŸlÄ±yor (exact product deÄŸil)</li>
                    <li>GLightbox + SEO tags Ã§alÄ±ÅŸÄ±yor</li>
                    <li>Validation tÃ¼m kurallara uyuyor</li>
                </ol>
            </div>
        </section>

        <!-- KRÄ°TÄ°K GÃ–RSEL YÃ–NETÄ°MÄ° KURALLARI (2025-11-28 EKLENDÄ°) -->
        <section>
            <h2><i class="fas fa-exclamation-triangle"></i> ğŸ”´ KRÄ°TÄ°K GÃ–RSEL YÃ–NETÄ°MÄ° KURALLARI</h2>

            <div class="block critical">
                <h3>âš ï¸ ASLA LEONARDO AI CDN LÄ°NKLERÄ° KULLANMA!</h3>
                <p><strong>YANLIÅ:</strong></p>
                <div class="code">âŒ https://cdn.leonardo.ai/users/52776fa4.../image.jpg</div>

                <p><strong>DOÄRU:</strong></p>
                <div class="code">âœ… https://ixtif.com/storage/tenant2/987/akson-kece-kapagi-422-workshop.jpg</div>

                <p><strong>Neden?</strong></p>
                <ul>
                    <li>Leonardo AI linkleri harici CDN (dÄ±ÅŸa baÄŸÄ±mlÄ±lÄ±k)</li>
                    <li>GÃ¶rseller sisteme ait deÄŸil, silinebilir</li>
                    <li>SEO ve performans sorunlarÄ±</li>
                    <li>Media yÃ¶netimi takip edilemez</li>
                </ul>
            </div>

            <div class="block critical">
                <h3>ğŸ“¸ GÃ¶rsel YÃ¼kleme Workflow (ZORUNLU)</h3>
                <ol>
                    <li><strong>GÃ¶rsel OluÅŸtur:</strong> Leonardo AI / Placeholder / Stock photo</li>
                    <li><strong>Sisteme YÃ¼kle:</strong> Spatie Media Library kullan
                        <div class="code">$product->addMedia("/tmp/image.jpg")
    ->usingName("AÃ§Ä±klayÄ±cÄ± Ä°sim")
    ->usingFileName("seo-friendly-name.jpg")
    ->withCustomProperties([
        "alt" => "SEO alt text",
        "title" => "SEO title"
    ])
    ->toMediaCollection("gallery");</div>
                    </li>
                    <li><strong>Media Tablosuna Kaydet:</strong> Otomatik kaydedilir (media ID alÄ±nÄ±r)</li>
                    <li><strong>ixtif.com Linki Al:</strong>
                        <div class="code">$media->getFullUrl();
// https://ixtif.com/storage/tenant2/987/akson-kece-kapagi-422-workshop.jpg</div>
                    </li>
                    <li><strong>Body HTML GÃ¼ncelle:</strong> Placeholder URL'lerini gerÃ§ek linklerle deÄŸiÅŸtir</li>
                </ol>
            </div>
        </section>

        <!-- HTML YAPISI KRÄ°TÄ°K STANDARTLAR (2025-11-28 EKLENDÄ°) -->
        <section>
            <h2><i class="fas fa-code"></i> HTML YAPISI KRÄ°TÄ°K STANDARTLAR</h2>

            <div class="block critical">
                <h3>âš¡ Primary Specs Format (KRÄ°TÄ°K!)</h3>
                <p><strong>YANLIÅ (String Array):</strong></p>
                <div class="code">âŒ $product->primary_specs = [
    "tr" => ["OEM Kalite", "YÃ¼ksek DayanÄ±klÄ±lÄ±k"]
];</div>

                <p><strong>DOÄRU (Label/Value Pairs):</strong></p>
                <div class="code">âœ… $product->primary_specs = [
    ["label" => "Malzeme", "value" => "YÃ¼ksek Kalite KeÃ§e"],
    ["label" => "Uyumluluk", "value" => "Forklift Dingil Sistemleri"],
    ["label" => "Seri", "value" => "422"]
];</div>
            </div>

            <div class="block warning">
                <h3>ğŸ“ Minimum Ä°Ã§erik Gereksinimleri</h3>
                <table>
                    <tr>
                        <th>Ã–zellik</th>
                        <th>Minimum</th>
                    </tr>
                    <tr>
                        <td>Body Length (TR)</td>
                        <td>10,000 karakter</td>
                    </tr>
                    <tr>
                        <td>Ana BÃ¶lÃ¼m SayÄ±sÄ±</td>
                        <td>6 section</td>
                    </tr>
                    <tr>
                        <td>Feature KartlarÄ±</td>
                        <td>3 kart (grid 3 sÃ¼tun)</td>
                    </tr>
                    <tr>
                        <td>FAQ</td>
                        <td>5 soru-cevap (bilingual)</td>
                    </tr>
                    <tr>
                        <td>GÃ¶rseller</td>
                        <td>2 gÃ¶rsel (media tablosunda)</td>
                    </tr>
                </table>
            </div>

            <div class="block">
                <h3>ğŸ–¼ï¸ Sticky Sidebar Image Pattern (Zorunlu)</h3>
                <div class="code">&lt;section class="intro-section mb-20"&gt;
  &lt;div class="grid grid-cols-1 lg:grid-cols-3 gap-8"&gt;
    &lt;div class="lg:col-span-2"&gt;
      &lt;!-- 3 paragraf aÃ§Ä±klama --&gt;
    &lt;/div&gt;

    &lt;div class="lg:col-span-1"&gt;
      &lt;div class="sticky top-24"&gt;
        &lt;a href="[ixtif.com IMAGE]" class="glightbox"&gt;
          &lt;img src="[ixtif.com IMAGE]" alt="..." /&gt;
        &lt;/a&gt;
      &lt;/div&gt;
    &lt;/div&gt;
  &lt;/div&gt;
&lt;/section&gt;</div>
            </div>
        </section>

        <!-- GÃœNCEL BAÅARI KRÄ°TERLERÄ° (2025-11-28 REVÄ°ZE) -->
        <section>
            <h2><i class="fas fa-trophy"></i> GÃœNCEL BAÅARI KRÄ°TERLERÄ° (2025-11-28 Revize)</h2>

            <div class="block success">
                <h3>âœ… Sistem BaÅŸarÄ±lÄ± SayÄ±lÄ±r EÄŸer:</h3>
                <ol>
                    <li>Sadece yedek parÃ§a kategorisi iÅŸleniyor</li>
                    <li>Variant Ã¼rÃ¼nler otomatik reject ediliyor</li>
                    <li>Mevcut iÃ§erik varsa (Branch A) teknik detaylar KORUNUYOR</li>
                    <li>Mevcut iÃ§erik yoksa (Branch B) genel tanÄ±tÄ±m yapÄ±lÄ±yor</li>
                    <li>HÄ°Ã‡BÄ°R ÃœRÃœNDE fiyat bilgisi YOK</li>
                    <li>Branch B Ã¼rÃ¼nlerinde spesifik teknik detay YOK</li>
                    <li><strong>ğŸ”´ YENÄ°: GÃ¶rseller ixtif.com/storage/tenant2/... Ã¼zerinden (Leonardo CDN DEÄÄ°L!)</strong></li>
                    <li><strong>ğŸ”´ YENÄ°: Media tablosunda kayÄ±t VAR (Spatie Media Library)</strong></li>
                    <li><strong>ğŸ”´ YENÄ°: Primary specs label/value pairs formatÄ±nda</strong></li>
                    <li><strong>ğŸ”´ YENÄ°: Body length minimum 10,000 karakter</strong></li>
                    <li><strong>ğŸ”´ YENÄ°: Sticky sidebar image kullanÄ±lÄ±yor</strong></li>
                    <li><strong>ğŸ”´ YENÄ°: 3 sÃ¼tun feature grid mevcut</strong></li>
                    <li>SEO keywords her Ã¼rÃ¼nde mevcut</li>
                    <li>GLightbox + SEO tags Ã§alÄ±ÅŸÄ±yor</li>
                    <li>Validation tÃ¼m kurallara uyuyor</li>
                </ol>
            </div>

            <div class="block critical">
                <h3>âŒ Sistem BaÅŸarÄ±sÄ±z SayÄ±lÄ±r EÄŸer:</h3>
                <ol>
                    <li>Leonardo AI CDN linkleri kullanÄ±lÄ±yorsa</li>
                    <li>GÃ¶rseller media tablosunda yoksa</li>
                    <li>Primary specs string array formatÄ±ndaysa</li>
                    <li>Body length 10,000 karakterden azsa</li>
                    <li>Sticky sidebar image yoksa</li>
                    <li>Feature grid 3 sÃ¼tun deÄŸilse</li>
                    <li>Fiyat bilgisi varsa</li>
                    <li>Branch B'de spesifik teknik detay varsa</li>
                </ol>
            </div>
        </section>

        <footer>
            ğŸ¤– Claude Code Implementation Guide<br>
            ğŸ“… 2025-11-28 REVIZE | ğŸ¯ v6 - Media Management + Primary Specs Fix + Content Standards
        </footer>
    </div>
</body>
</html>
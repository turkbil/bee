<!DOCTYPE html>
<html lang="tr">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Paralel Dinleme Tespit Sistemi - Muzibu</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <style>
        .gradient-bg { background: linear-gradient(135deg, #1e293b 0%, #0f172a 100%); }
        .card { background: rgba(30, 41, 59, 0.8); backdrop-filter: blur(10px); }
        .glow { box-shadow: 0 0 30px rgba(59, 130, 246, 0.3); }
    </style>
</head>
<body class="gradient-bg min-h-screen text-gray-100">
    <div class="container mx-auto px-4 py-8 max-w-6xl">

        <!-- Header -->
        <header class="text-center mb-12">
            <div class="inline-block px-4 py-1 bg-blue-600/30 rounded-full text-blue-400 text-sm mb-4">
                ğŸ“‹ Planlama DokÃ¼manÄ±
            </div>
            <h1 class="text-4xl font-bold mb-4">Paralel Dinleme Tespit Sistemi</h1>
            <p class="text-gray-400 text-lg">GerÃ§ek ZamanlÄ± Ã‡oklu Cihaz KontrolÃ¼ - Spotify Modeli</p>
            <p class="text-gray-500 mt-2">1 Ocak 2026 - Muzibu B2B MÃ¼zik Platformu</p>
        </header>

        <!-- Basit AnlatÄ±m -->
        <section class="card rounded-xl p-6 mb-8 border border-green-800/50">
            <h2 class="text-xl font-semibold text-green-400 mb-4 flex items-center gap-2">
                <span>ğŸ“</span> Basit AnlatÄ±m (Herkes Ä°Ã§in)
            </h2>
            <div class="text-gray-300 space-y-4">
                <p>
                    <strong>Sorun:</strong> AynÄ± hesapla birden fazla cihazdan aynÄ± anda mÃ¼zik dinlenebiliyor.
                    Bu, tek lisanslÄ± aboneliklerde haksÄ±z kullanÄ±ma yol aÃ§Ä±yor.
                </p>
                <p>
                    <strong>Ã‡Ã¶zÃ¼m:</strong> Spotify gibi Ã§alÄ±ÅŸan bir sistem. Bir cihazda mÃ¼zik Ã§alarken
                    baÅŸka bir cihazdan giriÅŸ yapÄ±lÄ±rsa, eski cihaz otomatik durur ve kullanÄ±cÄ±ya bildirim gider.
                </p>
                <div class="bg-slate-800/50 rounded-lg p-4 mt-4">
                    <p class="text-sm text-gray-400 mb-2">Ã–rnek Senaryo:</p>
                    <ol class="list-decimal list-inside space-y-1 text-sm">
                        <li>Ali, Mac'inden Muzibu'da ÅŸarkÄ± dinliyor</li>
                        <li>Ali'nin arkadaÅŸÄ± Veli, aynÄ± hesapla Windows'tan giriÅŸ yapÄ±yor</li>
                        <li>Ali'nin Mac'inde mÃ¼zik durur, "BaÅŸka cihazda dinleniyor" mesajÄ± Ã§Ä±kar</li>
                        <li>Veli'nin Windows'unda mÃ¼zik Ã§almaya baÅŸlar</li>
                    </ol>
                </div>
            </div>
        </section>

        <!-- Mevcut vs Yeni Sistem -->
        <section class="card rounded-xl p-6 mb-8 border border-slate-700">
            <h2 class="text-xl font-semibold text-white mb-4 flex items-center gap-2">
                <span>âš–ï¸</span> Mevcut Sistem vs Yeni Sistem
            </h2>
            <div class="overflow-x-auto">
                <table class="w-full text-sm">
                    <thead>
                        <tr class="border-b border-slate-600">
                            <th class="text-left py-3 px-4 text-gray-400">Ã–zellik</th>
                            <th class="text-center py-3 px-4 text-red-400">Mevcut (Abuse Reports)</th>
                            <th class="text-center py-3 px-4 text-green-400">Yeni (Paralel Tespit)</th>
                        </tr>
                    </thead>
                    <tbody class="text-gray-300">
                        <tr class="border-b border-slate-700/50">
                            <td class="py-3 px-4">Tespit ZamanÄ±</td>
                            <td class="text-center py-3 px-4">â° Sonradan (rapor)</td>
                            <td class="text-center py-3 px-4">âš¡ AnlÄ±k</td>
                        </tr>
                        <tr class="border-b border-slate-700/50">
                            <td class="py-3 px-4">Engelleme</td>
                            <td class="text-center py-3 px-4">âŒ Yok</td>
                            <td class="text-center py-3 px-4">âœ… Var</td>
                        </tr>
                        <tr class="border-b border-slate-700/50">
                            <td class="py-3 px-4">KullanÄ±cÄ± Bildirimi</td>
                            <td class="text-center py-3 px-4">âŒ Yok</td>
                            <td class="text-center py-3 px-4">âœ… AnlÄ±k popup</td>
                        </tr>
                        <tr class="border-b border-slate-700/50">
                            <td class="py-3 px-4">Heartbeat</td>
                            <td class="text-center py-3 px-4">âŒ Yok</td>
                            <td class="text-center py-3 px-4">âœ… 30 saniyede bir</td>
                        </tr>
                        <tr class="border-b border-slate-700/50">
                            <td class="py-3 px-4">Aktif Oturum Takibi</td>
                            <td class="text-center py-3 px-4">âŒ Yok</td>
                            <td class="text-center py-3 px-4">âœ… Redis tabanlÄ±</td>
                        </tr>
                        <tr>
                            <td class="py-3 px-4">CaydÄ±rÄ±cÄ±lÄ±k</td>
                            <td class="text-center py-3 px-4">ğŸ“Š DÃ¼ÅŸÃ¼k (rapor)</td>
                            <td class="text-center py-3 px-4">ğŸ›¡ï¸ YÃ¼ksek (engel)</td>
                        </tr>
                    </tbody>
                </table>
            </div>
        </section>

        <!-- Sistem Mimarisi -->
        <section class="card rounded-xl p-6 mb-8 border border-blue-800/50">
            <h2 class="text-xl font-semibold text-blue-400 mb-4 flex items-center gap-2">
                <span>ğŸ”§</span> Teknik Mimari
            </h2>

            <!-- Flow Diagram -->
            <div class="bg-slate-900 rounded-lg p-6 mb-6 overflow-x-auto">
                <pre class="text-xs text-gray-300 font-mono whitespace-pre">
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                           PARALEL DÄ°NLEME TESPÄ°T SÄ°STEMÄ°                            â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”                    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”                    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚   CÄ°HAZ 1    â”‚                    â”‚    SERVER    â”‚                    â”‚   CÄ°HAZ 2    â”‚
â”‚   (Mac)      â”‚                    â”‚   (Laravel)  â”‚                    â”‚  (Windows)   â”‚
â””â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”˜                    â””â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”˜                    â””â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”˜
       â”‚                                   â”‚                                   â”‚
       â”‚  1. POST /api/session/start       â”‚                                   â”‚
       â”‚  {song_id, device_key}            â”‚                                   â”‚
       â”‚â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€>â”‚                                   â”‚
       â”‚                                   â”‚                                   â”‚
       â”‚                                   â”‚ Redis: SET active_session:user_1  â”‚
       â”‚                                   â”‚ {device: mac, song: 123, ts: now} â”‚
       â”‚                                   â”‚                                   â”‚
       â”‚<â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”‚                                   â”‚
       â”‚  OK, session_id: abc123           â”‚                                   â”‚
       â”‚                                   â”‚                                   â”‚
       â”‚  2. Heartbeat (her 30s)           â”‚                                   â”‚
       â”‚  POST /api/session/heartbeat      â”‚                                   â”‚
       â”‚â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€>â”‚                                   â”‚
       â”‚                                   â”‚ Redis: EXPIRE +60s                â”‚
       â”‚<â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”‚                                   â”‚
       â”‚  OK                               â”‚                                   â”‚
       â”‚                                   â”‚                                   â”‚
       â”‚                                   â”‚  3. POST /api/session/start       â”‚
       â”‚                                   â”‚  {song_id, device_key}            â”‚
       â”‚                                   â”‚<â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”‚
       â”‚                                   â”‚                                   â”‚
       â”‚                                   â”‚ Redis: GET active_session:user_1  â”‚
       â”‚                                   â”‚ âš ï¸ CONFLICT! Mac already playing  â”‚
       â”‚                                   â”‚                                   â”‚
       â”‚  4. SSE: session_takeover         â”‚                                   â”‚
       â”‚  {new_device: windows}            â”‚                                   â”‚
       â”‚<â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”‚                                   â”‚
       â”‚                                   â”‚â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€>â”‚
       â”‚  ğŸ”´ PAUSE + MODAL                 â”‚  OK, session_id: xyz789           â”‚
       â”‚  "BaÅŸka cihazda dinleniyor"       â”‚                                   â”‚
       â”‚                                   â”‚                                   â”‚
       â–¼                                   â–¼                                   â–¼
                </pre>
            </div>

            <!-- BileÅŸenler -->
            <div class="grid md:grid-cols-2 gap-4">
                <div class="bg-slate-800/50 rounded-lg p-4">
                    <h4 class="font-semibold text-purple-400 mb-2">ğŸ—„ï¸ Database (MySQL)</h4>
                    <p class="text-sm text-gray-400 mb-2">KalÄ±cÄ± oturum geÃ§miÅŸi</p>
                    <code class="text-xs text-green-300">muzibu_playback_sessions</code>
                </div>
                <div class="bg-slate-800/50 rounded-lg p-4">
                    <h4 class="font-semibold text-red-400 mb-2">âš¡ Redis</h4>
                    <p class="text-sm text-gray-400 mb-2">AnlÄ±k aktif oturum (TTL: 60s)</p>
                    <code class="text-xs text-green-300">active_session:user_{id}</code>
                </div>
                <div class="bg-slate-800/50 rounded-lg p-4">
                    <h4 class="font-semibold text-yellow-400 mb-2">ğŸ”” SSE (Server-Sent Events)</h4>
                    <p class="text-sm text-gray-400 mb-2">AnlÄ±k bildirim</p>
                    <code class="text-xs text-green-300">GET /api/session/events</code>
                </div>
                <div class="bg-slate-800/50 rounded-lg p-4">
                    <h4 class="font-semibold text-blue-400 mb-2">ğŸ’“ Heartbeat</h4>
                    <p class="text-sm text-gray-400 mb-2">Her 30 saniyede sinyal</p>
                    <code class="text-xs text-green-300">POST /api/session/heartbeat</code>
                </div>
            </div>
        </section>

        <!-- Database Schema -->
        <section class="card rounded-xl p-6 mb-8 border border-purple-800/50">
            <h2 class="text-xl font-semibold text-purple-400 mb-4 flex items-center gap-2">
                <span>ğŸ—„ï¸</span> VeritabanÄ± ÅemasÄ±
            </h2>

            <div class="bg-slate-900 rounded-lg p-4 mb-4">
                <h4 class="text-sm text-gray-400 mb-2">Tablo: muzibu_playback_sessions</h4>
                <div class="overflow-x-auto">
                    <table class="w-full text-xs">
                        <thead>
                            <tr class="border-b border-slate-700">
                                <th class="text-left py-2 px-3 text-gray-400">Kolon</th>
                                <th class="text-left py-2 px-3 text-gray-400">Tip</th>
                                <th class="text-left py-2 px-3 text-gray-400">AÃ§Ä±klama</th>
                            </tr>
                        </thead>
                        <tbody class="text-gray-300 font-mono">
                            <tr class="border-b border-slate-800"><td class="py-2 px-3">id</td><td>bigint PK</td><td class="text-gray-500">Auto increment</td></tr>
                            <tr class="border-b border-slate-800"><td class="py-2 px-3">user_id</td><td>bigint FK</td><td class="text-gray-500">users.id</td></tr>
                            <tr class="border-b border-slate-800"><td class="py-2 px-3">session_token</td><td>varchar(64)</td><td class="text-gray-500">Benzersiz oturum ID</td></tr>
                            <tr class="border-b border-slate-800"><td class="py-2 px-3">device_key</td><td>varchar(100)</td><td class="text-gray-500">Platform-Browser-IP</td></tr>
                            <tr class="border-b border-slate-800"><td class="py-2 px-3">device_name</td><td>varchar(100)</td><td class="text-gray-500">"Chrome on macOS"</td></tr>
                            <tr class="border-b border-slate-800"><td class="py-2 px-3">ip_address</td><td>varchar(45)</td><td class="text-gray-500">IPv4/IPv6</td></tr>
                            <tr class="border-b border-slate-800"><td class="py-2 px-3">current_song_id</td><td>bigint NULL</td><td class="text-gray-500">Åu an Ã§alan ÅŸarkÄ±</td></tr>
                            <tr class="border-b border-slate-800"><td class="py-2 px-3">started_at</td><td>timestamp</td><td class="text-gray-500">Oturum baÅŸlangÄ±cÄ±</td></tr>
                            <tr class="border-b border-slate-800"><td class="py-2 px-3">last_heartbeat_at</td><td>timestamp</td><td class="text-gray-500">Son sinyal zamanÄ±</td></tr>
                            <tr class="border-b border-slate-800"><td class="py-2 px-3">ended_at</td><td>timestamp NULL</td><td class="text-gray-500">Oturum bitiÅŸi</td></tr>
                            <tr class="border-b border-slate-800"><td class="py-2 px-3">end_reason</td><td>enum</td><td class="text-gray-500">normal, takeover, timeout, logout</td></tr>
                            <tr><td class="py-2 px-3">is_active</td><td>boolean</td><td class="text-gray-500">Aktif mi? (index)</td></tr>
                        </tbody>
                    </table>
                </div>
            </div>

            <div class="bg-slate-900 rounded-lg p-4">
                <h4 class="text-sm text-gray-400 mb-2">Redis Key YapÄ±sÄ±</h4>
                <div class="space-y-2 text-xs font-mono">
                    <div class="flex items-start gap-2">
                        <code class="text-green-400">active_session:user:{id}</code>
                        <span class="text-gray-500">â†’ Hash {session_token, device_key, song_id, started_at}</span>
                    </div>
                    <div class="flex items-start gap-2">
                        <code class="text-yellow-400">session_channel:user:{id}</code>
                        <span class="text-gray-500">â†’ Pub/Sub channel for SSE events</span>
                    </div>
                </div>
            </div>
        </section>

        <!-- API Endpoints -->
        <section class="card rounded-xl p-6 mb-8 border border-yellow-800/50">
            <h2 class="text-xl font-semibold text-yellow-400 mb-4 flex items-center gap-2">
                <span>ğŸŒ</span> API Endpoints
            </h2>

            <div class="space-y-4">
                <!-- Start Session -->
                <div class="bg-slate-800/50 rounded-lg p-4">
                    <div class="flex items-center gap-2 mb-2">
                        <span class="px-2 py-1 bg-green-600/30 text-green-400 text-xs rounded">POST</span>
                        <code class="text-sm text-gray-300">/api/session/start</code>
                    </div>
                    <p class="text-sm text-gray-400 mb-2">Yeni playback oturumu baÅŸlat</p>
                    <div class="grid md:grid-cols-2 gap-4 text-xs">
                        <div>
                            <p class="text-gray-500 mb-1">Request:</p>
                            <pre class="bg-slate-900 p-2 rounded text-green-300">{
  "song_id": 123,
  "device_key": "macOS-Chrome-89.180"
}</pre>
                        </div>
                        <div>
                            <p class="text-gray-500 mb-1">Response:</p>
                            <pre class="bg-slate-900 p-2 rounded text-blue-300">{
  "session_token": "abc123...",
  "status": "ok",
  "takeover": false
}</pre>
                        </div>
                    </div>
                </div>

                <!-- Heartbeat -->
                <div class="bg-slate-800/50 rounded-lg p-4">
                    <div class="flex items-center gap-2 mb-2">
                        <span class="px-2 py-1 bg-green-600/30 text-green-400 text-xs rounded">POST</span>
                        <code class="text-sm text-gray-300">/api/session/heartbeat</code>
                    </div>
                    <p class="text-sm text-gray-400 mb-2">Oturumu canlÄ± tut (her 30s)</p>
                    <div class="grid md:grid-cols-2 gap-4 text-xs">
                        <div>
                            <p class="text-gray-500 mb-1">Request:</p>
                            <pre class="bg-slate-900 p-2 rounded text-green-300">{
  "session_token": "abc123...",
  "current_time": 45.5,
  "song_id": 123
}</pre>
                        </div>
                        <div>
                            <p class="text-gray-500 mb-1">Response:</p>
                            <pre class="bg-slate-900 p-2 rounded text-blue-300">{
  "status": "ok",
  "active": true
}</pre>
                        </div>
                    </div>
                </div>

                <!-- Events SSE -->
                <div class="bg-slate-800/50 rounded-lg p-4">
                    <div class="flex items-center gap-2 mb-2">
                        <span class="px-2 py-1 bg-blue-600/30 text-blue-400 text-xs rounded">GET</span>
                        <code class="text-sm text-gray-300">/api/session/events</code>
                        <span class="px-2 py-1 bg-purple-600/30 text-purple-400 text-xs rounded">SSE</span>
                    </div>
                    <p class="text-sm text-gray-400 mb-2">Server-Sent Events - AnlÄ±k bildirimler</p>
                    <div class="text-xs">
                        <p class="text-gray-500 mb-1">Event Types:</p>
                        <pre class="bg-slate-900 p-2 rounded text-yellow-300">event: session_takeover
data: {"new_device": "Windows-Chrome", "message": "BaÅŸka cihazda dinleniyor"}

event: session_ended
data: {"reason": "timeout", "message": "Oturum zaman aÅŸÄ±mÄ±na uÄŸradÄ±"}</pre>
                    </div>
                </div>

                <!-- End Session -->
                <div class="bg-slate-800/50 rounded-lg p-4">
                    <div class="flex items-center gap-2 mb-2">
                        <span class="px-2 py-1 bg-red-600/30 text-red-400 text-xs rounded">POST</span>
                        <code class="text-sm text-gray-300">/api/session/end</code>
                    </div>
                    <p class="text-sm text-gray-400 mb-2">Oturumu sonlandÄ±r (logout, tab kapanma)</p>
                </div>
            </div>
        </section>

        <!-- Frontend Integration -->
        <section class="card rounded-xl p-6 mb-8 border border-cyan-800/50">
            <h2 class="text-xl font-semibold text-cyan-400 mb-4 flex items-center gap-2">
                <span>ğŸ¨</span> Frontend Entegrasyonu
            </h2>

            <div class="space-y-4">
                <div class="bg-slate-800/50 rounded-lg p-4">
                    <h4 class="font-semibold text-white mb-2">1. Session Manager (JS)</h4>
                    <p class="text-sm text-gray-400">player-core.js'e eklenecek yeni modÃ¼l</p>
                    <ul class="text-sm text-gray-300 mt-2 space-y-1 list-disc list-inside">
                        <li>ÅarkÄ± baÅŸlarken <code class="text-green-300">startSession()</code></li>
                        <li>30 saniyede bir <code class="text-green-300">sendHeartbeat()</code></li>
                        <li>Tab kapanÄ±nca <code class="text-green-300">endSession()</code></li>
                        <li>SSE dinleme <code class="text-green-300">listenForTakeover()</code></li>
                    </ul>
                </div>

                <div class="bg-slate-800/50 rounded-lg p-4">
                    <h4 class="font-semibold text-white mb-2">2. Takeover Modal</h4>
                    <p class="text-sm text-gray-400">BaÅŸka cihazdan giriÅŸ yapÄ±ldÄ±ÄŸÄ±nda gÃ¶sterilecek popup</p>
                    <div class="mt-3 bg-slate-900 rounded-lg p-4 border border-red-500/30">
                        <div class="text-center">
                            <div class="text-4xl mb-2">ğŸ”‡</div>
                            <h5 class="text-lg font-semibold text-white mb-2">MÃ¼zik BaÅŸka Cihazda Ã‡alÄ±yor</h5>
                            <p class="text-sm text-gray-400 mb-4">Windows - Chrome tarayÄ±cÄ±sÄ±nda dinleme baÅŸladÄ±</p>
                            <div class="flex justify-center gap-3">
                                <button class="px-4 py-2 bg-blue-600 text-white rounded-lg text-sm">Buradan Devam Et</button>
                                <button class="px-4 py-2 bg-slate-700 text-gray-300 rounded-lg text-sm">Tamam</button>
                            </div>
                        </div>
                    </div>
                </div>

                <div class="bg-slate-800/50 rounded-lg p-4">
                    <h4 class="font-semibold text-white mb-2">3. Cihaz YÃ¶netimi SayfasÄ±</h4>
                    <p class="text-sm text-gray-400">KullanÄ±cÄ±nÄ±n aktif oturumlarÄ±nÄ± gÃ¶rebileceÄŸi sayfa</p>
                    <ul class="text-sm text-gray-300 mt-2 space-y-1 list-disc list-inside">
                        <li>Aktif cihazlar listesi</li>
                        <li>Son aktivite zamanÄ±</li>
                        <li>"Bu cihazdan Ã§Ä±kÄ±ÅŸ yap" butonu</li>
                        <li>"TÃ¼m cihazlardan Ã§Ä±kÄ±ÅŸ yap" butonu</li>
                    </ul>
                </div>
            </div>
        </section>

        <!-- Implementation Steps -->
        <section class="card rounded-xl p-6 mb-8 border border-emerald-800/50">
            <h2 class="text-xl font-semibold text-emerald-400 mb-4 flex items-center gap-2">
                <span>ğŸ“Š</span> Uygulama AdÄ±mlarÄ±
            </h2>

            <div class="space-y-4">
                <!-- Phase 1 -->
                <div class="border-l-4 border-blue-500 pl-4">
                    <h4 class="font-semibold text-blue-400">Faz 1: Backend AltyapÄ±sÄ±</h4>
                    <ul class="text-sm text-gray-300 mt-2 space-y-1">
                        <li class="flex items-center gap-2">
                            <span class="w-5 h-5 rounded bg-slate-700 flex items-center justify-center text-xs">1</span>
                            Migration: <code class="text-green-300">create_playback_sessions_table</code>
                        </li>
                        <li class="flex items-center gap-2">
                            <span class="w-5 h-5 rounded bg-slate-700 flex items-center justify-center text-xs">2</span>
                            Model: <code class="text-green-300">PlaybackSession.php</code>
                        </li>
                        <li class="flex items-center gap-2">
                            <span class="w-5 h-5 rounded bg-slate-700 flex items-center justify-center text-xs">3</span>
                            Service: <code class="text-green-300">PlaybackSessionService.php</code>
                        </li>
                        <li class="flex items-center gap-2">
                            <span class="w-5 h-5 rounded bg-slate-700 flex items-center justify-center text-xs">4</span>
                            Controller: <code class="text-green-300">PlaybackSessionController.php</code>
                        </li>
                    </ul>
                </div>

                <!-- Phase 2 -->
                <div class="border-l-4 border-purple-500 pl-4">
                    <h4 class="font-semibold text-purple-400">Faz 2: Redis Entegrasyonu</h4>
                    <ul class="text-sm text-gray-300 mt-2 space-y-1">
                        <li class="flex items-center gap-2">
                            <span class="w-5 h-5 rounded bg-slate-700 flex items-center justify-center text-xs">5</span>
                            Redis key yapÄ±sÄ± ve TTL ayarlarÄ±
                        </li>
                        <li class="flex items-center gap-2">
                            <span class="w-5 h-5 rounded bg-slate-700 flex items-center justify-center text-xs">6</span>
                            Pub/Sub channel for real-time events
                        </li>
                        <li class="flex items-center gap-2">
                            <span class="w-5 h-5 rounded bg-slate-700 flex items-center justify-center text-xs">7</span>
                            SSE endpoint implementation
                        </li>
                    </ul>
                </div>

                <!-- Phase 3 -->
                <div class="border-l-4 border-yellow-500 pl-4">
                    <h4 class="font-semibold text-yellow-400">Faz 3: Frontend Entegrasyonu</h4>
                    <ul class="text-sm text-gray-300 mt-2 space-y-1">
                        <li class="flex items-center gap-2">
                            <span class="w-5 h-5 rounded bg-slate-700 flex items-center justify-center text-xs">8</span>
                            <code class="text-green-300">session-manager.js</code> modÃ¼lÃ¼
                        </li>
                        <li class="flex items-center gap-2">
                            <span class="w-5 h-5 rounded bg-slate-700 flex items-center justify-center text-xs">9</span>
                            player-core.js entegrasyonu
                        </li>
                        <li class="flex items-center gap-2">
                            <span class="w-5 h-5 rounded bg-slate-700 flex items-center justify-center text-xs">10</span>
                            Takeover modal componenti
                        </li>
                    </ul>
                </div>

                <!-- Phase 4 -->
                <div class="border-l-4 border-green-500 pl-4">
                    <h4 class="font-semibold text-green-400">Faz 4: Admin Panel</h4>
                    <ul class="text-sm text-gray-300 mt-2 space-y-1">
                        <li class="flex items-center gap-2">
                            <span class="w-5 h-5 rounded bg-slate-700 flex items-center justify-center text-xs">11</span>
                            Aktif oturumlar dashboard
                        </li>
                        <li class="flex items-center gap-2">
                            <span class="w-5 h-5 rounded bg-slate-700 flex items-center justify-center text-xs">12</span>
                            Takeover geÃ§miÅŸi raporu
                        </li>
                        <li class="flex items-center gap-2">
                            <span class="w-5 h-5 rounded bg-slate-700 flex items-center justify-center text-xs">13</span>
                            Manuel oturum sonlandÄ±rma
                        </li>
                    </ul>
                </div>
            </div>
        </section>

        <!-- Config Options -->
        <section class="card rounded-xl p-6 mb-8 border border-orange-800/50">
            <h2 class="text-xl font-semibold text-orange-400 mb-4 flex items-center gap-2">
                <span>âš™ï¸</span> YapÄ±landÄ±rma SeÃ§enekleri
            </h2>

            <div class="grid md:grid-cols-2 gap-4">
                <div class="bg-slate-800/50 rounded-lg p-4">
                    <h4 class="font-semibold text-white mb-2">Timing</h4>
                    <ul class="text-sm text-gray-300 space-y-1">
                        <li><code class="text-yellow-300">HEARTBEAT_INTERVAL</code>: 30 saniye</li>
                        <li><code class="text-yellow-300">SESSION_TIMEOUT</code>: 60 saniye</li>
                        <li><code class="text-yellow-300">GRACE_PERIOD</code>: 5 saniye</li>
                    </ul>
                </div>
                <div class="bg-slate-800/50 rounded-lg p-4">
                    <h4 class="font-semibold text-white mb-2">Limits</h4>
                    <ul class="text-sm text-gray-300 space-y-1">
                        <li><code class="text-yellow-300">MAX_DEVICES</code>: 1 (Spotify) veya 2-3 (Premium)</li>
                        <li><code class="text-yellow-300">TAKEOVER_COOLDOWN</code>: 10 saniye</li>
                    </ul>
                </div>
                <div class="bg-slate-800/50 rounded-lg p-4">
                    <h4 class="font-semibold text-white mb-2">Behavior</h4>
                    <ul class="text-sm text-gray-300 space-y-1">
                        <li><code class="text-yellow-300">TAKEOVER_MODE</code>: auto | confirm</li>
                        <li><code class="text-yellow-300">LOG_TAKEOVERS</code>: true</li>
                    </ul>
                </div>
                <div class="bg-slate-800/50 rounded-lg p-4">
                    <h4 class="font-semibold text-white mb-2">Exceptions</h4>
                    <ul class="text-sm text-gray-300 space-y-1">
                        <li><code class="text-yellow-300">EXEMPT_ROLES</code>: ['admin', 'tester']</li>
                        <li><code class="text-yellow-300">EXEMPT_USERS</code>: [1, 2]</li>
                    </ul>
                </div>
            </div>
        </section>

        <!-- Risks -->
        <section class="card rounded-xl p-6 mb-8 border border-red-800/50">
            <h2 class="text-xl font-semibold text-red-400 mb-4 flex items-center gap-2">
                <span>âš ï¸</span> Dikkat Edilecekler
            </h2>

            <div class="grid md:grid-cols-2 gap-4">
                <div class="bg-red-900/20 rounded-lg p-4">
                    <h4 class="font-semibold text-red-300 mb-2">Riskler</h4>
                    <ul class="text-sm text-gray-300 space-y-1 list-disc list-inside">
                        <li>AÄŸ kesintisinde yanlÄ±ÅŸ takeover</li>
                        <li>Redis down olursa sistem Ã§Ã¶ker</li>
                        <li>SSE baÄŸlantÄ± limiti (browser ~6)</li>
                        <li>Mobil uygulamada background heartbeat</li>
                    </ul>
                </div>
                <div class="bg-green-900/20 rounded-lg p-4">
                    <h4 class="font-semibold text-green-300 mb-2">Ã‡Ã¶zÃ¼mler</h4>
                    <ul class="text-sm text-gray-300 space-y-1 list-disc list-inside">
                        <li>Grace period (5s tolerans)</li>
                        <li>Redis fallback to MySQL</li>
                        <li>Polling fallback for old browsers</li>
                        <li>Background task API for mobile</li>
                    </ul>
                </div>
            </div>
        </section>

        <!-- Footer -->
        <footer class="text-center text-gray-500 text-sm mt-12 pb-8">
            <p>Bu planlama dokÃ¼manÄ± Claude AI tarafÄ±ndan oluÅŸturulmuÅŸtur.</p>
            <p class="mt-1">Muzibu B2B MÃ¼zik Platformu - 2026</p>
        </footer>

    </div>
</body>
</html>

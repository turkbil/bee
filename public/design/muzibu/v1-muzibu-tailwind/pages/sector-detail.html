<!DOCTYPE html>
<html lang="tr" class="h-full bg-black">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Sekt√∂r - Muzibu</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.1/css/all.min.css">
    <script src="https://cdn.jsdelivr.net/npm/alpinejs@3.x.x/dist/cdn.min.js" defer></script>
    <script>
        tailwind.config = {
            theme: {
                extend: {
                    colors: {
                        'spotify-green': '#1db954',
                        'spotify-green-dark': '#1aa34a',
                        'spotify-black': '#121212',
                        'spotify-gray': '#181818',
                        'spotify-light-gray': '#282828',
                    }
                }
            }
        }
    </script>
    <style>
        body { font-family: 'Spotify Circular', -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, sans-serif; }
        .hide-scrollbar::-webkit-scrollbar { display: none; }
        .hide-scrollbar { -ms-overflow-style: none; scrollbar-width: none; }
    </style>
</head>
<body class="h-full bg-gradient-to-br from-gray-900 via-black to-gray-900 text-white antialiased" x-data="sectorDetailApp()">

    <!-- Top CTA Bar (Guest only) -->
    <div x-show="!isLoggedIn" x-transition class="fixed top-0 left-0 right-0 bg-gradient-to-r from-blue-600 to-purple-600 text-white text-sm py-2 px-4 z-50 flex items-center justify-center gap-3">
        <span>üéâ G√ºnde 1 saat √ºcretsiz dinleyin! Kalan s√ºre: <span x-text="formatListeningTime()"></span></span>
        <button @click="showAuthModal = 'register'" class="bg-white text-blue-600 px-4 py-1 rounded-full font-semibold hover:bg-gray-100 transition">√úcretsiz Ba≈üla</button>
    </div>

    <div class="flex h-screen" :class="!isLoggedIn ? 'pt-10' : ''">
        
        <!-- Sidebar -->
        <aside class="w-64 bg-black/50 backdrop-blur-sm border-r border-white/10 flex flex-col z-40">
            <div class="p-6">
                <h1 class="text-2xl font-bold bg-gradient-to-r from-blue-500 to-purple-500 bg-clip-text text-transparent">Muzibu</h1>
            </div>
            
            <nav class="flex-1 px-3 space-y-1">
                <a href="../index.html" class="flex items-center gap-3 px-4 py-3 rounded-lg text-gray-300 hover:text-white hover:bg-white/10 transition">
                    <i class="fas fa-home w-5"></i>
                    <span>Ana Sayfa</span>
                </a>
                <a href="#" class="flex items-center gap-3 px-4 py-3 rounded-lg text-gray-300 hover:text-white hover:bg-white/10 transition">
                    <i class="fas fa-search w-5"></i>
                    <span>Ara</span>
                </a>
                <a href="#" class="flex items-center gap-3 px-4 py-3 rounded-lg text-gray-300 hover:text-white hover:bg-white/10 transition">
                    <i class="fas fa-list-ul w-5"></i>
                    <span>√áalma Listeleri</span>
                </a>
                <a href="#" class="flex items-center gap-3 px-4 py-3 rounded-lg text-gray-300 hover:text-white hover:bg-white/10 transition">
                    <i class="fas fa-heart w-5"></i>
                    <span>Favoriler</span>
                </a>
                <a href="#" class="flex items-center gap-3 px-4 py-3 rounded-lg text-gray-300 hover:text-white hover:bg-white/10 transition">
                    <i class="fas fa-compact-disc w-5"></i>
                    <span>Alb√ºmler</span>
                </a>
                <a href="#" class="flex items-center gap-3 px-4 py-3 rounded-lg text-white bg-white/10">
                    <i class="fas fa-building w-5"></i>
                    <span>Sekt√∂rler</span>
                </a>
            </nav>

            <!-- User Section -->
            <div class="p-4 border-t border-white/10">
                <template x-if="!isLoggedIn">
                    <div class="space-y-2">
                        <button @click="showAuthModal = 'login'" class="w-full bg-white/10 hover:bg-white/20 text-white px-4 py-2 rounded-lg transition">Giri≈ü Yap</button>
                        <button @click="showAuthModal = 'register'" class="w-full bg-gradient-to-r from-blue-600 to-purple-600 hover:from-blue-700 hover:to-purple-700 text-white px-4 py-2 rounded-lg transition">√úye Ol</button>
                    </div>
                </template>
                <template x-if="isLoggedIn">
                    <div x-data="{ userMenuOpen: false }" class="relative">
                        <button @click="userMenuOpen = !userMenuOpen" class="w-full flex items-center gap-3 p-3 rounded-lg hover:bg-white/10 transition">
                            <div class="w-10 h-10 rounded-full bg-gradient-to-br from-blue-500 to-purple-500 flex items-center justify-center text-white font-bold">
                                DK
                            </div>
                            <div class="flex-1 text-left">
                                <div class="font-semibold">Demo Kullanƒ±cƒ±</div>
                                <div class="text-xs text-gray-400">Premium √úye</div>
                            </div>
                            <i class="fas fa-chevron-up text-gray-400"></i>
                        </button>
                        <div x-show="userMenuOpen" @click.away="userMenuOpen = false" x-transition class="absolute bottom-full left-0 right-0 mb-2 bg-spotify-light-gray rounded-lg shadow-xl overflow-hidden">
                            <a href="#" class="block px-4 py-3 hover:bg-white/10 transition">
                                <i class="fas fa-user w-5 mr-2"></i> Profilim
                            </a>
                            <a href="#" class="block px-4 py-3 hover:bg-white/10 transition">
                                <i class="fas fa-cog w-5 mr-2"></i> Ayarlar
                            </a>
                            <button @click="logout()" class="w-full text-left px-4 py-3 hover:bg-white/10 transition border-t border-white/10">
                                <i class="fas fa-sign-out-alt w-5 mr-2"></i> √áƒ±kƒ±≈ü Yap
                            </button>
                        </div>
                    </div>
                </template>
            </div>
        </aside>

        <!-- Main Content -->
        <main class="flex-1 overflow-y-auto hide-scrollbar pb-32">
            
            <!-- Sector Header -->
            <div class="relative bg-gradient-to-b from-orange-900/50 to-transparent">
                <div class="px-8 pt-8 pb-6">
                    <button onclick="history.back()" class="mb-6 flex items-center gap-2 text-gray-300 hover:text-white transition">
                        <i class="fas fa-arrow-left"></i>
                        <span>Geri D√∂n</span>
                    </button>

                    <div class="flex items-end gap-6">
                        <div class="w-56 h-56 rounded-lg bg-gradient-to-br from-orange-500 to-red-500 shadow-2xl flex items-center justify-center">
                            <i class="fas fa-coffee text-white text-7xl"></i>
                        </div>
                        <div class="flex-1 pb-4">
                            <div class="text-sm font-semibold uppercase tracking-wide mb-2">Sekt√∂r</div>
                            <h1 class="text-7xl font-bold mb-6">Kafe & Restoran</h1>
                            <p class="text-gray-300 mb-4">ƒ∞≈ületmeniz i√ßin √∂zenle se√ßilmi≈ü, yasal ve telifsiz m√ºzikler. M√º≈üterilerinize keyifli bir atmosfer sunun.</p>
                            <div class="flex items-center gap-2 text-sm text-gray-400">
                                <span class="font-semibold text-white">Muzibu</span>
                                <span>‚Ä¢</span>
                                <span>2,450 ≈üarkƒ±</span>
                                <span>‚Ä¢</span>
                                <span>156 saat</span>
                            </div>
                        </div>
                    </div>
                </div>
            </div>

            <!-- Action Buttons -->
            <div class="px-8 py-6 flex items-center gap-4">
                <button @click="playAll()" class="w-16 h-16 bg-spotify-green hover:bg-spotify-green-dark rounded-full flex items-center justify-center shadow-xl hover:scale-105 transition">
                    <i class="fas fa-play text-black text-2xl ml-1"></i>
                </button>
                <button @click="shuffle = true; playAll()" class="px-6 py-3 bg-white/10 hover:bg-white/20 rounded-full flex items-center gap-2 transition">
                    <i class="fas fa-random"></i>
                    <span>Karƒ±≈ütƒ±r</span>
                </button>
                <button @click="toggleSectorFavorite()" class="w-12 h-12 flex items-center justify-center text-gray-400 hover:text-white hover:scale-110 transition">
                    <i :class="isSectorFavorited ? 'fas fa-heart text-spotify-green' : 'far fa-heart'" class="text-3xl"></i>
                </button>
            </div>

            <!-- Tabs -->
            <div class="px-8 mb-6">
                <div class="flex gap-4 border-b border-white/10">
                    <button @click="activeTab = 'playlists'" :class="activeTab === 'playlists' ? 'text-white border-b-2 border-spotify-green' : 'text-gray-400'" class="px-4 py-3 font-semibold transition">
                        √áalma Listeleri
                    </button>
                    <button @click="activeTab = 'songs'" :class="activeTab === 'songs' ? 'text-white border-b-2 border-spotify-green' : 'text-gray-400'" class="px-4 py-3 font-semibold transition">
                        T√ºm ≈ûarkƒ±lar
                    </button>
                    <button @click="activeTab = 'info'" :class="activeTab === 'info' ? 'text-white border-b-2 border-spotify-green' : 'text-gray-400'" class="px-4 py-3 font-semibold transition">
                        Sekt√∂r Bilgisi
                    </button>
                </div>
            </div>

            <!-- Playlists Tab -->
            <div x-show="activeTab === 'playlists'" class="px-8 pb-8">
                <div class="grid grid-cols-2 md:grid-cols-3 lg:grid-cols-4 gap-6">
                    <template x-for="playlist in sectorPlaylists" :key="playlist.id">
                        <a href="playlist-detail.html" class="group bg-white/5 p-4 rounded-lg hover:bg-white/10 transition">
                            <div class="relative mb-4">
                                <img :src="playlist.cover" class="w-full aspect-square rounded shadow-lg mb-4">
                                <button @click.prevent="playPlaylist(playlist.id)" class="absolute bottom-4 right-4 w-12 h-12 bg-spotify-green rounded-full flex items-center justify-center opacity-0 group-hover:opacity-100 translate-y-2 group-hover:translate-y-0 transition shadow-xl">
                                    <i class="fas fa-play text-black ml-0.5"></i>
                                </button>
                            </div>
                            <div class="font-semibold mb-1 truncate" x-text="playlist.title"></div>
                            <div class="text-sm text-gray-400 truncate" x-text="playlist.description"></div>
                        </a>
                    </template>
                </div>
            </div>

            <!-- Songs Tab -->
            <div x-show="activeTab === 'songs'" class="px-8 pb-8">
                <div class="mb-4 pb-2 border-b border-white/10 grid grid-cols-[auto_1fr_1fr_auto_auto] gap-4 px-4 text-sm text-gray-400 font-semibold">
                    <div class="w-10 text-center">#</div>
                    <div>BA≈ûLIK</div>
                    <div>ALB√úM</div>
                    <div class="w-20 text-center">S√úRE</div>
                    <div class="w-10"></div>
                </div>

                <div class="space-y-1">
                    <template x-for="(song, index) in sectorSongs" :key="song.id">
                        <div @dblclick="playSong(index)" class="group grid grid-cols-[auto_1fr_1fr_auto_auto] gap-4 px-4 py-3 rounded-lg hover:bg-white/5 transition cursor-pointer">
                            <!-- Index / Play Button -->
                            <div class="w-10 flex items-center justify-center">
                                <span x-show="currentSongIndex !== index" x-text="index + 1" class="text-gray-400 group-hover:hidden"></span>
                                <button x-show="currentSongIndex !== index" @click="playSong(index)" class="hidden group-hover:block">
                                    <i class="fas fa-play text-white"></i>
                                </button>
                                <button x-show="currentSongIndex === index" @click="togglePlay()">
                                    <i :class="isPlaying ? 'fa-pause' : 'fa-play'" class="fas text-spotify-green"></i>
                                </button>
                            </div>

                            <!-- Title & Artist -->
                            <div class="flex items-center gap-3 min-w-0">
                                <img :src="song.cover" :alt="song.title" class="w-12 h-12 rounded object-cover">
                                <div class="min-w-0">
                                    <div class="font-semibold truncate" :class="currentSongIndex === index ? 'text-spotify-green' : 'text-white'" x-text="song.title"></div>
                                    <div class="text-sm text-gray-400 truncate" x-text="song.artist"></div>
                                </div>
                            </div>

                            <!-- Album -->
                            <div class="flex items-center text-gray-400 text-sm truncate">
                                <span x-text="song.album"></span>
                            </div>

                            <!-- Duration -->
                            <div class="flex items-center justify-center text-gray-400 text-sm">
                                <span x-text="song.duration"></span>
                            </div>

                            <!-- Actions -->
                            <div class="flex items-center gap-2 opacity-0 group-hover:opacity-100 transition">
                                <button @click.stop="toggleSongFavorite(song.id)" class="w-8 h-8 flex items-center justify-center hover:text-spotify-green transition">
                                    <i :class="favorites.includes(song.id) ? 'fas fa-heart text-spotify-green' : 'far fa-heart'" class="text-lg"></i>
                                </button>
                            </div>
                        </div>
                    </template>
                </div>
            </div>

            <!-- Info Tab -->
            <div x-show="activeTab === 'info'" class="px-8 pb-8">
                <div class="max-w-4xl">
                    <div class="bg-white/5 rounded-xl p-8 mb-6">
                        <h2 class="text-2xl font-bold mb-4">Kafe & Restoran M√ºzikleri Hakkƒ±nda</h2>
                        <p class="text-gray-300 mb-4">
                            ƒ∞≈ületmeniz i√ßin √∂zenle se√ßilmi≈ü telifsiz m√ºzik koleksiyonumuz, m√º≈üterilerinize unutulmaz bir atmosfer ya≈üatmanƒ±za yardƒ±mcƒ± olur.
                        </p>
                        <div class="grid grid-cols-1 md:grid-cols-3 gap-6 mt-6">
                            <div class="text-center">
                                <div class="text-4xl font-bold text-spotify-green mb-2">2,450+</div>
                                <div class="text-gray-400">≈ûarkƒ±</div>
                            </div>
                            <div class="text-center">
                                <div class="text-4xl font-bold text-spotify-green mb-2">156</div>
                                <div class="text-gray-400">Saat M√ºzik</div>
                            </div>
                            <div class="text-center">
                                <div class="text-4xl font-bold text-spotify-green mb-2">%100</div>
                                <div class="text-gray-400">Telifsiz</div>
                            </div>
                        </div>
                    </div>

                    <div class="bg-white/5 rounded-xl p-8 mb-6">
                        <h3 class="text-xl font-bold mb-4">‚úÖ Neden Muzibu?</h3>
                        <ul class="space-y-3 text-gray-300">
                            <li class="flex items-start gap-3">
                                <i class="fas fa-check-circle text-spotify-green mt-1"></i>
                                <span><strong>Telifsiz M√ºzik:</strong> Telif sorunu ya≈üamadan i≈ületmenizde rahat√ßa kullanabilirsiniz.</span>
                            </li>
                            <li class="flex items-start gap-3">
                                <i class="fas fa-check-circle text-spotify-green mt-1"></i>
                                <span><strong>Profesyonel K√ºrat√∂rl√ºk:</strong> M√ºzik uzmanlarƒ± tarafƒ±ndan sekt√∂r√ºn√ºze √∂zel se√ßilmi≈ü par√ßalar.</span>
                            </li>
                            <li class="flex items-start gap-3">
                                <i class="fas fa-check-circle text-spotify-green mt-1"></i>
                                <span><strong>S√ºrekli G√ºncel:</strong> Her ay yeni ≈üarkƒ±lar ekleniyor, playlist'ler g√ºncelleniyor.</span>
                            </li>
                            <li class="flex items-start gap-3">
                                <i class="fas fa-check-circle text-spotify-green mt-1"></i>
                                <span><strong>Farklƒ± Atmosferler:</strong> Sabah, √∂ƒüle, ak≈üam i√ßin farklƒ± √ßalma listeleri.</span>
                            </li>
                        </ul>
                    </div>

                    <div class="bg-gradient-to-r from-blue-600/20 to-purple-600/20 rounded-xl p-8 border border-blue-500/30">
                        <h3 class="text-xl font-bold mb-2">üéØ ƒ∞≈ületmeniz ƒ∞√ßin √ñzel Fiyatlandƒ±rma</h3>
                        <p class="text-gray-300 mb-4">Kurumsal m√º≈üterilerimize √∂zel √ß√∂z√ºmler ve fiyatlar sunuyoruz.</p>
                        <button @click="showAuthModal = 'register'" class="bg-gradient-to-r from-blue-600 to-purple-600 hover:from-blue-700 hover:to-purple-700 text-white px-8 py-3 rounded-full font-semibold transition">
                            Kurumsal Teklif Al
                        </button>
                    </div>
                </div>
            </div>

        </main>

    </div>

    <!-- Music Player (Fixed Bottom) -->
    <div class="fixed bottom-0 left-0 right-0 bg-spotify-gray border-t border-white/10 z-50">
        <audio x-ref="audioPlayer" @timeupdate="updateProgress()" @ended="nextSong()" @loadedmetadata="setDuration()">
            <source src="/readme/muzibu-modul/Calling on You.mp3" type="audio/mpeg">
        </audio>

        <div class="px-4 py-3">
            <!-- Progress Bar -->
            <div class="mb-3 flex items-center gap-2 text-xs text-gray-400">
                <span x-text="formatTime(currentTime)">0:00</span>
                <div class="flex-1 h-1 bg-white/10 rounded-full cursor-pointer group" @click="seek($event)">
                    <div class="h-full bg-spotify-green rounded-full relative" :style="`width: ${progress}%`">
                        <div class="absolute right-0 top-1/2 -translate-y-1/2 w-3 h-3 bg-white rounded-full opacity-0 group-hover:opacity-100 transition"></div>
                    </div>
                </div>
                <span x-text="formatTime(duration)">0:00</span>
            </div>

            <div class="flex items-center justify-between">
                <!-- Current Song Info -->
                <div class="flex items-center gap-4 w-1/4">
                    <img :src="sectorSongs[currentSongIndex]?.cover" class="w-14 h-14 rounded object-cover">
                    <div class="min-w-0">
                        <div class="font-semibold text-sm truncate" x-text="sectorSongs[currentSongIndex]?.title">≈ûarkƒ± Se√ß</div>
                        <div class="text-xs text-gray-400 truncate" x-text="sectorSongs[currentSongIndex]?.artist">Sanat√ßƒ±</div>
                    </div>
                    <button @click="toggleSongFavorite(sectorSongs[currentSongIndex]?.id)" class="text-gray-400 hover:text-spotify-green transition">
                        <i :class="favorites.includes(sectorSongs[currentSongIndex]?.id) ? 'fas fa-heart text-spotify-green' : 'far fa-heart'"></i>
                    </button>
                </div>

                <!-- Player Controls -->
                <div class="flex flex-col items-center gap-2 w-2/4">
                    <div class="flex items-center gap-4">
                        <button @click="shuffle = !shuffle" :class="shuffle ? 'text-spotify-green' : 'text-gray-400'" class="hover:text-white transition">
                            <i class="fas fa-random"></i>
                        </button>
                        <button @click="previousSong()" class="text-gray-400 hover:text-white transition">
                            <i class="fas fa-step-backward"></i>
                        </button>
                        <button @click="togglePlay()" class="w-10 h-10 bg-white hover:scale-105 rounded-full flex items-center justify-center transition">
                            <i :class="isPlaying ? 'fa-pause' : 'fa-play'" class="fas text-black" :class="isPlaying ? '' : 'ml-0.5'"></i>
                        </button>
                        <button @click="nextSong()" class="text-gray-400 hover:text-white transition">
                            <i class="fas fa-step-forward"></i>
                        </button>
                        <button @click="repeat = (repeat + 1) % 3" :class="repeat > 0 ? 'text-spotify-green' : 'text-gray-400'" class="hover:text-white transition relative">
                            <i class="fas fa-redo"></i>
                            <span x-show="repeat === 2" class="absolute -top-1 -right-1 w-3 h-3 bg-spotify-green rounded-full text-[8px] flex items-center justify-center text-black font-bold">1</span>
                        </button>
                    </div>
                </div>

                <!-- Volume Control -->
                <div class="flex items-center justify-end gap-2 w-1/4">
                    <i class="fas fa-volume-up text-gray-400"></i>
                    <div class="w-24 h-1 bg-white/10 rounded-full cursor-pointer group" @click="setVolume($event)">
                        <div class="h-full bg-white rounded-full relative" :style="`width: ${volume * 100}%`">
                            <div class="absolute right-0 top-1/2 -translate-y-1/2 w-3 h-3 bg-white rounded-full opacity-0 group-hover:opacity-100 transition"></div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <!-- Login/Register Modal -->
    <template x-if="showAuthModal">
        <div class="fixed inset-0 bg-black/80 flex items-center justify-center z-[100]" @click.self="showAuthModal = null">
            <div class="bg-spotify-gray rounded-xl p-8 max-w-md w-full mx-4">
                <template x-if="showAuthModal === 'login'">
                    <div>
                        <h2 class="text-2xl font-bold mb-6">Giri≈ü Yap</h2>
                        <div class="space-y-4">
                            <input type="email" placeholder="E-posta" class="w-full bg-white/10 border border-white/20 rounded-lg px-4 py-3 focus:outline-none focus:border-spotify-green">
                            <input type="password" placeholder="≈ûifre" class="w-full bg-white/10 border border-white/20 rounded-lg px-4 py-3 focus:outline-none focus:border-spotify-green">
                            <button @click="login()" class="w-full bg-spotify-green hover:bg-spotify-green-dark text-black font-semibold py-3 rounded-full transition">Giri≈ü Yap</button>
                            <p class="text-center text-gray-400 text-sm">Hesabƒ±n yok mu? <button @click="showAuthModal = 'register'" class="text-spotify-green hover:underline">√úye Ol</button></p>
                        </div>
                    </div>
                </template>
                <template x-if="showAuthModal === 'register'">
                    <div>
                        <h2 class="text-2xl font-bold mb-2">√úcretsiz Kaydol</h2>
                        <p class="text-gray-400 mb-6">7 g√ºn √ºcretsiz premium deneyimi ba≈ülat</p>
                        <div class="space-y-4">
                            <input type="text" placeholder="ƒ∞≈ületme Adƒ±" class="w-full bg-white/10 border border-white/20 rounded-lg px-4 py-3 focus:outline-none focus:border-spotify-green">
                            <input type="email" placeholder="E-posta" class="w-full bg-white/10 border border-white/20 rounded-lg px-4 py-3 focus:outline-none focus:border-spotify-green">
                            <input type="tel" placeholder="Telefon" class="w-full bg-white/10 border border-white/20 rounded-lg px-4 py-3 focus:outline-none focus:border-spotify-green">
                            <button @click="register()" class="w-full bg-gradient-to-r from-blue-600 to-purple-600 hover:from-blue-700 hover:to-purple-700 text-white font-semibold py-3 rounded-full transition">Kurumsal Teklif Al</button>
                            <p class="text-center text-gray-400 text-sm">Zaten √ºye misin? <button @click="showAuthModal = 'login'" class="text-spotify-green hover:underline">Giri≈ü Yap</button></p>
                        </div>
                    </div>
                </template>
            </div>
        </div>
    </template>

    <script>
        function sectorDetailApp() {
            return {
                // Login State
                isLoggedIn: false,
                showAuthModal: null,
                listeningTimeToday: 0,
                maxListeningTime: 3600,

                // Sector State
                activeTab: 'playlists',
                isSectorFavorited: false,
                sectorPlaylists: [
                    { id: 1, title: 'Sabah Kahvesi', description: 'Sabah saatlerine √∂zel yumu≈üak melodiler', cover: 'https://picsum.photos/seed/cafe1/300' },
                    { id: 2, title: '√ñƒüle Keyfi', description: '√ñƒüle yemeƒüi i√ßin enerji veren par√ßalar', cover: 'https://picsum.photos/seed/cafe2/300' },
                    { id: 3, title: 'Ak≈üam Atmosferi', description: 'Ak≈üam saatlerine romantik dokunu≈ü', cover: 'https://picsum.photos/seed/cafe3/300' },
                    { id: 4, title: 'Caz Klasikleri', description: 'Sofistike mekan havasƒ± i√ßin jazz', cover: 'https://picsum.photos/seed/cafe4/300' },
                    { id: 5, title: 'Akustik Se√ßkiler', description: 'Sƒ±cak ve samimi akustik ≈üarkƒ±lar', cover: 'https://picsum.photos/seed/cafe5/300' },
                    { id: 6, title: 'Lounge Mix', description: 'Modern lounge m√ºzikleri', cover: 'https://picsum.photos/seed/cafe6/300' },
                    { id: 7, title: 'Bossa Nova', description: 'Latin esintili hafif m√ºzikler', cover: 'https://picsum.photos/seed/cafe7/300' },
                    { id: 8, title: 'ƒ∞ndie Favoriler', description: 'Alternatif ve indie rock se√ßkileri', cover: 'https://picsum.photos/seed/cafe8/300' },
                ],
                sectorSongs: [
                    { id: 1, title: 'Morning Coffee', artist: 'Jazz Cafe Ensemble', album: 'Cafe Classics', duration: '3:45', cover: 'https://picsum.photos/seed/song1/200' },
                    { id: 2, title: 'Smooth Lounge', artist: 'Lounge Masters', album: 'Chill Vibes', duration: '4:20', cover: 'https://picsum.photos/seed/song2/200' },
                    { id: 3, title: 'Acoustic Dreams', artist: 'The Folk Trio', album: 'Unplugged', duration: '3:12', cover: 'https://picsum.photos/seed/song3/200' },
                    { id: 4, title: 'Bossa Sunset', artist: 'Brazilian Waves', album: 'Tropical Nights', duration: '3:58', cover: 'https://picsum.photos/seed/song4/200' },
                    { id: 5, title: 'Jazz Piano', artist: 'Bill Evans Trio', album: 'Sunday Sessions', duration: '5:23', cover: 'https://picsum.photos/seed/song5/200' },
                    { id: 6, title: 'Indie Soul', artist: 'Urban Hearts', album: 'City Lights', duration: '3:34', cover: 'https://picsum.photos/seed/song6/200' },
                ],

                // Player State
                isPlaying: false,
                currentSongIndex: 0,
                currentTime: 0,
                duration: 0,
                progress: 0,
                volume: 0.7,
                shuffle: false,
                repeat: 0,
                favorites: [],

                init() {
                    this.isLoggedIn = localStorage.getItem('muzibu_logged_in') === 'true';
                    
                    const savedFavorites = localStorage.getItem('muzibu_favorites');
                    if (savedFavorites) {
                        this.favorites = JSON.parse(savedFavorites);
                    }

                    const savedTime = parseInt(localStorage.getItem('muzibu_listening_time') || '0');
                    const lastDate = localStorage.getItem('muzibu_last_date');
                    const today = new Date().toDateString();
                    
                    if (lastDate !== today) {
                        this.listeningTimeToday = 0;
                        localStorage.setItem('muzibu_last_date', today);
                    } else {
                        this.listeningTimeToday = savedTime;
                    }

                    this.$refs.audioPlayer.volume = this.volume;

                    setInterval(() => this.updateTime(), 1000);
                },

                login() {
                    this.isLoggedIn = true;
                    localStorage.setItem('muzibu_logged_in', 'true');
                    this.showAuthModal = null;
                },

                logout() {
                    this.isLoggedIn = false;
                    localStorage.removeItem('muzibu_logged_in');
                },

                register() {
                    this.login();
                },

                toggleSectorFavorite() {
                    this.isSectorFavorited = !this.isSectorFavorited;
                },

                toggleSongFavorite(songId) {
                    const index = this.favorites.indexOf(songId);
                    if (index > -1) {
                        this.favorites.splice(index, 1);
                    } else {
                        this.favorites.push(songId);
                    }
                    localStorage.setItem('muzibu_favorites', JSON.stringify(this.favorites));
                },

                playPlaylist(playlistId) {
                    console.log('Playing playlist:', playlistId);
                    this.playAll();
                },

                playAll() {
                    this.currentSongIndex = 0;
                    this.playSong(0);
                },

                playSong(index) {
                    if (!this.isLoggedIn && this.listeningTimeToday >= this.maxListeningTime) {
                        this.showAuthModal = 'register';
                        return;
                    }
                    this.currentSongIndex = index;
                    this.$refs.audioPlayer.play();
                    this.isPlaying = true;
                },

                togglePlay() {
                    if (!this.isLoggedIn && this.listeningTimeToday >= this.maxListeningTime) {
                        this.showAuthModal = 'register';
                        return;
                    }
                    if (this.isPlaying) {
                        this.$refs.audioPlayer.pause();
                    } else {
                        this.$refs.audioPlayer.play();
                    }
                    this.isPlaying = !this.isPlaying;
                },

                nextSong() {
                    if (this.repeat === 2) {
                        this.$refs.audioPlayer.currentTime = 0;
                        this.$refs.audioPlayer.play();
                    } else if (this.shuffle) {
                        this.currentSongIndex = Math.floor(Math.random() * this.sectorSongs.length);
                        this.playSong(this.currentSongIndex);
                    } else {
                        this.currentSongIndex = (this.currentSongIndex + 1) % this.sectorSongs.length;
                        if (this.currentSongIndex === 0 && this.repeat === 0) {
                            this.isPlaying = false;
                        } else {
                            this.playSong(this.currentSongIndex);
                        }
                    }
                },

                previousSong() {
                    if (this.currentTime > 3) {
                        this.$refs.audioPlayer.currentTime = 0;
                    } else {
                        this.currentSongIndex = (this.currentSongIndex - 1 + this.sectorSongs.length) % this.sectorSongs.length;
                        this.playSong(this.currentSongIndex);
                    }
                },

                updateProgress() {
                    this.currentTime = this.$refs.audioPlayer.currentTime;
                    this.progress = (this.currentTime / this.duration) * 100;
                },

                setDuration() {
                    this.duration = this.$refs.audioPlayer.duration;
                },

                seek(event) {
                    const rect = event.currentTarget.getBoundingClientRect();
                    const percent = (event.clientX - rect.left) / rect.width;
                    this.$refs.audioPlayer.currentTime = percent * this.duration;
                },

                setVolume(event) {
                    const rect = event.currentTarget.getBoundingClientRect();
                    this.volume = (event.clientX - rect.left) / rect.width;
                    this.$refs.audioPlayer.volume = this.volume;
                },

                formatTime(seconds) {
                    if (!seconds || isNaN(seconds)) return '0:00';
                    const mins = Math.floor(seconds / 60);
                    const secs = Math.floor(seconds % 60);
                    return `${mins}:${secs.toString().padStart(2, '0')}`;
                },

                formatListeningTime() {
                    const remaining = Math.max(0, this.maxListeningTime - this.listeningTimeToday);
                    const mins = Math.floor(remaining / 60);
                    const secs = remaining % 60;
                    return `${mins}:${secs.toString().padStart(2, '0')}`;
                },

                updateTime() {
                    if (!this.isLoggedIn && this.isPlaying) {
                        this.listeningTimeToday++;
                        localStorage.setItem('muzibu_listening_time', this.listeningTimeToday.toString());
                        
                        if (this.listeningTimeToday >= this.maxListeningTime) {
                            this.$refs.audioPlayer.pause();
                            this.isPlaying = false;
                            this.showAuthModal = 'register';
                        }
                    }
                }
            }
        }
    </script>

    <!-- Fixed Navigation Buttons (Bottom Right) -->
    <div class="fixed bottom-24 right-8 z-[60] flex flex-col gap-3" x-data="{ navOpen: false }">
        <div x-show="navOpen" x-transition class="bg-spotify-gray rounded-xl shadow-2xl overflow-hidden border border-white/10 mb-2">
            <div class="p-2 max-w-xs">
                <div class="px-3 py-2 text-xs text-gray-400 font-semibold border-b border-white/10 mb-2">DEMO SAYFALAR</div>
                <a href="../index.html" class="w-full flex items-center gap-3 px-3 py-2 rounded-lg hover:bg-white/5 transition-all text-left">
                    <i class="fas fa-home text-spotify-green"></i><span class="text-sm">Ana Sayfa</span>
                </a>
                <a href="playlist-detail.html" class="w-full flex items-center gap-3 px-3 py-2 rounded-lg hover:bg-white/5 transition-all text-left">
                    <i class="fas fa-list text-spotify-green"></i><span class="text-sm">Playlist Detay</span>
                </a>
                <a href="album-detail.html" class="w-full flex items-center gap-3 px-3 py-2 rounded-lg hover:bg-white/5 transition-all text-left">
                    <i class="fas fa-record-vinyl text-pink-400"></i><span class="text-sm">Album Detay</span>
                </a>
                <a href="sector-detail.html" class="w-full flex items-center gap-3 px-3 py-2 rounded-lg hover:bg-white/5 transition-all text-left bg-white/10">
                    <i class="fas fa-building text-green-400"></i><span class="text-sm">Sekt√∂r Detay</span>
                </a>
                <div class="border-t border-white/10 mt-2 pt-2">
                    <button @click="isLoggedIn = !isLoggedIn; navOpen = false" class="w-full flex items-center gap-3 px-3 py-2 rounded-lg hover:bg-white/5 transition-all text-left">
                        <i class="fas fa-user-circle text-blue-400"></i>
                        <span class="text-sm" x-text="isLoggedIn ? '√áƒ±kƒ±≈ü Yap (Test)' : 'Giri≈ü Yap (Test)'"></span>
                    </button>
                </div>
            </div>
        </div>
        <button @click="navOpen = !navOpen" class="w-14 h-14 bg-spotify-gray hover:bg-spotify-light-gray rounded-full flex items-center justify-center shadow-lg border border-white/20 transition-all">
            <i :class="navOpen ? 'fa-times' : 'fa-bars'" class="fas text-white"></i>
        </button>
    </div>
</body>
</html>

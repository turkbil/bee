<!DOCTYPE html>
<html lang="tr">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Kategori BazlÄ± Draft Ãœretimi - Ã–neri</title>
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        body {
            background: #0f172a;
            color: #e2e8f0;
            font-family: 'Segoe UI', system-ui, sans-serif;
            line-height: 1.6;
            padding: 20px;
        }

        .container {
            max-width: 1400px;
            margin: 0 auto;
        }

        h1 {
            color: #60a5fa;
            font-size: 2rem;
            margin-bottom: 10px;
            border-bottom: 3px solid #3b82f6;
            padding-bottom: 10px;
        }

        h2 {
            color: #60a5fa;
            font-size: 1.5rem;
            margin: 30px 0 15px 0;
        }

        h3 {
            color: #93c5fd;
            font-size: 1.2rem;
            margin: 20px 0 10px 0;
        }

        .section {
            background: #1e293b;
            padding: 20px;
            margin-bottom: 20px;
            border-radius: 8px;
            border-left: 4px solid #3b82f6;
        }

        .comparison {
            display: grid;
            grid-template-columns: 1fr 1fr;
            gap: 20px;
            margin: 20px 0;
        }

        .comparison-item {
            background: #0f172a;
            padding: 20px;
            border-radius: 8px;
        }

        .comparison-item.current {
            border: 2px solid #ef4444;
        }

        .comparison-item.proposed {
            border: 2px solid #22c55e;
        }

        .metric {
            background: #0f172a;
            padding: 15px;
            border-radius: 6px;
            margin: 10px 0;
        }

        .metric-label {
            color: #94a3b8;
            font-size: 0.85rem;
            margin-bottom: 5px;
        }

        .metric-value {
            color: #60a5fa;
            font-size: 1.5rem;
            font-weight: bold;
        }

        .metric-value.good {
            color: #22c55e;
        }

        .metric-value.bad {
            color: #ef4444;
        }

        table {
            width: 100%;
            border-collapse: collapse;
            margin: 15px 0;
            background: #0f172a;
        }

        th, td {
            padding: 12px;
            text-align: left;
            border-bottom: 1px solid #334155;
        }

        th {
            background: #1e293b;
            color: #60a5fa;
            font-weight: 600;
        }

        .code-block {
            background: #0f172a;
            padding: 15px;
            border-radius: 6px;
            overflow-x: auto;
            margin: 10px 0;
            border: 1px solid #334155;
        }

        .code-block pre {
            color: #e2e8f0;
            font-family: 'Courier New', monospace;
            font-size: 0.9rem;
        }

        ul {
            margin: 15px 0;
            padding-left: 25px;
        }

        li {
            margin: 8px 0;
            color: #cbd5e1;
        }

        .highlight {
            background: #fbbf2433;
            color: #fbbf24;
            padding: 2px 6px;
            border-radius: 3px;
        }

        .status-badge {
            display: inline-block;
            padding: 4px 12px;
            border-radius: 4px;
            font-size: 0.85rem;
            font-weight: 600;
            margin-right: 8px;
        }

        .status-success {
            background: #22c55e;
            color: white;
        }

        .status-error {
            background: #ef4444;
            color: white;
        }

        .status-warning {
            background: #f59e0b;
            color: white;
        }

        .pros-cons {
            display: grid;
            grid-template-columns: 1fr 1fr;
            gap: 20px;
            margin: 20px 0;
        }

        .pros {
            background: #14532d;
            padding: 15px;
            border-radius: 6px;
            border: 2px solid #22c55e;
        }

        .cons {
            background: #450a0a;
            padding: 15px;
            border-radius: 6px;
            border: 2px solid #ef4444;
        }
    </style>
</head>
<body>
    <div class="container">
        <h1>ğŸ“Š Kategori BazlÄ± Draft Ãœretimi - DetaylÄ± Analiz</h1>

        <div class="section">
            <h2>ğŸ” Mevcut Sistem Analizi (ixtif.com - Tenant 2)</h2>

            <h3>Veri KaynaklarÄ±:</h3>
            <table>
                <tr>
                    <th>Kaynak</th>
                    <th>Miktar</th>
                    <th>KullanÄ±m</th>
                </tr>
                <tr>
                    <td>Shop ÃœrÃ¼nleri</td>
                    <td><strong>1,020 Ã¼rÃ¼n</strong></td>
                    <td>Blog konusu kaynaÄŸÄ± (potansiyel)</td>
                </tr>
                <tr>
                    <td>Shop Kategorileri</td>
                    <td><strong>106 kategori</strong></td>
                    <td>Blog kategorilendirme</td>
                </tr>
                <tr>
                    <td>Blog Kategorileri</td>
                    <td><strong>14 kategori</strong></td>
                    <td>Blog organizasyonu</td>
                </tr>
                <tr>
                    <td>Mevcut Bloglar</td>
                    <td><strong>1 blog</strong></td>
                    <td>Duplicate check</td>
                </tr>
                <tr>
                    <td>Mevcut Draft'lar</td>
                    <td><strong>2 draft</strong></td>
                    <td>Duplicate check</td>
                </tr>
            </table>

            <h3>En Ã‡ok ÃœrÃ¼nÃ¼ Olan Kategoriler:</h3>
            <table>
                <tr>
                    <th>Kategori</th>
                    <th>ÃœrÃ¼n SayÄ±sÄ±</th>
                    <th>Blog Potansiyeli</th>
                </tr>
                <tr>
                    <td>Forklift</td>
                    <td>128 Ã¼rÃ¼n</td>
                    <td><span class="highlight">YÃ¼ksek</span></td>
                </tr>
                <tr>
                    <td>Ä°stif Makinesi</td>
                    <td>106 Ã¼rÃ¼n</td>
                    <td><span class="highlight">YÃ¼ksek</span></td>
                </tr>
                <tr>
                    <td>Transpalet</td>
                    <td>69 Ã¼rÃ¼n</td>
                    <td><span class="highlight">YÃ¼ksek</span></td>
                </tr>
                <tr>
                    <td>Link Pimi (Yedek ParÃ§a)</td>
                    <td>72 Ã¼rÃ¼n</td>
                    <td>Orta</td>
                </tr>
                <tr>
                    <td>Ã‡elik Plate (Yedek ParÃ§a)</td>
                    <td>48 Ã¼rÃ¼n</td>
                    <td>Orta</td>
                </tr>
            </table>

            <h3>Mevcut Draft Generation Sistemi:</h3>
            <div class="metric">
                <div class="metric-label">Prompt Boyutu</div>
                <div class="metric-value bad">9.4 KB (~2,344 token)</div>
            </div>
            <div class="metric">
                <div class="metric-label">Tek Seferde Ãœretim</div>
                <div class="metric-value">25 draft (kullanÄ±cÄ± ayarÄ±)</div>
            </div>
            <div class="metric">
                <div class="metric-label">Tahmini Maliyet (25 draft)</div>
                <div class="metric-value bad">~$0.15-0.30</div>
            </div>

            <p><strong>Sorun:</strong></p>
            <ul>
                <li>Prompt Ã§ok uzun ve karmaÅŸÄ±k â†’ OpenAI hatalÄ±/boÅŸ yanÄ±t</li>
                <li>25 draft tek istekte â†’ Format hatasÄ± riski</li>
                <li>Kategori/Ã¼rÃ¼n bilgisi kullanÄ±lmÄ±yor â†’ Generic draft'lar</li>
                <li>Veri kaynaklarÄ±ndan yararlanÄ±lmÄ±yor</li>
            </ul>
        </div>

        <div class="section">
            <h2>ğŸ’¡ Ã–NERÄ°LEN: Kategori BazlÄ± Draft Sistemi</h2>

            <h3>Ana Fikir:</h3>
            <p>25 draft'Ä± tek seferde Ã¼retmek yerine, <span class="highlight">kategorilere bÃ¶lerek 5'er 5'er Ã¼ret</span>.</p>

            <h3>Kategori DaÄŸÄ±lÄ±mÄ± Ã–nerisi:</h3>
            <table>
                <tr>
                    <th>Grup</th>
                    <th>Kaynak</th>
                    <th>Draft SayÄ±sÄ±</th>
                    <th>Ã–rnek Konular</th>
                </tr>
                <tr>
                    <td><strong>Grup 1</strong></td>
                    <td>Shop Kategori: Forklift</td>
                    <td>5 draft</td>
                    <td>Forklift seÃ§imi, bakÄ±mÄ±, Ã§eÅŸitleri, gÃ¼venlik vb.</td>
                </tr>
                <tr>
                    <td><strong>Grup 2</strong></td>
                    <td>Shop Kategori: Transpalet</td>
                    <td>5 draft</td>
                    <td>Transpalet kullanÄ±mÄ±, elektrikli vs manuel, fiyat vb.</td>
                </tr>
                <tr>
                    <td><strong>Grup 3</strong></td>
                    <td>Shop Kategori: Ä°stif Makinesi</td>
                    <td>5 draft</td>
                    <td>Ä°stif makinesi Ã¶zellikleri, karÅŸÄ±laÅŸtÄ±rma vb.</td>
                </tr>
                <tr>
                    <td><strong>Grup 4</strong></td>
                    <td>Hizmetler (BakÄ±m, Kiralama, SatÄ±ÅŸ)</td>
                    <td>5 draft</td>
                    <td>BakÄ±m hizmetleri, kiralama avantajlarÄ±, alÄ±m-satÄ±m vb.</td>
                </tr>
                <tr>
                    <td><strong>Grup 5</strong></td>
                    <td>Yedek ParÃ§a / Genel Konular</td>
                    <td>5 draft</td>
                    <td>Yedek parÃ§a seÃ§imi, sektÃ¶r trendleri, mevzuat vb.</td>
                </tr>
            </table>

            <h3>Avantajlar:</h3>
            <div class="pros-cons">
                <div class="pros">
                    <h4 style="color: #22c55e; margin-bottom: 10px;">âœ… AVANTAJLAR</h4>
                    <ul>
                        <li><strong>KÃ¼Ã§Ã¼k Prompt:</strong> Her istek ~1-2 KB (mevcut 9.4 KB yerine)</li>
                        <li><strong>Daha Az Token:</strong> 5 draft iÃ§in ~600-800 token (25 iÃ§in ~2,344 yerine)</li>
                        <li><strong>Hata Riski AzalÄ±r:</strong> KÃ¼Ã§Ã¼k JSON array â†’ Parse kolay</li>
                        <li><strong>Kategori OdaklÄ±:</strong> Her grup spesifik konuda uzman</li>
                        <li><strong>Veri KaynaÄŸÄ± KullanÄ±mÄ±:</strong> Shop Ã¼rÃ¼nleri/kategorilerinden yararlan</li>
                        <li><strong>Paralel Ä°ÅŸlem:</strong> 5 grubu aynÄ± anda Ã§alÄ±ÅŸtÄ±r â†’ HÄ±zlÄ±</li>
                        <li><strong>Hata ToleransÄ±:</strong> Bir grup fail olsa 20 draft yine gelir</li>
                    </ul>
                </div>

                <div class="cons">
                    <h4 style="color: #ef4444; margin-bottom: 10px;">âŒ DEZAVANTAJLAR</h4>
                    <ul>
                        <li><strong>5 API Ã‡aÄŸrÄ±sÄ±:</strong> 1 yerine 5 HTTP request</li>
                        <li><strong>Kod KarmaÅŸÄ±klÄ±ÄŸÄ±:</strong> Kategori seÃ§im mantÄ±ÄŸÄ± gerekli</li>
                        <li><strong>Duplicate Risk:</strong> Gruplar arasÄ± kontrol gerekli</li>
                        <li><strong>Toplam SÃ¼re:</strong> SÄ±ralÄ± yapÄ±lÄ±rsa ~50 saniye (paralel: ~10 saniye)</li>
                    </ul>
                </div>
            </div>

            <h3>Maliyet KarÅŸÄ±laÅŸtÄ±rmasÄ±:</h3>
            <table>
                <tr>
                    <th>Sistem</th>
                    <th>API Ã‡aÄŸrÄ±</th>
                    <th>Token (Input)</th>
                    <th>Token (Output)</th>
                    <th>Maliyet</th>
                </tr>
                <tr>
                    <td><strong>Mevcut (25 draft tek seferde)</strong></td>
                    <td>1 Ã§aÄŸrÄ±</td>
                    <td>~3,000 token</td>
                    <td>~6,000 token</td>
                    <td class="bad">$0.068</td>
                </tr>
                <tr>
                    <td><strong>Ã–nerilen (5x5 draft)</strong></td>
                    <td>5 Ã§aÄŸrÄ±</td>
                    <td>5 x 800 = 4,000 token</td>
                    <td>5 x 1,200 = 6,000 token</td>
                    <td class="good">$0.070</td>
                </tr>
            </table>

            <p><span class="status-badge status-success">SONUÃ‡</span> Maliyet neredeyse aynÄ± (~$0.002 fark), ama <strong>hata riski Ã§ok daha dÃ¼ÅŸÃ¼k!</strong></p>
        </div>

        <div class="section">
            <h2>ğŸ”§ Teknik Uygulama</h2>

            <h3>1. Kategori SeÃ§im Stratejisi:</h3>
            <div class="code-block">
                <pre>// BlogAIDraftGenerator.php

public function generateDrafts(int $count = 25): array
{
    // Kategorilere bÃ¶l: 25 draft = 5 grup x 5 draft
    $groupSize = 5;
    $groups = [
        [
            'name' => 'Forklift',
            'shop_category_id' => 1, // Forklift kategorisi
            'blog_category_id' => 7, // Forklift Ä°ncelemeleri
            'count' => 5,
        ],
        [
            'name' => 'Transpalet',
            'shop_category_id' => 2,
            'blog_category_id' => 8,
            'count' => 5,
        ],
        // ... diÄŸer gruplar
    ];

    $allDrafts = [];
    foreach ($groups as $group) {
        $drafts = $this->generateDraftsForCategory($group);
        $allDrafts = array_merge($allDrafts, $drafts);
    }

    return $allDrafts;
}</pre>
            </div>

            <h3>2. Basit Kategori-Spesifik Prompt:</h3>
            <div class="code-block">
                <pre>// Ã–rnek: Forklift grubu iÃ§in prompt

System: "Sen bir blog taslak Ã¼reticisin. Forklift konusunda uzman iÃ§erik Ã¼retiyorsun."

User: "Ä°xtif firmasÄ± iÃ§in Forklift kategorisinde 5 adet blog taslaÄŸÄ± Ã¼ret.

Konular:
- Forklift seÃ§im kriterleri
- Forklift bakÄ±m ipuÃ§larÄ±
- Elektrikli vs Dizel forklift karÅŸÄ±laÅŸtÄ±rmasÄ±
- Forklift gÃ¼venlik standartlarÄ±
- Forklift kiralama vs satÄ±n alma

Her taslak iÃ§in JSON formatÄ±nda dÃ¶n:
{
    "topic_keyword": "...",
    "meta_description": "...",
    "seo_keywords": [...],
    "category_id": 7
}"</pre>
            </div>

            <p><span class="highlight">Prompt boyutu: ~500 byte (mevcut 9.4 KB yerine!)</span></p>

            <h3>3. Shop ÃœrÃ¼nlerinden Veri Ã‡ekme:</h3>
            <div class="code-block">
                <pre>// Forklift kategorisindeki Ã¼rÃ¼nleri al
$products = ShopProduct::where('shop_category_id', 1)
    ->inRandomOrder()
    ->limit(10)
    ->get(['title', 'slug', 'short_description']);

// Prompt'a ekle
$productNames = $products->pluck('title')->toArray();
$prompt .= "\n\nMevcut Forklift modelleri: " . implode(', ', $productNames);
$prompt .= "\n\nBu modeller hakkÄ±nda da iÃ§erik Ã¼ret.";</pre>
            </div>

            <h3>4. Paralel Ä°ÅŸlem (Performans):</h3>
            <div class="code-block">
                <pre>// 5 grubu aynÄ± anda Ã§alÄ±ÅŸtÄ±r
use Illuminate\Support\Facades\Http;

$promises = [];
foreach ($groups as $group) {
    $promises[] = Http::async()->post($apiUrl, [
        'model' => 'gpt-4o-mini',
        'messages' => [...],
    ]);
}

$responses = Promise\Utils::unwrap($promises);

// Toplam sÃ¼re: ~10 saniye (sÄ±ralÄ±: ~50 saniye)</pre>
            </div>
        </div>

        <div class="section">
            <h2>ğŸ“Š Performans Tahmini</h2>

            <div class="comparison">
                <div class="comparison-item current">
                    <h3 style="color: #ef4444;">âŒ Mevcut Sistem</h3>
                    <div class="metric">
                        <div class="metric-label">Toplam SÃ¼re</div>
                        <div class="metric-value bad">~15 saniye</div>
                    </div>
                    <div class="metric">
                        <div class="metric-label">BaÅŸarÄ± OranÄ±</div>
                        <div class="metric-value bad">~20%</div>
                    </div>
                    <div class="metric">
                        <div class="metric-label">Hata Riski</div>
                        <div class="metric-value bad">YÃ¼ksek</div>
                    </div>
                    <div class="metric">
                        <div class="metric-label">Maliyet (25 draft)</div>
                        <div class="metric-value">$0.068</div>
                    </div>
                </div>

                <div class="comparison-item proposed">
                    <h3 style="color: #22c55e;">âœ… Ã–nerilen Sistem</h3>
                    <div class="metric">
                        <div class="metric-label">Toplam SÃ¼re (Paralel)</div>
                        <div class="metric-value good">~10 saniye</div>
                    </div>
                    <div class="metric">
                        <div class="metric-label">BaÅŸarÄ± OranÄ±</div>
                        <div class="metric-value good">~95%</div>
                    </div>
                    <div class="metric">
                        <div class="metric-label">Hata Riski</div>
                        <div class="metric-value good">DÃ¼ÅŸÃ¼k</div>
                    </div>
                    <div class="metric">
                        <div class="metric-label">Maliyet (25 draft)</div>
                        <div class="metric-value good">$0.070</div>
                    </div>
                </div>
            </div>
        </div>

        <div class="section">
            <h2>ğŸ¯ SonuÃ§ & Ã–neri</h2>

            <p><span class="status-badge status-success">Ã–NERÄ°LÄ°R</span> <strong>Kategori bazlÄ± sisteme geÃ§!</strong></p>

            <h3>Neden?</h3>
            <ul>
                <li>âœ… <strong>Hata riski %80 azalÄ±r</strong> (kÃ¼Ã§Ã¼k prompt + kÃ¼Ã§Ã¼k JSON)</li>
                <li>âœ… <strong>Maliyet neredeyse aynÄ±</strong> ($0.002 fark)</li>
                <li>âœ… <strong>Daha hÄ±zlÄ±</strong> (paralel iÅŸlem ile 10 saniye)</li>
                <li>âœ… <strong>Daha akÄ±llÄ± draft'lar</strong> (kategori-spesifik, Ã¼rÃ¼n bilgili)</li>
                <li>âœ… <strong>Hata toleranslÄ±</strong> (1 grup fail olsa 20 draft gelir)</li>
                <li>âœ… <strong>Veri kaynaklarÄ±nÄ± kullanÄ±r</strong> (1,020 Ã¼rÃ¼n, 106 kategori)</li>
            </ul>

            <h3>Uygulama AdÄ±mlarÄ±:</h3>
            <ol>
                <li>Kategori grup tanÄ±mlamalarÄ± yap (5 grup)</li>
                <li>Her grup iÃ§in basit prompt oluÅŸtur (~500 byte)</li>
                <li>Shop Ã¼rÃ¼nlerinden veri Ã§ekme entegrasyonu</li>
                <li>Paralel HTTP request sistemi</li>
                <li>Duplicate check (gruplar arasÄ±)</li>
                <li>Test: 5x5 = 25 draft Ã¼ret</li>
            </ol>

            <p><strong>Tahmini geliÅŸtirme sÃ¼resi:</strong> 2-3 saat</p>
        </div>
    </div>
</body>
</html>
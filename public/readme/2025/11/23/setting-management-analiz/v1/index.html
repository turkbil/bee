<!DOCTYPE html>
<html lang="tr">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>SettingManagement ModÃ¼lÃ¼ - DetaylÄ± Analiz</title>
    <style>
        * { margin: 0; padding: 0; box-sizing: border-box; }

        body {
            background: linear-gradient(135deg, #0f172a 0%, #1e293b 100%);
            color: #e2e8f0;
            font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', system-ui, sans-serif;
            line-height: 1.7;
            padding: 40px 20px;
            min-height: 100vh;
        }

        .container {
            max-width: 1200px;
            margin: 0 auto;
        }

        header {
            margin-bottom: 50px;
            padding-bottom: 30px;
            border-bottom: 2px solid #334155;
        }

        h1 {
            font-size: 2.5rem;
            font-weight: 700;
            margin-bottom: 15px;
            background: linear-gradient(135deg, #60a5fa, #3b82f6);
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
        }

        .meta {
            color: #94a3b8;
            font-size: 0.95rem;
        }

        section {
            margin-bottom: 45px;
        }

        h2 {
            font-size: 1.8rem;
            margin-bottom: 25px;
            color: #60a5fa;
            display: flex;
            align-items: center;
            gap: 10px;
        }

        h3 {
            font-size: 1.3rem;
            margin-bottom: 15px;
            color: #a5f3fc;
        }

        .card {
            background: rgba(30, 41, 59, 0.5);
            padding: 25px;
            margin-bottom: 20px;
            border-radius: 12px;
            border-left: 4px solid #3b82f6;
            backdrop-filter: blur(10px);
            transition: all 0.3s ease;
        }

        .card:hover {
            transform: translateX(5px);
            background: rgba(30, 41, 59, 0.7);
        }

        .code-block {
            background: rgba(15, 23, 42, 0.8);
            border: 1px solid #334155;
            border-radius: 8px;
            padding: 15px;
            margin: 15px 0;
            font-family: 'Courier New', monospace;
            font-size: 0.85rem;
            overflow-x: auto;
            color: #a1d8ff;
        }

        .table-wrapper {
            overflow-x: auto;
            margin: 20px 0;
        }

        table {
            width: 100%;
            border-collapse: collapse;
            background: rgba(30, 41, 59, 0.3);
            border-radius: 8px;
            overflow: hidden;
        }

        th {
            background: rgba(59, 130, 246, 0.2);
            color: #60a5fa;
            padding: 12px;
            text-align: left;
            font-weight: 600;
            border-bottom: 2px solid #334155;
        }

        td {
            padding: 12px;
            border-bottom: 1px solid #334155;
        }

        tr:hover {
            background: rgba(59, 130, 246, 0.1);
        }

        .tech-term {
            color: #fbbf24;
            font-weight: 600;
        }

        .term-explain {
            color: #94a3b8;
            font-size: 0.9rem;
            margin-left: 5px;
        }

        .tip {
            background: rgba(34, 197, 94, 0.1);
            border-left: 4px solid #22c55e;
            padding: 15px;
            margin: 15px 0;
            border-radius: 4px;
        }

        .warning {
            background: rgba(239, 68, 68, 0.1);
            border-left: 4px solid #ef4444;
            padding: 15px;
            margin: 15px 0;
            border-radius: 4px;
        }

        .list-item {
            margin-left: 25px;
            margin-bottom: 10px;
        }

        .flow-diagram {
            background: rgba(30, 41, 59, 0.5);
            padding: 20px;
            border-radius: 8px;
            margin: 20px 0;
            border: 1px solid #334155;
        }

        .flow-step {
            display: flex;
            align-items: center;
            margin: 10px 0;
        }

        .flow-arrow {
            color: #60a5fa;
            margin: 0 10px;
            font-weight: bold;
        }

        .highlight {
            background: rgba(251, 191, 36, 0.15);
            padding: 2px 6px;
            border-radius: 3px;
            color: #fcd34d;
        }

        footer {
            margin-top: 60px;
            padding-top: 30px;
            border-top: 1px solid #334155;
            color: #64748b;
            font-size: 0.9rem;
            text-align: center;
        }

        .badge {
            display: inline-block;
            padding: 4px 10px;
            border-radius: 20px;
            font-size: 0.85rem;
            font-weight: 600;
            margin: 5px 5px 5px 0;
        }

        .badge-central { background: #3b82f6; color: white; }
        .badge-tenant { background: #10b981; color: white; }
        .badge-relationship { background: #8b5cf6; color: white; }
        .badge-migration { background: #ec4899; color: white; }
    </style>
</head>
<body>
    <div class="container">
        <header>
            <h1>SettingManagement ModÃ¼lÃ¼ - DetaylÄ± Analiz</h1>
            <div class="meta">
                ğŸ“… Tarih: 2025-11-23 | ğŸ¯ Analiz KapsamÄ±: VeritabanÄ±, Modeller, Seeders | ğŸ‘¤ Hedef: Yeni Setting Grubu OluÅŸturma
            </div>
        </header>

        <!-- ================================================ GENEL Ã–ZETÄ° ================================================ -->
        <section>
            <h2>ğŸ“Š Genel Ã–zeti</h2>
            
            <div class="card">
                <h3>SettingManagement Nedir?</h3>
                <p>SettingManagement, sistemdeki tÃ¼m yapÄ±landÄ±rma (ayar/setting) deÄŸerlerini merkezi ÅŸekilde yÃ¶netmeyi saÄŸlayan bir Laravel modÃ¼lÃ¼dÃ¼r.</p>
                <ul class="list-item">
                    <li><span class="tech-term">Settings Groups</span> <span class="term-explain">(Ayar GruplarÄ±)</span> - AyarlarÄ± kategorilere bÃ¶ler (Ã¶rn: AI AyarlarÄ±, Site AyarlarÄ±)</li>
                    <li><span class="tech-term">Settings</span> <span class="term-explain">(Ayarlar)</span> - Her gruptaki bireysel ayarlar (Ã¶rn: Site AdÄ±, AI Asistan Ä°smi)</li>
                    <li><span class="tech-term">Settings Values</span> <span class="term-explain">(Ayar DeÄŸerleri)</span> - Tenant'a Ã¶zgÃ¼ gerÃ§ek deÄŸerler</li>
                </ul>
            </div>

            <div class="card">
                <h3>Mimari YapÄ± - Multi-Tenant Deseni</h3>
                <div class="flow-diagram">
                    <div class="flow-step">
                        <span>Settings Groups & Settings</span>
                        <span class="flow-arrow">ğŸ“</span>
                        <span class="badge badge-central">CENTRAL DATABASE</span>
                        <span class="term-explain">(TÃ¼m tenant'lar tarafÄ±ndan paylaÅŸÄ±lan)</span>
                    </div>
                    <div class="flow-step">
                        <span>Settings Values</span>
                        <span class="flow-arrow">ğŸ“</span>
                        <span class="badge badge-tenant">TENANT DATABASE</span>
                        <span class="term-explain">(Her tenant'Ä±n kendi deÄŸerleri)</span>
                    </div>
                </div>
                <p>Bu tasarÄ±m sayesinde tÃ¼m tenant'larda aynÄ± ayar tanÄ±mÄ± kullanÄ±lÄ±rken her tenant kendi deÄŸerini saklar.</p>
            </div>
        </section>

        <!-- ================================================ VERÄ°TABANI ÅEMASI ================================================ -->
        <section>
            <h2>ğŸ—„ï¸ VeritabanÄ± ÅemasÄ±</h2>

            <div class="card">
                <h3>1. settings_groups (CENTRAL DATABASE)</h3>
                <p>Ayar gruplarÄ±nÄ± tanÄ±mlar. HiyerarÅŸik yapÄ± destekler (parent_id ile alt gruplar).</p>
                
                <div class="table-wrapper">
                    <table>
                        <thead>
                            <tr>
                                <th>SÃ¼tun</th>
                                <th>TÃ¼r</th>
                                <th>AÃ§Ä±klama</th>
                            </tr>
                        </thead>
                        <tbody>
                            <tr>
                                <td><span class="tech-term">id</span></td>
                                <td>BigInt</td>
                                <td>Grup ID (Primary Key)</td>
                            </tr>
                            <tr>
                                <td><span class="tech-term">parent_id</span></td>
                                <td>BigInt (Nullable)</td>
                                <td>Ana grup (NULL = Ana kategorisi)</td>
                            </tr>
                            <tr>
                                <td><span class="tech-term">prefix</span></td>
                                <td>String (Nullable)</td>
                                <td>Ayar key prefix'i (Ã¶rn: "site" â†’ site_title, site_logo)</td>
                            </tr>
                            <tr>
                                <td><span class="tech-term">name</span></td>
                                <td>String</td>
                                <td>Grup adÄ± (TÃ¼rkÃ§e, Ã¶rn: "Site AyarlarÄ±")</td>
                            </tr>
                            <tr>
                                <td><span class="tech-term">slug</span></td>
                                <td>String (Unique)</td>
                                <td>URL friendly slug (Ã¶rn: "site-ayarlari")</td>
                            </tr>
                            <tr>
                                <td><span class="tech-term">description</span></td>
                                <td>Text (Nullable)</td>
                                <td>Grup aÃ§Ä±klamasÄ±</td>
                            </tr>
                            <tr>
                                <td><span class="tech-term">icon</span></td>
                                <td>String (Nullable)</td>
                                <td>FontAwesome icon (Ã¶rn: "fas fa-cogs")</td>
                            </tr>
                            <tr>
                                <td><span class="tech-term">layout</span></td>
                                <td>JSON (Nullable)</td>
                                <td>Form layout tanÄ±mÄ± (admin panel gÃ¶rÃ¼nÃ¼mÃ¼)</td>
                            </tr>
                            <tr>
                                <td><span class="tech-term">is_active</span></td>
                                <td>Boolean</td>
                                <td>Grup aktif mi? (default: true)</td>
                            </tr>
                            <tr>
                                <td><span class="tech-term">created_at, updated_at, deleted_at</span></td>
                                <td>Timestamp</td>
                                <td>Soft delete ile</td>
                            </tr>
                        </tbody>
                    </table>
                </div>

                <div class="tip">
                    <strong>ğŸ’¡ Prefix Nedir?</strong> Ayar key'lerinin otomatik Ã¶n ekidir. Ã–rn: Prefix "site" ise ayar key "site_title", "site_logo" vb. olur. Bu sayede iliÅŸkili ayarlarÄ± gruplaÅŸtÄ±rabilirsiniz.
                </div>
            </div>

            <div class="card">
                <h3>2. settings (CENTRAL DATABASE)</h3>
                <p>Ayar tanÄ±mlarÄ±nÄ± iÃ§erir. TÃ¼m tenant'lar iÃ§in geÃ§erlidir (Values tenant'a Ã¶zel).</p>
                
                <div class="table-wrapper">
                    <table>
                        <thead>
                            <tr>
                                <th>SÃ¼tun</th>
                                <th>TÃ¼r</th>
                                <th>AÃ§Ä±klama</th>
                            </tr>
                        </thead>
                        <tbody>
                            <tr>
                                <td><span class="tech-term">id</span></td>
                                <td>BigInt</td>
                                <td>Setting ID (Primary Key)</td>
                            </tr>
                            <tr>
                                <td><span class="tech-term">group_id</span></td>
                                <td>BigInt (FK)</td>
                                <td>Ait olduÄŸu grup ID'si</td>
                            </tr>
                            <tr>
                                <td><span class="tech-term">label</span></td>
                                <td>String</td>
                                <td>ArayÃ¼zde gÃ¶sterilen ad (TÃ¼rkÃ§e, Ã¶rn: "Site AdÄ±")</td>
                            </tr>
                            <tr>
                                <td><span class="tech-term">key</span></td>
                                <td>String (Unique)</td>
                                <td>Ayar anahtarÄ± (Ã¶rn: "site_title") - Kodda kullanÄ±lÄ±r</td>
                            </tr>
                            <tr>
                                <td><span class="tech-term">type</span></td>
                                <td>String</td>
                                <td>Input tÃ¼rÃ¼: text, textarea, select, image, file, favicon, json vb.</td>
                            </tr>
                            <tr>
                                <td><span class="tech-term">options</span></td>
                                <td>JSON (Nullable)</td>
                                <td>Select seÃ§enekleri (Ã¶rn: {"option1": "SeÃ§enek 1"})</td>
                            </tr>
                            <tr>
                                <td><span class="tech-term">default_value</span></td>
                                <td>Text (Nullable)</td>
                                <td>VarsayÄ±lan deÄŸer (Settings Value boÅŸsa kullanÄ±lÄ±r)</td>
                            </tr>
                            <tr>
                                <td><span class="tech-term">is_required</span></td>
                                <td>Boolean</td>
                                <td>Zorunlu mu?</td>
                            </tr>
                            <tr>
                                <td><span class="tech-term">is_system</span></td>
                                <td>Boolean</td>
                                <td>Sistem tarafÄ±ndan mÄ± kontrol ediliyor?</td>
                            </tr>
                            <tr>
                                <td><span class="tech-term">is_active</span></td>
                                <td>Boolean</td>
                                <td>Aktif mi?</td>
                            </tr>
                            <tr>
                                <td><span class="tech-term">help_text</span></td>
                                <td>Text (Nullable)</td>
                                <td>Admin panel'de yardÄ±m metni</td>
                            </tr>
                        </tbody>
                    </table>
                </div>
            </div>

            <div class="card">
                <h3>3. settings_values (TENANT DATABASE)</h3>
                <p>Her tenant'Ä±n ayar deÄŸerlerini saklar. Tenant veritabanÄ±nda yer alÄ±r.</p>
                
                <div class="table-wrapper">
                    <table>
                        <thead>
                            <tr>
                                <th>SÃ¼tun</th>
                                <th>TÃ¼r</th>
                                <th>AÃ§Ä±klama</th>
                            </tr>
                        </thead>
                        <tbody>
                            <tr>
                                <td><span class="tech-term">id</span></td>
                                <td>BigInt</td>
                                <td>Primary Key</td>
                            </tr>
                            <tr>
                                <td><span class="tech-term">setting_id</span></td>
                                <td>BigInt (Unique)</td>
                                <td>Central DB'deki setting ID'si (Foreign Key yok, manual)</td>
                            </tr>
                            <tr>
                                <td><span class="tech-term">value</span></td>
                                <td>Text (Nullable)</td>
                                <td>GerÃ§ek ayar deÄŸeri</td>
                            </tr>
                            <tr>
                                <td><span class="tech-term">created_at, updated_at</span></td>
                                <td>Timestamp</td>
                                <td>OluÅŸturulma ve gÃ¼ncellenme tarihleri</td>
                            </tr>
                        </tbody>
                    </table>
                </div>

                <div class="warning">
                    <strong>âš ï¸ Ã–nemli:</strong> Tenant database'de settings_values tablosu settings tablosuna Foreign Key'i olmuyor. Ã‡Ã¼nkÃ¼ settings central DB'de ama settings_values tenant DB'de. Manual iliÅŸki kurulur.
                </div>
            </div>
        </section>

        <!-- ================================================ VERÄ°TABANI Ä°LÄ°ÅKÄ°LERÄ° ================================================ -->
        <section>
            <h2>ğŸ”— VeritabanÄ± Ä°liÅŸkileri</h2>

            <div class="card">
                <h3>Model Relationships</h3>
                
                <div class="code-block">
SettingGroup (Central DB)
â”œâ”€â”€ parent_id â†’ SettingGroup (hiyerarÅŸi)
â”œâ”€â”€ settings â†’ Setting[] (hasMany)
â””â”€â”€ children â†’ SettingGroup[] (hasMany)

Setting (Central DB)
â”œâ”€â”€ group_id â†’ SettingGroup (belongsTo)
â””â”€â”€ values â†’ SettingValue[] (hasMany)

SettingValue (Tenant DB)
â””â”€â”€ setting_id â†’ Setting (belongsTo - manuel iliÅŸki)
                </div>

                <p><strong>Ã–nemli:</strong> SettingValue'dan Setting'e Foreign Key olmuyor Ã§Ã¼nkÃ¼ farklÄ± veritabanlarÄ±nda. Bunun yerine setting_id ile elle iliÅŸkilendirilir.</p>
            </div>

            <div class="card">
                <h3>Veri AkÄ±ÅŸÄ±: Yazma Ä°ÅŸlemi</h3>
                
                <div class="flow-diagram">
                    <div class="flow-step">
                        <span>1. Admin Panel â†’ ValuesComponent</span>
                        <span class="flow-arrow">â†’</span>
                        <span>KullanÄ±cÄ± form'u doldurur</span>
                    </div>
                    <div class="flow-step">
                        <span>2. ValuesComponent</span>
                        <span class="flow-arrow">â†’</span>
                        <span>SettingValue (Tenant DB) gÃ¼ncelle</span>
                    </div>
                    <div class="flow-step">
                        <span>3. SettingValue.saved() Event</span>
                        <span class="flow-arrow">â†’</span>
                        <span>Cache temizle</span>
                    </div>
                    <div class="flow-step">
                        <span>4. Cache boÅŸ</span>
                        <span class="flow-arrow">â†’</span>
                        <span>Sonraki okuma fresh data alÄ±r</span>
                    </div>
                </div>
            </div>

            <div class="card">
                <h3>Veri AkÄ±ÅŸÄ±: Okuma Ä°ÅŸlemi</h3>
                
                <div class="flow-diagram">
                    <div class="flow-step">
                        <span>1. Kod: setting('site_title')</span>
                        <span class="flow-arrow">â†’</span>
                        <span>SettingsService.get()</span>
                    </div>
                    <div class="flow-step">
                        <span>2. Setting.where('key', 'site_title')</span>
                        <span class="flow-arrow">â†’</span>
                        <span>Central DB'de kayÄ±t bul</span>
                    </div>
                    <div class="flow-step">
                        <span>3. SettingValue.where('setting_id', ...)</span>
                        <span class="flow-arrow">â†’</span>
                        <span>Tenant DB'de deÄŸer ara</span>
                    </div>
                    <div class="flow-step">
                        <span>4. DeÄŸer varsa</span>
                        <span class="flow-arrow">â†’</span>
                        <span>DeÄŸeri dÃ¶ndÃ¼r, yoksa default dÃ¶ndÃ¼r</span>
                    </div>
                </div>
            </div>
        </section>

        <!-- ================================================ MEVCUT AYAR GRUPLARI ================================================ -->
        <section>
            <h2>ğŸ“‹ Mevcut Ayar GruplarÄ±</h2>

            <div class="card">
                <p>Sistemde halihazÄ±rda tanÄ±mlÄ± olan ayar gruplarÄ±:</p>
                
                <div class="table-wrapper">
                    <table>
                        <thead>
                            <tr>
                                <th>ID</th>
                                <th>Grup AdÄ±</th>
                                <th>Slug</th>
                                <th>Prefix</th>
                                <th>Ana Grup</th>
                            </tr>
                        </thead>
                        <tbody>
                            <tr>
                                <td>1</td>
                                <td>Genel Sistem</td>
                                <td>genel-sistem</td>
                                <td>-</td>
                                <td>Ana kategori</td>
                            </tr>
                            <tr>
                                <td>5</td>
                                <td>Site</td>
                                <td>site</td>
                                <td>-</td>
                                <td>Ana kategori</td>
                            </tr>
                            <tr>
                                <td>6</td>
                                <td>Site AyarlarÄ±</td>
                                <td>site-ayarlari</td>
                                <td>site</td>
                                <td>Genel Sistem (1)</td>
                            </tr>
                            <tr>
                                <td>7</td>
                                <td>Tema</td>
                                <td>tema</td>
                                <td>theme</td>
                                <td>Site (5)</td>
                            </tr>
                            <tr>
                                <td>8</td>
                                <td>SEO AyarlarÄ±</td>
                                <td>seo-ayarlari</td>
                                <td>seo</td>
                                <td>Genel Sistem (1)</td>
                            </tr>
                            <tr>
                                <td>9</td>
                                <td>Yapay Zeka</td>
                                <td>yapay-zeka</td>
                                <td>ai</td>
                                <td>Genel Sistem (1)</td>
                            </tr>
                            <tr>
                                <td>10</td>
                                <td>Ä°letiÅŸim Bilgileri</td>
                                <td>iletisim-bilgileri</td>
                                <td>-</td>
                                <td>Ana kategori</td>
                            </tr>
                            <tr>
                                <td>11</td>
                                <td>Bildirim AyarlarÄ±</td>
                                <td>bildirim-ayarlari</td>
                                <td>-</td>
                                <td>Ana kategori</td>
                            </tr>
                            <tr>
                                <td>12</td>
                                <td>Payment Gateway AyarlarÄ±</td>
                                <td>payment-gateway-ayarlari</td>
                                <td>-</td>
                                <td>Ana kategori</td>
                            </tr>
                            <tr>
                                <td>18</td>
                                <td>Blog - Yapay Zeka</td>
                                <td>blog-yapay-zeka</td>
                                <td>blog_ai</td>
                                <td>Genel Sistem (1)</td>
                            </tr>
                        </tbody>
                    </table>
                </div>
            </div>
        </section>

        <!-- ================================================ YENÄ° AYAR GRUBU OLUÅTURMA ================================================ -->
        <section>
            <h2>ğŸ†• Yeni Ayar Grubu OluÅŸturma AdÄ±mlarÄ±</h2>

            <div class="card">
                <h3>AÅŸama 1: Seeder OluÅŸturma</h3>
                
                <p>Yeni bir seeder dosyasÄ± oluÅŸturun:</p>
                <div class="code-block">
Modules/SettingManagement/database/seeders/AuthRegistrationSeeder.php
                </div>

                <p>Seeder iÃ§eriÄŸinde yapÄ±lacaklar:</p>
                <ul class="list-item">
                    <li><strong>AdÄ±m 1:</strong> SettingGroup oluÅŸtur (updateOrInsert ile)</li>
                    <li><strong>AdÄ±m 2:</strong> AyarlarÄ± array'de tanÄ±mla</li>
                    <li><strong>AdÄ±m 3:</strong> Form layout JSON'Ä± oluÅŸtur (opsiyonel ama Ã¶nerilen)</li>
                    <li><strong>AdÄ±m 4:</strong> Her setting iÃ§in database'e insert et</li>
                </ul>

                <p><strong>Ã–rnek Seeder YapÄ±sÄ±:</strong></p>
                <div class="code-block">
namespace Modules\SettingManagement\Database\Seeders;

use Illuminate\Database\Seeder;
use Illuminate\Support\Facades\DB;

class AuthRegistrationSeeder extends Seeder
{
    public function run(): void
    {
        // 1. GRUP OLUÅTUR
        $groupId = 15; // Yeni ID
        $existing = DB::table('settings_groups')
            ->where('id', $groupId)->first();

        DB::table('settings_groups')->updateOrInsert(
            ['id' => $groupId],
            [
                'name' => 'KayÄ±t AyarlarÄ±',
                'slug' => 'kayit-ayarlari',
                'parent_id' => 1, // Genel Sistem altÄ±nda
                'icon' => 'fas fa-user-plus',
                'prefix' => 'auth_registration',
                'is_active' => true,
                'layout' => $this->getLayout(),
                'created_at' => $existing->created_at ?? now(),
                'updated_at' => now(),
            ]
        );

        // 2. AYARLARI OLUÅTUR
        $settings = [
            [
                'group_id' => $groupId,
                'label' => 'KayÄ±t Formu Aktif',
                'key' => 'auth_registration_enabled',
                'type' => 'select',
                'options' => json_encode(['0' => 'Devre DÄ±ÅŸÄ±', '1' => 'Aktif']),
                'default_value' => '1',
                'is_required' => true,
            ],
            // ... diÄŸer ayarlar
        ];

        foreach ($settings as $setting) {
            $existing = DB::table('settings')
                ->where('key', $setting['key'])->first();
            
            DB::table('settings')->updateOrInsert(
                ['key' => $setting['key']],
                [
                    'group_id' => $setting['group_id'],
                    'label' => $setting['label'],
                    'type' => $setting['type'],
                    'options' => $setting['options'] ?? null,
                    'default_value' => $setting['default_value'],
                    'is_required' => $setting['is_required'] ?? false,
                    'is_active' => true,
                    'help_text' => $setting['help_text'] ?? null,
                    'created_at' => $existing->created_at ?? now(),
                    'updated_at' => now(),
                ]
            );
        }
    }

    private function getLayout(): string
    {
        // Form layout JSON'Ä± dÃ¶ndÃ¼r
        $layout = [...];
        return json_encode($layout);
    }
}
                </div>
            </div>

            <div class="card">
                <h3>AÅŸama 2: Seeder Ã‡alÄ±ÅŸtÄ±rma</h3>
                
                <p>Seeder'Ä± database'e eklemek iÃ§in:</p>
                <div class="code-block">
// SettingManagementDatabaseSeeder.php iÃ§inde Ã§aÄŸÄ±r:
$this->call(AuthRegistrationSeeder::class);

// Sonra:
php artisan db:seed --class="Modules\\SettingManagement\\Database\\Seeders\\SettingManagementDatabaseSeeder"
                </div>

                <p>Veya doÄŸrudan:</p>
                <div class="code-block">
php artisan db:seed --class="Modules\\SettingManagement\\Database\\Seeders\\AuthRegistrationSeeder"
                </div>
            </div>

            <div class="card">
                <h3>AÅŸama 3: Kodda Kullanma</h3>
                
                <p>OluÅŸturduÄŸunuz ayarlarÄ± kodda kullanÄ±n:</p>
                <div class="code-block">
// Helper ile
$isEnabled = setting('auth_registration_enabled', '1');

// Service ile
$isEnabled = app('settings')->get('auth_registration_enabled', '1');

// Model ile
$setting = Setting::where('key', 'auth_registration_enabled')->first();
$value = $setting->getValue();
                </div>
            </div>
        </section>

        <!-- ================================================ PREFIX SÄ°STEMÄ° ================================================ -->
        <section>
            <h2>ğŸ·ï¸ Prefix Sistemi DetaylÄ± AÃ§Ä±klamasÄ±</h2>

            <div class="card">
                <h3>Prefix Nedir?</h3>
                <p>Prefix, SettingGroup'a verilen bir Ã¶n ek kodu olup, o grup altÄ±ndaki tÃ¼m ayarlarÄ±n key'lerinin otomatik olarak Ã¶n ekine konur.</p>
            </div>

            <div class="card">
                <h3>Ã–rnek 1: Site AyarlarÄ± Grubu</h3>
                <div class="code-block">
Grup: "Site AyarlarÄ±"
Prefix: "site"

Ayarlar:
- key: site_title       (prefix + _ + ad)
- key: site_logo        (prefix + _ + ad)
- key: site_favicon     (prefix + _ + ad)
- key: site_slogan      (prefix + _ + ad)

KullanÄ±m:
setting('site_title')
setting('site_logo')
                </div>
            </div>

            <div class="card">
                <h3>Ã–rnek 2: AI AyarlarÄ± Grubu</h3>
                <div class="code-block">
Grup: "Yapay Zeka"
Prefix: "ai"

Ayarlar:
- key: ai_assistant_name
- key: ai_company_sector
- key: ai_response_tone
- key: ai_price_policy

KullanÄ±m:
setting('ai_assistant_name')
setting('ai_company_sector')
                </div>
            </div>

            <div class="card">
                <h3>Prefix Olmayan Gruplar</h3>
                <p>Ana kategorilerin (parent_id = NULL) prefix'i olmayabilir. Bu durumda alt gruplar prefix alÄ±r:</p>
                <div class="code-block">
Ana Grup: "Genel Sistem" (prefix: NULL)
  â””â”€ Alt Grup: "Site AyarlarÄ±" (prefix: "site")
     â””â”€ Ayarlar: site_title, site_logo, ...

  â””â”€ Alt Grup: "Yapay Zeka" (prefix: "ai")
     â””â”€ Ayarlar: ai_assistant_name, ai_company_sector, ...
                </div>
            </div>

            <div class="warning">
                <strong>âš ï¸ Ã–nemli:</strong> Prefix'ler sistemin naming convention'Ä±dÄ±r. Key'leri elle girirken prefix'i dÃ¼ÅŸÃ¼nmeniz gerekir. Panel otomatik vermez.
            </div>
        </section>

        <!-- ================================================ SETTING TIPLERI ================================================ -->
        <section>
            <h2>ğŸ“ Setting Tipleri (Type)</h2>

            <div class="card">
                <div class="table-wrapper">
                    <table>
                        <thead>
                            <tr>
                                <th>Tip</th>
                                <th>Ã–rnek</th>
                                <th>AÃ§Ä±klama</th>
                            </tr>
                        </thead>
                        <tbody>
                            <tr>
                                <td><span class="tech-term">text</span></td>
                                <td>site_title</td>
                                <td>Tek satÄ±r metin input</td>
                            </tr>
                            <tr>
                                <td><span class="tech-term">textarea</span></td>
                                <td>ai_custom_instructions</td>
                                <td>Ã‡ok satÄ±rlÄ± metin alanÄ±</td>
                            </tr>
                            <tr>
                                <td><span class="tech-term">select</span></td>
                                <td>ai_response_tone</td>
                                <td>Dropdown seÃ§im (options gerekli)</td>
                            </tr>
                            <tr>
                                <td><span class="tech-term">image</span></td>
                                <td>site_logo_2</td>
                                <td>GÃ¶rsel yÃ¼kleme (Spatie Media Library)</td>
                            </tr>
                            <tr>
                                <td><span class="tech-term">file</span></td>
                                <td>site_logo</td>
                                <td>Dosya yÃ¼kleme</td>
                            </tr>
                            <tr>
                                <td><span class="tech-term">favicon</span></td>
                                <td>site_favicon</td>
                                <td>Favicon yÃ¼kleme</td>
                            </tr>
                            <tr>
                                <td><span class="tech-term">json</span></td>
                                <td>ai_knowledge_base</td>
                                <td>JSON verisi</td>
                            </tr>
                            <tr>
                                <td><span class="tech-term">image_multiple</span></td>
                                <td>gallery_images</td>
                                <td>Ã‡oklu gÃ¶rsel</td>
                            </tr>
                        </tbody>
                    </table>
                </div>
            </div>
        </section>

        <!-- ================================================ LAYOUT SÄ°STEMÄ° ================================================ -->
        <section>
            <h2>ğŸ¨ Layout Sistemi (Admin Panel TasarÄ±mÄ±)</h2>

            <div class="card">
                <h3>Layout Nedir?</h3>
                <p>Layout, admin panel'de form'un nasÄ±l gÃ¶rÃ¼neceÄŸini tanÄ±mlayan JSON yapÄ±sÄ±dÄ±r. Her ayarÄ±n yerini, sÄ±rasÄ±nÄ±, baÅŸlÄ±klarÄ±nÄ± vb. belirler.</p>
            </div>

            <div class="card">
                <h3>Layout YapÄ±sÄ±</h3>
                <div class="code-block">
{
  "title": "Form BaÅŸlÄ±ÄŸÄ±",
  "elements": [
    // Heading
    {
      "type": "heading",
      "properties": {
        "content": "BÃ¶lÃ¼m BaÅŸlÄ±ÄŸÄ±",
        "size": "h3",
        "width": 12
      }
    },
    
    // Row (SatÄ±r - responsive columns)
    {
      "type": "row",
      "properties": {
        "columns": [
          {"index": 1, "width": 6},
          {"index": 2, "width": 6}
        ]
      },
      "columns": [
        {
          "width": 6,
          "elements": [
            {
              "type": "text",
              "properties": {
                "label": "Alan AdÄ±",
                "name": "site_title",
                "setting_id": 1,
                "placeholder": "Ã–rn: Ä°XTÄ°F",
                "help_text": "Sitenizin adÄ±"
              }
            }
          ]
        },
        {
          "width": 6,
          "elements": [...]
        }
      ]
    },
    
    // Divider
    {
      "type": "divider",
      "properties": {"width": 12}
    },
    
    // Section
    {
      "type": "section",
      "properties": {
        "content": "Ã–nemli BÃ¶lÃ¼m",
        "width": 12
      }
    }
  ]
}
                </div>
            </div>

            <div class="card">
                <h3>Layout KurallarÄ±</h3>
                <ul class="list-item">
                    <li><strong>Width:</strong> 1-12 arasÄ± Bootstrap grid (6 = yarÄ±sÄ±, 12 = tam)</li>
                    <li><strong>Elements:</strong> SatÄ±r iÃ§indeki alanlar (columns iÃ§inde tanÄ±mlanÄ±r)</li>
                    <li><strong>setting_id:</strong> Settings tablosundaki alan ID'si (form builder'Ä±n hangi setting'i gÃ¶stereceÄŸini bilmesi iÃ§in)</li>
                    <li><strong>Responsive:</strong> Columns property sayesinde responsive tasarÄ±m</li>
                </ul>
            </div>

            <div class="tip">
                <strong>ğŸ’¡ Ä°pucu:</strong> AISettingsSeeder.php dosyasÄ±nda harika bir layout Ã¶rneÄŸi var. KarmaÅŸÄ±k layout'lar iÃ§in bu dosyayÄ± inceleyebilirsiniz.
            </div>
        </section>

        <!-- ================================================ MIGRATION GEREKLÄ° MÄ° ================================================ -->
        <section>
            <h2>ğŸ”„ Migration Gerekli mi?</h2>

            <div class="card">
                <h3>Evet, Migration Gerekli!</h3>
                <p>Yeni ayar grubu oluÅŸturmak iÃ§in migration dosyasÄ± gerekmez, ama benzer sistemler iÃ§in gerekir:</p>
                
                <ul class="list-item">
                    <li><strong>âœ“ Gerekli deÄŸil:</strong> Sadece seeder ile ayar grubu + ayarlar eklemek</li>
                    <li><strong>âœ“ Gerekli:</strong> Yeni tablo oluÅŸturmak (Ã¶rn: contact_forms tablosu)</li>
                    <li><strong>âœ“ Gerekli:</strong> Sistem ayarlarÄ±nÄ± veritabanÄ± ÅŸemasÄ±na etki eden deÄŸiÅŸiklikler</li>
                </ul>
            </div>

            <div class="card">
                <h3>Seeder + Database Sync SÃ¼reci</h3>
                <div class="flow-diagram">
                    <div class="flow-step">
                        <span>1. AuthRegistrationSeeder.php oluÅŸtur</span>
                    </div>
                    <div class="flow-step">
                        <span>2. SettingManagementDatabaseSeeder.php'de Ã§aÄŸÄ±r</span>
                    </div>
                    <div class="flow-step">
                        <span>3. php artisan db:seed (veya tenants:seed)</span>
                    </div>
                    <div class="flow-step">
                        <span>4. Settings panel'de grup + ayarlarÄ± gÃ¶r</span>
                    </div>
                    <div class="flow-step">
                        <span>5. Kodda setting('auth_registration_...') ile kullan</span>
                    </div>
                </div>
            </div>
        </section>

        <!-- ================================================ TENANT-AWARE AYARLAR ================================================ -->
        <section>
            <h2>ğŸ¢ Tenant-Aware Ayarlar</h2>

            <div class="card">
                <h3>Multi-Tenant YapÄ±sÄ±nda Ayarlar NasÄ±l Ã‡alÄ±ÅŸÄ±r?</h3>
                
                <div class="flow-diagram">
                    <div class="flow-step">
                        <span>Tenant 2 (ixtif.com)</span>
                        <span class="flow-arrow">â†’</span>
                        <span>site_title = "Ä°XTÄ°F.com"</span>
                    </div>
                    <div class="flow-step">
                        <span>Tenant 1001 (muzibu.com)</span>
                        <span class="flow-arrow">â†’</span>
                        <span>site_title = "Muzibu MÃ¼zik"</span>
                    </div>
                </div>

                <p>AynÄ± setting key'i farklÄ± tenant'larda farklÄ± deÄŸerlere sahip olabilir.</p>
            </div>

            <div class="card">
                <h3>Tenant'a Ã–zel Setting TanÄ±mlamasÄ±</h3>
                <p>EÄŸer bir setting <span class="highlight">sadece belirli bir tenant'a</span> ait olmalÄ±ysa:</p>
                
                <ul class="list-item">
                    <li><strong>Seeder'da:</strong> Condition ile create etmeyin (tÃ¼m tenant'lar tarafÄ±ndan accessible olsun)</li>
                    <li><strong>Kodda:</strong> tenant() helper ile kontrol edin</li>
                    <li><strong>Admin Panel'de:</strong> ValuesComponent'te tenant filtrelemesi yapÄ±n</li>
                </ul>

                <p>Ã–rnek:</p>
                <div class="code-block">
// Kodda tenant-aware kontrol
if (tenant() && tenant('id') == 2) {
    $registrationEnabled = setting('auth_registration_enabled');
}
                </div>
            </div>
        </section>

        <!-- ================================================ BEST PRACTICES ================================================ -->
        <section>
            <h2>âœ… Best Practices</h2>

            <div class="card">
                <h3>1. Naming Convention</h3>
                <div class="code-block">
âœ“ DOÄRU:
- Prefix: auth_registration, payment_gateway, blog_ai
- Key: auth_registration_enabled, payment_gateway_type
- Slug: auth-registration, payment-gateway

âœ— YANLIÅ:
- Key: authReg (camelCase)
- Key: auth-registration (Key'de dash)
- Prefix: auth_registration_ (trailing underscore)
                </div>
            </div>

            <div class="card">
                <h3>2. Seeder Organizasyonu</h3>
                <ul class="list-item">
                    <li>Her Ã¶nemli feature iÃ§in ayrÄ± seeder oluÅŸtur (SettingManagement'de)</li>
                    <li>Seeder adÄ±nÄ± aÃ§Ä±klayÄ±cÄ± yap: AuthRegistrationSeeder, PaymentSeeder</li>
                    <li>SettingManagementDatabaseSeeder'da merkezi Ã§aÄŸÄ±rma yap</li>
                    <li>updateOrInsert ile idempotent yap (re-run edilebildiÄŸi gibi olsun)</li>
                </ul>
            </div>

            <div class="card">
                <h3>3. Help Text ve Labels</h3>
                <ul class="list-item">
                    <li>Help text'i TÃ¼rkÃ§e ve aÃ§Ä±klayÄ±cÄ± yaz</li>
                    <li>Ã–rnek deÄŸer gÃ¶ster: "(Ã–rn: Ä°XTÄ°F.com)"</li>
                    <li>is_required = true ise kullanÄ±cÄ±ya uyarÄ± ver</li>
                    <li>Select options'u aÃ§Ä±k yaz: "Aktif â­ (Ã–nerilen)"</li>
                </ul>
            </div>

            <div class="card">
                <h3>4. Settings Panel'de GÃ¶rÃ¼nÃ¼m</h3>
                <ul class="list-item">
                    <li>Layout'u logik gruplar halinde yapÄ±landÄ±r (Heading, Row, Section)</li>
                    <li>Ä°liÅŸkili alanlarÄ± aynÄ± satÄ±ra (Row) koy</li>
                    <li>Responsive layout kullan (width: 6 = 2 column, width: 4 = 3 column)</li>
                    <li>Divider ile bÃ¶lÃ¼mler arasÄ±na ayÄ±rma koy</li>
                </ul>
            </div>

            <div class="card">
                <h3>5. Kodda KullanÄ±m</h3>
                <div class="code-block">
// DOÄRU
$isEnabled = setting('auth_registration_enabled', '1');
if ($isEnabled === '1') { ... }

// Daha iyi
$isEnabled = setting('auth_registration_enabled') === '1';
if ($isEnabled) { ... }

// Type casting ile
$isEnabled = (bool) setting('auth_registration_enabled');
                </div>
            </div>
        </section>

        <!-- ================================================ HATA Ã‡Ã–ZÃœMÃœ ================================================ -->
        <section>
            <h2>ğŸ› SÄ±k Hatalar ve Ã‡Ã¶zÃ¼mÃ¼</h2>

            <div class="card">
                <h3>Hata 1: "Setting bulunamadÄ±" (NULL dÃ¶ner)</h3>
                <div class="warning">
                    <strong>Sebep:</strong> Seeder Ã§alÄ±ÅŸtÄ±rÄ±lmamÄ±ÅŸ veya key yanlÄ±ÅŸ
                </div>
                <ul class="list-item">
                    <li>Seeder'Ä± Ã§alÄ±ÅŸtÄ±r: php artisan db:seed</li>
                    <li>Key'i kontrol et: SELECT * FROM settings WHERE key = 'xxx'</li>
                    <li>Default value koy: setting('key', 'default')</li>
                </ul>
            </div>

            <div class="card">
                <h3>Hata 2: "settings_groups ID conflict"</h3>
                <div class="warning">
                    <strong>Sebep:</strong> updateOrInsert kullanmadÄ±ÄŸÄ±nda duplicate ID
                </div>
                <ul class="list-item">
                    <li>Seeder'da updateOrInsert kullan, insert deÄŸil</li>
                    <li>ID'yi unique ve sequential seÃ§</li>
                    <li>Mevcut gruplara bak: SELECT MAX(id) FROM settings_groups</li>
                </ul>
            </div>

            <div class="card">
                <h3>Hata 3: "Layout JSON geÃ§ersiz"</h3>
                <div class="warning">
                    <strong>Sebep:</strong> JSON formatÄ±nda hata
                </div>
                <ul class="list-item">
                    <li>json_encode() kullan</li>
                    <li>JSON validator ile test et (jsonlint.com)</li>
                    <li>TÄ±rnak iÅŸaretlerine dikkat et</li>
                </ul>
            </div>
        </section>

        <!-- ================================================ BAÅLANGIÃ‡ TEMPLATE ================================================ -->
        <section>
            <h2>ğŸ“Œ Yeni Seeder Template</h2>

            <div class="card">
                <p>Yeni setting grubu oluÅŸturken ÅŸu template'i kullanÄ±n:</p>
                <div class="code-block">
&lt;?php

namespace Modules\SettingManagement\Database\Seeders;

use Illuminate\Database\Seeder;
use Illuminate\Support\Facades\DB;

class YourFeatureSeeder extends Seeder
{
    public function run(): void
    {
        // 1. GRUP OLUÅTUR
        $groupId = 20; // Yeni ID (Ã¶nceki max'tan +1)
        
        $existing = DB::table('settings_groups')
            ->where('id', $groupId)->first();

        DB::table('settings_groups')->updateOrInsert(
            ['id' => $groupId],
            [
                'name' => 'TÃ¼rkÃ§e Grup AdÄ±',
                'slug' => 'slug-adÄ±',
                'parent_id' => 1, // Hangi ana kategori altÄ±nda?
                'icon' => 'fas fa-icon-name',
                'prefix' => 'prefix_name',
                'is_active' => true,
                'layout' => $this->getLayout(),
                'created_at' => $existing->created_at ?? now(),
                'updated_at' => now(),
            ]
        );

        // 2. AYARLARI OLUÅTUR
        $settings = [
            [
                'group_id' => $groupId,
                'label' => 'Ayar AdÄ±',
                'key' => 'prefix_name_key',
                'type' => 'text', // text, select, textarea, image vb.
                'options' => null,
                'default_value' => 'default',
                'sort_order' => 1,
                'is_active' => true,
                'is_system' => false,
                'is_required' => true,
                'help_text' => 'KullanÄ±cÄ±ya gÃ¶sterilecek yardÄ±m metni'
            ],
        ];

        foreach ($settings as $setting) {
            $existing = DB::table('settings')
                ->where('key', $setting['key'])->first();
            
            DB::table('settings')->updateOrInsert(
                ['key' => $setting['key']],
                [
                    'group_id' => $setting['group_id'],
                    'label' => $setting['label'],
                    'type' => $setting['type'],
                    'options' => $setting['options'] ?? null,
                    'default_value' => $setting['default_value'],
                    'sort_order' => $setting['sort_order'] ?? 0,
                    'is_active' => $setting['is_active'] ?? true,
                    'is_system' => $setting['is_system'] ?? false,
                    'is_required' => $setting['is_required'] ?? false,
                    'help_text' => $setting['help_text'] ?? null,
                    'created_at' => $existing->created_at ?? now(),
                    'updated_at' => now(),
                ]
            );
        }
    }

    private function getLayout(): string
    {
        $layout = [
            'title' => 'Form BaÅŸlÄ±ÄŸÄ±',
            'elements' => [
                [
                    'type' => 'heading',
                    'properties' => [
                        'content' => 'BÃ¶lÃ¼m BaÅŸlÄ±ÄŸÄ±',
                        'size' => 'h3',
                        'width' => 12,
                    ],
                ],
                [
                    'type' => 'row',
                    'columns' => [
                        [
                            'width' => 6,
                            'elements' => [
                                [
                                    'type' => 'text',
                                    'properties' => [
                                        'label' => 'Alan AdÄ±',
                                        'name' => 'prefix_name_key',
                                        'setting_id' => 1, // Settings tablosundaki ID
                                    ],
                                ],
                            ],
                        ],
                    ],
                ],
            ],
        ];

        return json_encode($layout);
    }
}
                </div>
            </div>
        </section>

        <!-- ================================================ KAYNAKLAR ================================================ -->
        <section>
            <h2>ğŸ“š Ä°lgili Dosyalar ve Kaynaklar</h2>

            <div class="card">
                <h3>ModÃ¼l Dosya KonumlarÄ±</h3>
                <div class="code-block">
Modules/SettingManagement/
â”œâ”€â”€ app/Models/
â”‚   â”œâ”€â”€ SettingGroup.php          â† Ana grup model
â”‚   â”œâ”€â”€ Setting.php               â† Ayar model
â”‚   â””â”€â”€ SettingValue.php          â† Ayar deÄŸeri model
â”œâ”€â”€ database/
â”‚   â”œâ”€â”€ migrations/
â”‚   â”‚   â”œâ”€â”€ 2024_12_01_000001_create_settings_groups_table.php
â”‚   â”‚   â”œâ”€â”€ 2024_12_01_000002_create_settings_table.php
â”‚   â”‚   â”œâ”€â”€ 2024_12_01_000003_create_settings_values_table.php
â”‚   â”‚   â””â”€â”€ tenant/
â”‚   â”‚       â””â”€â”€ 2024_12_01_000003_create_settings_values_table.php
â”‚   â””â”€â”€ seeders/
â”‚       â”œâ”€â”€ SettingManagementDatabaseSeeder.php (ana seeder)
â”‚       â”œâ”€â”€ AISettingsSeeder.php (Ã¶rnek)
â”‚       â””â”€â”€ AuthRegistrationSeeder.php (oluÅŸturacaÄŸÄ±nÄ±z)
â”œâ”€â”€ app/Http/Livewire/
â”‚   â”œâ”€â”€ ValuesComponent.php       â† Ayar deÄŸerleri edit paneli
â”‚   â”œâ”€â”€ GroupManageComponent.php  â† Grup yÃ¶netimi
â”‚   â””â”€â”€ GroupListComponent.php    â† Grup listesi
â””â”€â”€ routes/
    â””â”€â”€ admin.php                 â† Admin panel yollarÄ±

Global Dosyalar:
app/Services/SettingsService.php     â† AyarlarÄ± okuyan service
app/Helpers/Functions.php            â† setting() helper
                </div>
            </div>

            <div class="card">
                <h3>Admin Panel EriÅŸim</h3>
                <div class="code-block">
URL: https://ixtif.com/admin/settingmanagement/groups

Buradan:
1. GruplarÄ± gÃ¶rÃ¼ntÃ¼le
2. "New Group" ile yeni grup oluÅŸtur (test iÃ§in)
3. Grupo iÃ§inde Settings panel'de ayarlarÄ± edit et
4. Admin panelin layout'unu incele
                </div>
            </div>
        </section>

        <footer>
            ğŸ¤– SettingManagement ModÃ¼lÃ¼ DetaylÄ± Analiz | Claude AI tarafÄ±ndan oluÅŸturuldu
        </footer>
    </div>
</body>
</html>

<!DOCTYPE html>
<html lang="tr">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Frontend 08: Playlist YÃ¶netimi - Muzibu Test</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <script>
        tailwind.config = {
            darkMode: 'class',
            theme: { extend: { colors: { slate: { 850: '#1a202e', 950: '#0f1419' } } } }
        }
    </script>
    <style>
        @media print {
            .no-print { display: none; }
            input[type="checkbox"] { -webkit-appearance: checkbox; appearance: checkbox; }
        }
    </style>
</head>
<body class="bg-slate-950 text-slate-200 min-h-screen">
    <div class="container mx-auto px-4 py-8 max-w-5xl">

        <div class="mb-8">
            <div class="flex items-center justify-between mb-4">
                <a href="../index.html" class="text-emerald-400 hover:text-emerald-300 no-print">â† Geri</a>
                <button onclick="window.print()" class="bg-slate-800 hover:bg-slate-700 px-4 py-2 rounded text-sm no-print">ğŸ–¨ï¸ YazdÄ±r</button>
            </div>
            <h1 class="text-3xl font-bold text-emerald-400 mb-2">Frontend 08: Playlist YÃ¶netimi</h1>
            <p class="text-slate-400">Playlist oluÅŸturma, dÃ¼zenleme, silme, ÅŸarkÄ± ekleme/Ã§Ä±karma</p>

            <div class="mt-4 bg-slate-900 rounded-lg p-4">
                <div class="flex justify-between items-center mb-2">
                    <span class="text-sm font-semibold">Ä°lerleme</span>
                    <span class="text-sm" id="progress-text">0 / 15</span>
                </div>
                <div class="w-full bg-slate-800 rounded-full h-3">
                    <div id="progress-bar" class="bg-emerald-500 h-3 rounded-full transition-all duration-300" style="width: 0%"></div>
                </div>
            </div>
        </div>

        <div class="space-y-6">

            <!-- Playlist OluÅŸturma -->
            <div class="bg-slate-900 border border-slate-700 rounded-lg p-6">
                <h2 class="text-xl font-bold text-emerald-300 mb-4">â• Playlist OluÅŸturma</h2>
                <div class="space-y-4">

                    <label class="flex items-start space-x-3 p-3 hover:bg-slate-800 rounded cursor-pointer group">
                        <input type="checkbox" class="test-checkbox mt-1 w-5 h-5 rounded border-slate-600" data-test="playlist-create-button">
                        <div class="flex-1">
                            <div class="font-semibold text-slate-200 group-hover:text-emerald-300">OluÅŸturma Butonu</div>
                            <div class="text-sm text-slate-400 mt-1">
                                â–¸ Sidebar veya header'da "Yeni Playlist" butonu belirgin olmalÄ±<br>
                                â–¸ TÄ±klandÄ±ÄŸÄ±nda modal/overlay aÃ§Ä±lmalÄ±<br>
                                â–¸ Keyboard shortcut: Ctrl+N veya Cmd+N (isteÄŸe baÄŸlÄ±)<br>
                                â–¸ Guest kullanÄ±cÄ± iÃ§in disabled (login gerekli mesajÄ±)
                            </div>
                        </div>
                    </label>

                    <label class="flex items-start space-x-3 p-3 hover:bg-slate-800 rounded cursor-pointer group">
                        <input type="checkbox" class="test-checkbox mt-1 w-5 h-5 rounded border-slate-600" data-test="playlist-create-form">
                        <div class="flex-1">
                            <div class="font-semibold text-slate-200 group-hover:text-emerald-300">OluÅŸturma Formu</div>
                            <div class="text-sm text-slate-400 mt-1">
                                â–¸ Form alanlarÄ±: Playlist adÄ± (zorunlu), aÃ§Ä±klama (opsiyonel)<br>
                                â–¸ Playlist adÄ±: Max 100 karakter, boÅŸ olamaz<br>
                                â–¸ Kapak gÃ¶rseli upload (opsiyonel) - Auto-generate seÃ§eneÄŸi de olmalÄ±<br>
                                â–¸ Public/Private toggle: Public herkes gÃ¶rebilir, Private sadece sahibi<br>
                                â–¸ "OluÅŸtur" butonu active olmalÄ±
                            </div>
                        </div>
                    </label>

                    <label class="flex items-start space-x-3 p-3 hover:bg-slate-800 rounded cursor-pointer group">
                        <input type="checkbox" class="test-checkbox mt-1 w-5 h-5 rounded border-slate-600" data-test="playlist-create-save">
                        <div class="flex-1">
                            <div class="font-semibold text-slate-200 group-hover:text-emerald-300">Kaydetme</div>
                            <div class="text-sm text-slate-400 mt-1">
                                â–¸ "OluÅŸtur" butonuna basÄ±ldÄ±ÄŸÄ±nda API'ye POST isteÄŸi gÃ¶nderilmeli<br>
                                â–¸ BaÅŸarÄ±lÄ± oluÅŸturma: Toast mesajÄ± "âœ… Playlist oluÅŸturuldu!"<br>
                                â–¸ Slug otomatik generate edilmeli (playlist adÄ±ndan)<br>
                                â–¸ KullanÄ±cÄ± playlist detay sayfasÄ±na yÃ¶nlendirilmeli<br>
                                â–¸ Sidebar'da "Playlistlerim" bÃ¶lÃ¼mÃ¼ne otomatik eklensin
                            </div>
                        </div>
                    </label>

                    <label class="flex items-start space-x-3 p-3 hover:bg-slate-800 rounded cursor-pointer group">
                        <input type="checkbox" class="test-checkbox mt-1 w-5 h-5 rounded border-slate-600" data-test="playlist-auto-cover">
                        <div class="flex-1">
                            <div class="font-semibold text-slate-200 group-hover:text-emerald-300">Otomatik Kapak OluÅŸturma</div>
                            <div class="text-sm text-slate-400 mt-1">
                                â–¸ KullanÄ±cÄ± kapak upload etmediyse otomatik grid oluÅŸtur<br>
                                â–¸ Ä°lk 4 ÅŸarkÄ±nÄ±n kapaklarÄ±ndan 2x2 grid (mosaic) oluÅŸtur<br>
                                â–¸ ÅarkÄ± yoksa veya az ise: Placeholder gradient background<br>
                                â–¸ Job ile arka planda generate edilmeli (GeneratePlaylistCover job)
                            </div>
                        </div>
                    </label>

                </div>
            </div>

            <!-- Playlist DÃ¼zenleme -->
            <div class="bg-slate-900 border border-slate-700 rounded-lg p-6">
                <h2 class="text-xl font-bold text-emerald-300 mb-4">âœï¸ Playlist DÃ¼zenleme</h2>
                <div class="space-y-4">

                    <label class="flex items-start space-x-3 p-3 hover:bg-slate-800 rounded cursor-pointer group">
                        <input type="checkbox" class="test-checkbox mt-1 w-5 h-5 rounded border-slate-600" data-test="playlist-edit-access">
                        <div class="flex-1">
                            <div class="font-semibold text-slate-200 group-hover:text-emerald-300">DÃ¼zenleme EriÅŸimi</div>
                            <div class="text-sm text-slate-400 mt-1">
                                â–¸ Sadece playlist sahibi dÃ¼zenleyebilmeli (owner check)<br>
                                â–¸ Playlist detay sayfasÄ±nda "DÃ¼zenle" butonu gÃ¶rÃ¼nmeli (sadece sahibi iÃ§in)<br>
                                â–¸ BaÅŸkasÄ±nÄ±n playlist'inde dÃ¼zenle butonu gÃ¶rÃ¼nmemeli<br>
                                â–¸ URL: /playlists/{slug}/edit (route middleware ile korumalÄ±)
                            </div>
                        </div>
                    </label>

                    <label class="flex items-start space-x-3 p-3 hover:bg-slate-800 rounded cursor-pointer group">
                        <input type="checkbox" class="test-checkbox mt-1 w-5 h-5 rounded border-slate-600" data-test="playlist-edit-form">
                        <div class="flex-1">
                            <div class="font-semibold text-slate-200 group-hover:text-emerald-300">DÃ¼zenleme Formu</div>
                            <div class="text-sm text-slate-400 mt-1">
                                â–¸ Mevcut veriler form alanlarÄ±na doldurulmuÅŸ olmalÄ±<br>
                                â–¸ Ä°sim, aÃ§Ä±klama, kapak gÃ¶rseli dÃ¼zenlenebilmeli<br>
                                â–¸ Public/Private toggle deÄŸiÅŸtirilebilmeli<br>
                                â–¸ "Kaydet" butonu ile deÄŸiÅŸiklikler API'ye gÃ¶nderilmeli<br>
                                â–¸ BaÅŸarÄ±lÄ± gÃ¼ncelleme: Toast "âœ… Playlist gÃ¼ncellendi!"
                            </div>
                        </div>
                    </label>

                    <label class="flex items-start space-x-3 p-3 hover:bg-slate-800 rounded cursor-pointer group">
                        <input type="checkbox" class="test-checkbox mt-1 w-5 h-5 rounded border-slate-600" data-test="playlist-song-reorder">
                        <div class="flex-1">
                            <div class="font-semibold text-slate-200 group-hover:text-emerald-300">ÅarkÄ± SÄ±ralamasÄ±</div>
                            <div class="text-sm text-slate-400 mt-1">
                                â–¸ Playlist detay sayfasÄ±nda drag-drop ile ÅŸarkÄ± sÄ±rasÄ± deÄŸiÅŸtirilebilmeli<br>
                                â–¸ Sadece playlist sahibi sÄ±ralayabilmeli<br>
                                â–¸ SÃ¼rÃ¼klerken visual feedback (shadow, opacity)<br>
                                â–¸ BÄ±rakÄ±ldÄ±ÄŸÄ±nda API'ye yeni sÄ±ra kaydedilmeli<br>
                                â–¸ Mobilde: Long press + drag
                            </div>
                        </div>
                    </label>

                </div>
            </div>

            <!-- ÅarkÄ± Ekleme/Ã‡Ä±karma -->
            <div class="bg-slate-900 border border-slate-700 rounded-lg p-6">
                <h2 class="text-xl font-bold text-emerald-300 mb-4">ğŸµ ÅarkÄ± Ekleme/Ã‡Ä±karma</h2>
                <div class="space-y-4">

                    <label class="flex items-start space-x-3 p-3 hover:bg-slate-800 rounded cursor-pointer group">
                        <input type="checkbox" class="test-checkbox mt-1 w-5 h-5 rounded border-slate-600" data-test="playlist-add-song-menu">
                        <div class="flex-1">
                            <div class="font-semibold text-slate-200 group-hover:text-emerald-300">ÅarkÄ± Ekleme (3-Dot Menu)</div>
                            <div class="text-sm text-slate-400 mt-1">
                                â–¸ Her ÅŸarkÄ± kartÄ±nda 3-dot menu (kebab menu) olmalÄ±<br>
                                â–¸ Menu aÃ§Ä±ldÄ±ÄŸÄ±nda "Playlist'e Ekle" seÃ§eneÄŸi gÃ¶rÃ¼nmeli<br>
                                â–¸ TÄ±klanÄ±nca modal aÃ§Ä±lsÄ±n: TÃ¼m playlistler listelenmiÅŸ<br>
                                â–¸ Checkbox ile birden fazla playlist seÃ§ilebilmeli<br>
                                â–¸ "Ekle" butonuna basÄ±ldÄ±ÄŸÄ±nda seÃ§ilen playliste eklensin
                            </div>
                        </div>
                    </label>

                    <label class="flex items-start space-x-3 p-3 hover:bg-slate-800 rounded cursor-pointer group">
                        <input type="checkbox" class="test-checkbox mt-1 w-5 h-5 rounded border-slate-600" data-test="playlist-add-duplicate-check">
                        <div class="flex-1">
                            <div class="font-semibold text-slate-200 group-hover:text-emerald-300">Duplicate KontrolÃ¼</div>
                            <div class="text-sm text-slate-400 mt-1">
                                â–¸ ÅarkÄ± zaten playlist'te varsa "Zaten ekli" mesajÄ± gÃ¶sterilmeli<br>
                                â–¸ Playlist seÃ§im modal'Ä±nda zaten ekli olanlar iÅŸaretli (âœ“) olmalÄ±<br>
                                â–¸ Duplicate eklemeye Ã§alÄ±ÅŸÄ±lÄ±rsa warning toast gÃ¶ster<br>
                                â–¸ Ayar: KullanÄ±cÄ± duplicate'e izin verebilir (settings'ten)
                            </div>
                        </div>
                    </label>

                    <label class="flex items-start space-x-3 p-3 hover:bg-slate-800 rounded cursor-pointer group">
                        <input type="checkbox" class="test-checkbox mt-1 w-5 h-5 rounded border-slate-600" data-test="playlist-remove-song">
                        <div class="flex-1">
                            <div class="font-semibold text-slate-200 group-hover:text-emerald-300">ÅarkÄ± Ã‡Ä±karma</div>
                            <div class="text-sm text-slate-400 mt-1">
                                â–¸ Playlist detay sayfasÄ±nda her ÅŸarkÄ± kartÄ±nda "X" ikonu olmalÄ± (sadece sahibi iÃ§in)<br>
                                â–¸ TÄ±klandÄ±ÄŸÄ±nda "Playlist'ten Ã§Ä±kar" onayÄ± alÄ±nmalÄ±<br>
                                â–¸ OnaylanÄ±nca API'ye DELETE isteÄŸi gÃ¶nderilsin<br>
                                â–¸ ÅarkÄ± listeden kalkmalÄ± (fade-out animasyonu)<br>
                                â–¸ Toast: "ÅarkÄ± playlist'ten Ã§Ä±karÄ±ldÄ±"
                            </div>
                        </div>
                    </label>

                    <label class="flex items-start space-x-3 p-3 hover:bg-slate-800 rounded cursor-pointer group">
                        <input type="checkbox" class="test-checkbox mt-1 w-5 h-5 rounded border-slate-600" data-test="playlist-bulk-add">
                        <div class="flex-1">
                            <div class="font-semibold text-slate-200 group-hover:text-emerald-300">Toplu ÅarkÄ± Ekleme</div>
                            <div class="text-sm text-slate-400 mt-1">
                                â–¸ Song listesinde checkbox ile Ã§oklu seÃ§im yapÄ±labilmeli<br>
                                â–¸ SeÃ§ili ÅŸarkÄ±lar iÃ§in "Playlist'e Ekle" butonu aktif olsun<br>
                                â–¸ TÄ±klandÄ±ÄŸÄ±nda playlist seÃ§im modal'Ä± aÃ§Ä±lsÄ±n<br>
                                â–¸ Toplu ekleme API: POST /api/playlists/{id}/songs/bulk<br>
                                â–¸ Toast: "âœ… 15 ÅŸarkÄ± eklendi!"
                            </div>
                        </div>
                    </label>

                </div>
            </div>

            <!-- Playlist Silme -->
            <div class="bg-slate-900 border border-slate-700 rounded-lg p-6">
                <h2 class="text-xl font-bold text-emerald-300 mb-4">ğŸ—‘ï¸ Playlist Silme</h2>
                <div class="space-y-4">

                    <label class="flex items-start space-x-3 p-3 hover:bg-slate-800 rounded cursor-pointer group">
                        <input type="checkbox" class="test-checkbox mt-1 w-5 h-5 rounded border-slate-600" data-test="playlist-delete-button">
                        <div class="flex-1">
                            <div class="font-semibold text-slate-200 group-hover:text-emerald-300">Silme Butonu</div>
                            <div class="text-sm text-slate-400 mt-1">
                                â–¸ Playlist detay/edit sayfasÄ±nda "Sil" butonu olmalÄ± (kÄ±rmÄ±zÄ± renk)<br>
                                â–¸ Sadece playlist sahibi gÃ¶rebilmeli<br>
                                â–¸ Butona hover ile warning tooltip: "Playlist kalÄ±cÄ± olarak silinir"<br>
                                â–¸ Tehlikeli iÅŸlem vurgusu (icon + renk)
                            </div>
                        </div>
                    </label>

                    <label class="flex items-start space-x-3 p-3 hover:bg-slate-800 rounded cursor-pointer group">
                        <input type="checkbox" class="test-checkbox mt-1 w-5 h-5 rounded border-slate-600" data-test="playlist-delete-confirm">
                        <div class="flex-1">
                            <div class="font-semibold text-slate-200 group-hover:text-emerald-300">Silme OnayÄ±</div>
                            <div class="text-sm text-slate-400 mt-1">
                                â–¸ TÄ±klandÄ±ÄŸÄ±nda onay modal'Ä± aÃ§Ä±lmalÄ±<br>
                                â–¸ Modal baÅŸlÄ±k: "Playlist Silinecek!"<br>
                                â–¸ Mesaj: "'{Playlist Name}' kalÄ±cÄ± olarak silinecek. Bu iÅŸlem geri alÄ±namaz!"<br>
                                â–¸ Ä°ki buton: "Ä°ptal" (gri) ve "Sil" (kÄ±rmÄ±zÄ±)<br>
                                â–¸ ESC tuÅŸu ile modal kapanmalÄ± (iptal)
                            </div>
                        </div>
                    </label>

                    <label class="flex items-start space-x-3 p-3 hover:bg-slate-800 rounded cursor-pointer group">
                        <input type="checkbox" class="test-checkbox mt-1 w-5 h-5 rounded border-slate-600" data-test="playlist-delete-execute">
                        <div class="flex-1">
                            <div class="font-semibold text-slate-200 group-hover:text-emerald-300">Silme Ä°ÅŸlemi</div>
                            <div class="text-sm text-slate-400 mt-1">
                                â–¸ "Sil" butonuna basÄ±ldÄ±ÄŸÄ±nda API'ye DELETE isteÄŸi gÃ¶nderilmeli<br>
                                â–¸ BaÅŸarÄ±lÄ± silme: Toast "âœ… Playlist silindi"<br>
                                â–¸ KullanÄ±cÄ± "Playlistlerim" sayfasÄ±na yÃ¶nlendirilmeli<br>
                                â–¸ Cascade delete: Playlist + playlist_song pivot kayÄ±tlarÄ± silinsin<br>
                                â–¸ Medya dosyalarÄ± (kapak) silinsin (varsa)
                            </div>
                        </div>
                    </label>

                </div>
            </div>

            <!-- DiÄŸer Ã–zellikler -->
            <div class="bg-slate-900 border border-slate-700 rounded-lg p-6">
                <h2 class="text-xl font-bold text-emerald-300 mb-4">â­ DiÄŸer Ã–zellikler</h2>
                <div class="space-y-4">

                    <label class="flex items-start space-x-3 p-3 hover:bg-slate-800 rounded cursor-pointer group">
                        <input type="checkbox" class="test-checkbox mt-1 w-5 h-5 rounded border-slate-600" data-test="playlist-duplicate">
                        <div class="flex-1">
                            <div class="font-semibold text-slate-200 group-hover:text-emerald-300">Playlist Kopyalama</div>
                            <div class="text-sm text-slate-400 mt-1">
                                â–¸ BaÅŸkasÄ±nÄ±n public playlist'ini kopyalayabilme<br>
                                â–¸ "Kopyala" butonu baÅŸkasÄ±nÄ±n playlist'inde gÃ¶rÃ¼nsÃ¼n<br>
                                â–¸ TÄ±klandÄ±ÄŸÄ±nda: TÃ¼m ÅŸarkÄ±lar kendi hesabÄ±na yeni playlist oluÅŸtur<br>
                                â–¸ Ä°sim: "{Original Name} (Kopya)" olmalÄ±<br>
                                â–¸ Toast: "âœ… Playlist hesabÄ±nÄ±za kopyalandÄ±"
                            </div>
                        </div>
                    </label>

                    <label class="flex items-start space-x-3 p-3 hover:bg-slate-800 rounded cursor-pointer group">
                        <input type="checkbox" class="test-checkbox mt-1 w-5 h-5 rounded border-slate-600" data-test="playlist-share">
                        <div class="flex-1">
                            <div class="font-semibold text-slate-200 group-hover:text-emerald-300">Playlist PaylaÅŸma</div>
                            <div class="text-sm text-slate-400 mt-1">
                                â–¸ "PaylaÅŸ" butonu: Link kopyala, sosyal medya paylaÅŸÄ±mÄ±<br>
                                â–¸ Copy link tÄ±klandÄ±ÄŸÄ±nda URL clipboard'a kopyalanmalÄ±<br>
                                â–¸ Toast: "âœ… Link kopyalandÄ±!"<br>
                                â–¸ Social buttons: WhatsApp, Twitter, Facebook (isteÄŸe baÄŸlÄ±)
                            </div>
                        </div>
                    </label>

                    <label class="flex items-start space-x-3 p-3 hover:bg-slate-800 rounded cursor-pointer group">
                        <input type="checkbox" class="test-checkbox mt-1 w-5 h-5 rounded border-slate-600" data-test="playlist-filter">
                        <div class="flex-1">
                            <div class="font-semibold text-slate-200 group-hover:text-emerald-300">Playlist Filtreleme</div>
                            <div class="text-sm text-slate-400 mt-1">
                                â–¸ "Playlistlerim" sayfasÄ±nda arama ve filtreleme olmalÄ±<br>
                                â–¸ Arama: Playlist adÄ± ile arama<br>
                                â–¸ Filtre: Public/Private, ÅarkÄ± sayÄ±sÄ±na gÃ¶re sÄ±ralama<br>
                                â–¸ SÄ±ralama: Yeni oluÅŸturulan, En Ã§ok ÅŸarkÄ±lÄ±, A-Z
                            </div>
                        </div>
                    </label>

                </div>
            </div>

        </div>

        <div class="mt-8 flex gap-4 no-print">
            <button onclick="resetProgress()" class="bg-red-600 hover:bg-red-500 px-6 py-3 rounded-lg text-white font-semibold">
                ğŸ”„ Ä°lerlemeyi SÄ±fÄ±rla
            </button>
            <button onclick="markAllComplete()" class="bg-emerald-600 hover:bg-emerald-500 px-6 py-3 rounded-lg text-white font-semibold">
                âœ… TÃ¼mÃ¼nÃ¼ Tamamla
            </button>
        </div>

        <div class="mt-12 text-center text-slate-500 text-sm border-t border-slate-800 pt-6">
            <p>ğŸµ Muzibu.com.tr - Playlist YÃ¶netimi Test Checklist</p>
        </div>

    </div>

    <script>
        const STORAGE_KEY = 'muzibu_test_frontend_08_playlist';
        const TOTAL_TESTS = 15;

        function loadProgress() {
            const saved = localStorage.getItem(STORAGE_KEY);
            if (saved) {
                const data = JSON.parse(saved);
                document.querySelectorAll('.test-checkbox').forEach(checkbox => {
                    const testId = checkbox.dataset.test;
                    if (data[testId]) checkbox.checked = true;
                });
            }
            updateProgress();
        }

        function saveProgress() {
            const data = {};
            document.querySelectorAll('.test-checkbox').forEach(checkbox => {
                data[checkbox.dataset.test] = checkbox.checked;
            });
            localStorage.setItem(STORAGE_KEY, JSON.stringify(data));
            updateProgress();
        }

        function updateProgress() {
            const checked = document.querySelectorAll('.test-checkbox:checked').length;
            const percentage = Math.round((checked / TOTAL_TESTS) * 100);
            document.getElementById('progress-bar').style.width = percentage + '%';
            document.getElementById('progress-text').textContent = `${checked} / ${TOTAL_TESTS}`;
        }

        function resetProgress() {
            if (!confirm('âš ï¸ TÃ¼m iÅŸaretlemeler silinecek! Emin misiniz?')) return;
            localStorage.removeItem(STORAGE_KEY);
            document.querySelectorAll('.test-checkbox').forEach(cb => cb.checked = false);
            updateProgress();
        }

        function markAllComplete() {
            document.querySelectorAll('.test-checkbox').forEach(cb => cb.checked = true);
            saveProgress();
        }

        document.querySelectorAll('.test-checkbox').forEach(checkbox => {
            checkbox.addEventListener('change', saveProgress);
        });

        loadProgress();
    </script>
</body>
</html>

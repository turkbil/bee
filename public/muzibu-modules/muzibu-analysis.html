<!DOCTYPE html>
<html lang="tr">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Muzibu Sistem Analizi | Eksikler & Öneriler</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    <style>
        @import url('https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600;700;800;900&display=swap');

        body {
            font-family: 'Inter', sans-serif;
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
        }

        .glass {
            background: rgba(255, 255, 255, 0.95);
            backdrop-filter: blur(10px);
            border: 1px solid rgba(255, 255, 255, 0.2);
        }

        .item-card {
            transition: all 0.3s;
            cursor: pointer;
        }

        .item-card:hover {
            transform: translateX(8px);
            box-shadow: 0 8px 24px rgba(0, 0, 0, 0.15);
        }

        .item-card.selected {
            background: #f3f4f6;
            border-left: 4px solid #667eea;
        }

        .bg-missing { background: linear-gradient(135deg, #f093fb 0%, #f5576c 100%); }
        .bg-redundant { background: linear-gradient(135deg, #fa709a 0%, #fee140 100%); }
        .bg-suggestion { background: linear-gradient(135deg, #4facfe 0%, #00f2fe 100%); }
        .bg-critical { background: linear-gradient(135deg, #ff6b6b 0%, #ee5a6f 100%); }

        .checkbox-wrapper {
            display: inline-flex;
            align-items: center;
            gap: 0.75rem;
        }

        .checkbox-wrapper input[type="checkbox"] {
            width: 1.25rem;
            height: 1.25rem;
            cursor: pointer;
        }
    </style>
</head>
<body class="min-h-screen py-12 px-4">
    <div class="max-w-7xl mx-auto">
        <!-- Header -->
        <div class="glass rounded-3xl shadow-2xl p-8 mb-8">
            <div class="flex items-center justify-between mb-6">
                <div>
                    <h1 class="text-4xl font-black text-gray-900 mb-2">
                        <i class="fas fa-clipboard-check text-purple-600 mr-3"></i>
                        Muzibu Sistem Analizi
                    </h1>
                    <p class="text-gray-600 text-lg">Eksikler, Fazlalıklar ve Geliştirme Önerileri</p>
                </div>
                <div class="text-right">
                    <div class="text-sm text-gray-500 mb-1">Tarih</div>
                    <div class="text-xl font-bold text-purple-600">9 Kasım 2025</div>
                </div>
            </div>

            <div class="grid grid-cols-1 md:grid-cols-4 gap-4">
                <div class="bg-gradient-to-br from-red-500 to-red-600 text-white rounded-xl p-4">
                    <div class="text-2xl font-bold mb-1">8</div>
                    <div class="text-red-100 text-sm">Eksik Özellik</div>
                </div>
                <div class="bg-gradient-to-br from-orange-500 to-orange-600 text-white rounded-xl p-4">
                    <div class="text-2xl font-bold mb-1">3</div>
                    <div class="text-orange-100 text-sm">Gereksiz Tablo</div>
                </div>
                <div class="bg-gradient-to-br from-blue-500 to-blue-600 text-white rounded-xl p-4">
                    <div class="text-2xl font-bold mb-1">12</div>
                    <div class="text-blue-100 text-sm">İyileştirme Önerisi</div>
                </div>
                <div class="bg-gradient-to-br from-green-500 to-green-600 text-white rounded-xl p-4">
                    <div class="text-2xl font-bold mb-1">5</div>
                    <div class="text-green-100 text-sm">Kritik Öncelik</div>
                </div>
            </div>
        </div>

        <!-- MISSING FEATURES -->
        <div class="glass rounded-3xl shadow-xl p-8 mb-8">
            <h2 class="text-2xl font-bold text-gray-900 mb-6 flex items-center gap-3">
                <div class="w-10 h-10 bg-missing rounded-xl flex items-center justify-center text-white">
                    <i class="fas fa-exclamation-triangle"></i>
                </div>
                Eksik Özellikler (8)
            </h2>

            <div class="space-y-4">
                <!-- 1. Media Management -->
                <div class="item-card border-l-4 border-red-500 bg-white p-4 rounded-lg shadow-sm">
                    <label class="checkbox-wrapper">
                        <input type="checkbox" class="text-red-600 rounded">
                        <div class="flex-1">
                            <h3 class="font-bold text-gray-900 mb-1 flex items-center gap-2">
                                <i class="fas fa-image text-red-500"></i>
                                Media Management Entegrasyonu
                                <span class="text-xs bg-red-100 text-red-700 px-2 py-1 rounded">CRITICAL</span>
                            </h3>
                            <p class="text-sm text-gray-600 mb-2">
                                <strong>Sorun:</strong> Eski SQL'de sadece VARCHAR thumb kolonları var (string path)
                            </p>
                            <p class="text-sm text-gray-700 mb-2">
                                <strong>Olması Gereken:</strong> MediaManagement modülü ile morph ilişkisi
                            </p>
                            <div class="mt-2 bg-gray-50 p-3 rounded text-xs font-mono">
// Song, Album, Artist, Playlist modellerinde<br>
use HasMediaManagement;<br>
<br>
protected function getMediaConfig(): array {<br>
&nbsp;&nbsp;return [<br>
&nbsp;&nbsp;&nbsp;&nbsp;'cover' => ['single_file' => true],<br>
&nbsp;&nbsp;&nbsp;&nbsp;'gallery' => ['single_file' => false],<br>
&nbsp;&nbsp;];<br>
}
                            </div>
                            <p class="text-xs text-gray-500 mt-2">
                                <i class="fas fa-lightbulb text-yellow-500"></i>
                                Albüm kapakları, sanatçı fotoğrafları, playlist cover'ları media library ile yönetilmeli
                            </p>
                        </div>
                    </label>
                </div>

                <!-- 2. SEO Management -->
                <div class="item-card border-l-4 border-red-500 bg-white p-4 rounded-lg shadow-sm">
                    <label class="checkbox-wrapper">
                        <input type="checkbox" class="text-red-600 rounded">
                        <div class="flex-1">
                            <h3 class="font-bold text-gray-900 mb-1 flex items-center gap-2">
                                <i class="fas fa-search text-red-500"></i>
                                SEO Management Entegrasyonu
                                <span class="text-xs bg-red-100 text-red-700 px-2 py-1 rounded">CRITICAL</span>
                            </h3>
                            <p class="text-sm text-gray-600 mb-2">
                                <strong>Sorun:</strong> Eski SQL'de her tabloda meta_title, meta_keywords, meta_description kolonları tekrar ediyor
                            </p>
                            <p class="text-sm text-gray-700 mb-2">
                                <strong>Olması Gereken:</strong> SeoManagement modülü ile morph ilişkisi (HasSeo trait)
                            </p>
                            <div class="mt-2 bg-gray-50 p-3 rounded text-xs font-mono">
// Model'de<br>
use HasSeo;<br>
<br>
public function hasSeoSettings(): bool {<br>
&nbsp;&nbsp;return true;<br>
}<br>
<br>
public function getSeoFallbackTitle(): ?string {<br>
&nbsp;&nbsp;return $this->getTranslated('title', app()->getLocale());<br>
}
                            </div>
                        </div>
                    </label>
                </div>

                <!-- 3. Audio File Management -->
                <div class="item-card border-l-4 border-orange-500 bg-white p-4 rounded-lg shadow-sm">
                    <label class="checkbox-wrapper">
                        <input type="checkbox" class="text-orange-600 rounded">
                        <div class="flex-1">
                            <h3 class="font-bold text-gray-900 mb-1 flex items-center gap-2">
                                <i class="fas fa-file-audio text-orange-500"></i>
                                Audio Dosya Yönetimi Stratejisi
                                <span class="text-xs bg-orange-100 text-orange-700 px-2 py-1 rounded">HIGH</span>
                            </h3>
                            <p class="text-sm text-gray-600 mb-2">
                                <strong>Sorun:</strong> Eski SQL'de sadece `audio VARCHAR(255)` - dosya yolu string
                            </p>
                            <p class="text-sm text-gray-700 mb-2">
                                <strong>Seçenekler:</strong>
                            </p>
                            <ul class="text-sm text-gray-600 ml-6 mb-2 space-y-1">
                                <li>• <strong>Lokal Storage:</strong> MediaManagement ile (boyut limitleri dikkat!)</li>
                                <li>• <strong>S3/CloudStorage:</strong> Laravel Filesystem (AWS S3, DigitalOcean Spaces)</li>
                                <li>• <strong>Streaming Service:</strong> Harici API (Spotify, SoundCloud embed)</li>
                                <li>• <strong>CDN:</strong> CloudFlare R2, Bunny CDN (büyük audio dosyaları için)</li>
                            </ul>
                            <p class="text-xs text-gray-500 mt-2">
                                <i class="fas fa-info-circle text-blue-500"></i>
                                Karar: Kullanıcıyla konuş - Upload mı yoksa embed mi?
                            </p>
                        </div>
                    </label>
                </div>

                <!-- 4. Çoklu Dil Eksikliği -->
                <div class="item-card border-l-4 border-red-500 bg-white p-4 rounded-lg shadow-sm">
                    <label class="checkbox-wrapper">
                        <input type="checkbox" class="text-red-600 rounded">
                        <div class="flex-1">
                            <h3 class="font-bold text-gray-900 mb-1 flex items-center gap-2">
                                <i class="fas fa-language text-red-500"></i>
                                Çoklu Dil Desteği (title_en eksik!)
                                <span class="text-xs bg-red-100 text-red-700 px-2 py-1 rounded">CRITICAL</span>
                            </h3>
                            <p class="text-sm text-gray-600 mb-2">
                                <strong>Sorun:</strong> Eski SQL'de sadece title_tr, bio_tr, description_tr var - İngilizce yok!
                            </p>
                            <p class="text-sm text-gray-700 mb-2">
                                <strong>Olması Gereken:</strong> JSON multi-lang sistemi
                            </p>
                            <div class="mt-2 bg-gray-50 p-3 rounded text-xs font-mono">
title JSON -- {"tr": "Başlık", "en": "Title", "ar": "عنوان"}<br>
description JSON -- {"tr": "Açıklama", "en": "Description"}
                            </div>
                            <p class="text-xs text-gray-500 mt-2">
                                <i class="fas fa-check-circle text-green-500"></i>
                                HasTranslations trait otomatik olarak tüm dilleri destekleyecek
                            </p>
                        </div>
                    </label>
                </div>

                <!-- 5. Slug Otomasyonu -->
                <div class="item-card border-l-4 border-yellow-500 bg-white p-4 rounded-lg shadow-sm">
                    <label class="checkbox-wrapper">
                        <input type="checkbox" class="text-yellow-600 rounded">
                        <div class="flex-1">
                            <h3 class="font-bold text-gray-900 mb-1 flex items-center gap-2">
                                <i class="fas fa-link text-yellow-500"></i>
                                Otomatik Slug Oluşturma
                                <span class="text-xs bg-yellow-100 text-yellow-700 px-2 py-1 rounded">MEDIUM</span>
                            </h3>
                            <p class="text-sm text-gray-600 mb-2">
                                <strong>Sorun:</strong> Eski SQL'de manuel slug VARCHAR(255)
                            </p>
                            <p class="text-sm text-gray-700 mb-2">
                                <strong>Olması Gereken:</strong> Observer ile otomatik slug generation
                            </p>
                            <div class="mt-2 bg-gray-50 p-3 rounded text-xs font-mono">
// Observer'da<br>
public function creating(Song $song) {<br>
&nbsp;&nbsp;$song->generateSlugForLocale('tr');<br>
&nbsp;&nbsp;$song->generateSlugForLocale('en');<br>
}
                            </div>
                        </div>
                    </label>
                </div>

                <!-- 6. Soft Deletes -->
                <div class="item-card border-l-4 border-blue-500 bg-white p-4 rounded-lg shadow-sm">
                    <label class="checkbox-wrapper">
                        <input type="checkbox" class="text-blue-600 rounded">
                        <div class="flex-1">
                            <h3 class="font-bold text-gray-900 mb-1 flex items-center gap-2">
                                <i class="fas fa-trash-restore text-blue-500"></i>
                                Soft Delete Desteği
                                <span class="text-xs bg-blue-100 text-blue-700 px-2 py-1 rounded">RECOMMENDED</span>
                            </h3>
                            <p class="text-sm text-gray-600 mb-2">
                                <strong>Sorun:</strong> Eski SQL'de hard delete - silinen veri geri gelmez
                            </p>
                            <p class="text-sm text-gray-700 mb-2">
                                <strong>Olması Gereken:</strong> $table->softDeletes() - deleted_at kolonu
                            </p>
                            <div class="mt-2 bg-gray-50 p-3 rounded text-xs font-mono">
use SoftDeletes;<br>
<br>
// Migration'da<br>
$table->softDeletes();
                            </div>
                            <p class="text-xs text-gray-500 mt-2">
                                <i class="fas fa-shield-alt text-green-500"></i>
                                Yanlışlıkla silinen şarkı/albüm geri getirilebilir
                            </p>
                        </div>
                    </label>
                </div>

                <!-- 7. Indexing Eksikliği -->
                <div class="item-card border-l-4 border-purple-500 bg-white p-4 rounded-lg shadow-sm">
                    <label class="checkbox-wrapper">
                        <input type="checkbox" class="text-purple-600 rounded">
                        <div class="flex-1">
                            <h3 class="font-bold text-gray-900 mb-1 flex items-center gap-2">
                                <i class="fas fa-database text-purple-500"></i>
                                Database Index Optimizasyonu
                                <span class="text-xs bg-purple-100 text-purple-700 px-2 py-1 rounded">PERFORMANCE</span>
                            </h3>
                            <p class="text-sm text-gray-600 mb-2">
                                <strong>Sorun:</strong> Eski SQL'de index yok - sorgu performansı düşük
                            </p>
                            <p class="text-sm text-gray-700 mb-2">
                                <strong>Olması Gereken:</strong> Foreign key'ler ve sık kullanılan kolonlara index
                            </p>
                            <div class="mt-2 bg-gray-50 p-3 rounded text-xs font-mono">
$table->index(['artist_id', 'is_active']);<br>
$table->index(['genre_id', 'created_at']);<br>
$table->index('slug');
                            </div>
                            <p class="text-xs text-gray-500 mt-2">
                                <i class="fas fa-rocket text-blue-500"></i>
                                Binlerce şarkı olduğunda sorgu hızı 10x artacak
                            </p>
                        </div>
                    </label>
                </div>

                <!-- 8. User Relationship -->
                <div class="item-card border-l-4 border-indigo-500 bg-white p-4 rounded-lg shadow-sm">
                    <label class="checkbox-wrapper">
                        <input type="checkbox" class="text-indigo-600 rounded">
                        <div class="flex-1">
                            <h3 class="font-bold text-gray-900 mb-1 flex items-center gap-2">
                                <i class="fas fa-user text-indigo-500"></i>
                                User İlişkisi (Playlist Creator)
                                <span class="text-xs bg-indigo-100 text-indigo-700 px-2 py-1 rounded">MEDIUM</span>
                            </h3>
                            <p class="text-sm text-gray-600 mb-2">
                                <strong>Sorun:</strong> Playlist'te user_id INT(11) var ama foreign key yok
                            </p>
                            <p class="text-sm text-gray-700 mb-2">
                                <strong>Olması Gereken:</strong> users tablosuna foreign key constraint
                            </p>
                            <div class="mt-2 bg-gray-50 p-3 rounded text-xs font-mono">
$table->foreignId('user_id')<br>
&nbsp;&nbsp;->nullable()<br>
&nbsp;&nbsp;->constrained('users', 'id')<br>
&nbsp;&nbsp;->nullOnDelete();
                            </div>
                            <p class="text-xs text-gray-500 mt-2">
                                <i class="fas fa-question-circle text-orange-500"></i>
                                Karar: Playlist'ler user-owned mı yoksa sadece admin mi oluşturacak?
                            </p>
                        </div>
                    </label>
                </div>
            </div>
        </div>

        <!-- REDUNDANT TABLES -->
        <div class="glass rounded-3xl shadow-xl p-8 mb-8">
            <h2 class="text-2xl font-bold text-gray-900 mb-6 flex items-center gap-3">
                <div class="w-10 h-10 bg-redundant rounded-xl flex items-center justify-center text-white">
                    <i class="fas fa-times-circle"></i>
                </div>
                Gereksiz/Fazlalık Tablolar (3)
            </h2>

            <div class="space-y-4">
                <!-- 1. Sectors Table -->
                <div class="item-card border-l-4 border-orange-500 bg-white p-4 rounded-lg shadow-sm">
                    <label class="checkbox-wrapper">
                        <input type="checkbox" class="text-orange-600 rounded">
                        <div class="flex-1">
                            <h3 class="font-bold text-gray-900 mb-1 flex items-center gap-2">
                                <i class="fas fa-building text-orange-500"></i>
                                muzibu_sectors - Gerçekten Gerekli mi?
                                <span class="text-xs bg-orange-100 text-orange-700 px-2 py-1 rounded">QUESTION</span>
                            </h3>
                            <p class="text-sm text-gray-600 mb-2">
                                <strong>Sorun:</strong> Sectors (Restoran, Kafe, Ofis) müzik platformu için mantıklı değil
                            </p>
                            <p class="text-sm text-gray-700 mb-2">
                                <strong>Seçenekler:</strong>
                            </p>
                            <ul class="text-sm text-gray-600 ml-6 mb-2 space-y-1">
                                <li>• <strong>Sil:</strong> Müzik platformunda sektör gereksiz</li>
                                <li>• <strong>Değiştir:</strong> "Playlist Types" olarak kullan (Workout, Chill, Party)</li>
                                <li>• <strong>Universal Tag:</strong> Zaten tag sistemimiz var, gereksiz</li>
                            </ul>
                            <p class="text-xs text-gray-500 mt-2">
                                <i class="fas fa-lightbulb text-yellow-500"></i>
                                Öneri: Kaldır ve Universal Tag sistemi kullan
                            </p>
                        </div>
                    </label>
                </div>

                <!-- 2. Radios Table -->
                <div class="item-card border-l-4 border-yellow-500 bg-white p-4 rounded-lg shadow-sm">
                    <label class="checkbox-wrapper">
                        <input type="checkbox" class="text-yellow-600 rounded">
                        <div class="flex-1">
                            <h3 class="font-bold text-gray-900 mb-1 flex items-center gap-2">
                                <i class="fas fa-radio text-yellow-500"></i>
                                muzibu_radios - Kapsam Dışı Özellik
                                <span class="text-xs bg-yellow-100 text-yellow-700 px-2 py-1 rounded">SCOPE</span>
                            </h3>
                            <p class="text-sm text-gray-600 mb-2">
                                <strong>Sorun:</strong> Radyo istasyonları farklı bir modül olmalı (streaming)
                            </p>
                            <p class="text-sm text-gray-700 mb-2">
                                <strong>Öneriler:</strong>
                            </p>
                            <ul class="text-sm text-gray-600 ml-6 mb-2 space-y-1">
                                <li>• <strong>Ayrı Modül:</strong> "Radio" modülü oluştur (gelecekte)</li>
                                <li>• <strong>Playlist Tipi:</strong> is_radio flag'i yeterli</li>
                                <li>• <strong>Harici API:</strong> Embed radyo stream'leri</li>
                            </ul>
                            <p class="text-xs text-gray-500 mt-2">
                                <i class="fas fa-info-circle text-blue-500"></i>
                                Öneri: Şimdilik kaldır, MVP sonrası tekrar değerlendir
                            </p>
                        </div>
                    </label>
                </div>

                <!-- 3. Song Plays Detailed -->
                <div class="item-card border-l-4 border-blue-500 bg-white p-4 rounded-lg shadow-sm">
                    <label class="checkbox-wrapper">
                        <input type="checkbox" class="text-blue-600 rounded">
                        <div class="flex-1">
                            <h3 class="font-bold text-gray-900 mb-1 flex items-center gap-2">
                                <i class="fas fa-chart-line text-blue-500"></i>
                                muzibu_song_plays - Analytics Scope
                                <span class="text-xs bg-blue-100 text-blue-700 px-2 py-1 rounded">OPTIMIZATION</span>
                            </h3>
                            <p class="text-sm text-gray-600 mb-2">
                                <strong>Öneriler:</strong>
                            </p>
                            <ul class="text-sm text-gray-600 ml-6 mb-2 space-y-1">
                                <li>• <strong>Basitleştir:</strong> Sadece play_count kolonu ekle (Song tablosunda)</li>
                                <li>• <strong>Harici Analytics:</strong> Google Analytics, Mixpanel kullan</li>
                                <li>• <strong>Ayrı Tablo:</strong> MVP'de gereksiz, sonra ekle</li>
                                <li>• <strong>Cache Counter:</strong> Redis counter kullan (performans)</li>
                            </ul>
                            <p class="text-xs text-gray-500 mt-2">
                                <i class="fas fa-database text-purple-500"></i>
                                Öneri: İlk versiyonda basit play_count yeterli
                            </p>
                        </div>
                    </label>
                </div>
            </div>
        </div>

        <!-- SUGGESTIONS -->
        <div class="glass rounded-3xl shadow-xl p-8 mb-8">
            <h2 class="text-2xl font-bold text-gray-900 mb-6 flex items-center gap-3">
                <div class="w-10 h-10 bg-suggestion rounded-xl flex items-center justify-center text-white">
                    <i class="fas fa-lightbulb"></i>
                </div>
                İyileştirme Önerileri (12)
            </h2>

            <div class="space-y-4">
                <!-- 1. Repository Pattern -->
                <div class="item-card border-l-4 border-blue-500 bg-white p-4 rounded-lg shadow-sm">
                    <label class="checkbox-wrapper">
                        <input type="checkbox" class="text-blue-600 rounded">
                        <div class="flex-1">
                            <h3 class="font-bold text-gray-900 mb-1 flex items-center gap-2">
                                <i class="fas fa-code text-blue-500"></i>
                                Repository Pattern + Cache
                            </h3>
                            <p class="text-sm text-gray-600 mb-2">
                                Portfolio pattern'ını takip et: SongRepository, AlbumRepository, ArtistRepository
                            </p>
                            <div class="mt-2 bg-gray-50 p-3 rounded text-xs font-mono">
protected string $cachePrefix = TenantCacheService::PREFIX_MUZIBU;<br>
protected array $cacheKeys = ['all', 'active', 'by_genre', 'by_artist'];
                            </div>
                        </div>
                    </label>
                </div>

                <!-- 2. Observer Pattern -->
                <div class="item-card border-l-4 border-green-500 bg-white p-4 rounded-lg shadow-sm">
                    <label class="checkbox-wrapper">
                        <input type="checkbox" class="text-green-600 rounded">
                        <div class="flex-1">
                            <h3 class="font-bold text-gray-900 mb-1 flex items-center gap-2">
                                <i class="fas fa-eye text-green-500"></i>
                                Model Observer'lar (Auto Slug, Cache Clear)
                            </h3>
                            <p class="text-sm text-gray-600 mb-2">
                                SongObserver, AlbumObserver - creating/updating event'lerinde otomatik slug + cache temizleme
                            </p>
                        </div>
                    </label>
                </div>

                <!-- 3. Livewire Components -->
                <div class="item-card border-l-4 border-purple-500 bg-white p-4 rounded-lg shadow-sm">
                    <label class="checkbox-wrapper">
                        <input type="checkbox" class="text-purple-600 rounded">
                        <div class="flex-1">
                            <h3 class="font-bold text-gray-900 mb-1 flex items-center gap-2">
                                <i class="fas fa-bolt text-purple-500"></i>
                                Livewire Admin CRUD Pages
                            </h3>
                            <p class="text-sm text-gray-600 mb-2">
                                Portfolio pattern: SongIndex, SongEdit, AlbumIndex, ArtistManage components
                            </p>
                        </div>
                    </label>
                </div>

                <!-- 4. Validation Rules -->
                <div class="item-card border-l-4 border-indigo-500 bg-white p-4 rounded-lg shadow-sm">
                    <label class="checkbox-wrapper">
                        <input type="checkbox" class="text-indigo-600 rounded">
                        <div class="flex-1">
                            <h3 class="font-bold text-gray-900 mb-1 flex items-center gap-2">
                                <i class="fas fa-shield-alt text-indigo-500"></i>
                                Form Request Validation
                            </h3>
                            <p class="text-sm text-gray-600 mb-2">
                                StoreSongRequest, UpdateAlbumRequest - güvenlik + veri doğruluğu
                            </p>
                            <div class="mt-2 bg-gray-50 p-3 rounded text-xs font-mono">
'title.tr' => 'required|string|max:255',<br>
'audio' => 'nullable|file|mimes:mp3,wav|max:10240',<br>
'duration' => 'nullable|integer|min:1'
                            </div>
                        </div>
                    </label>
                </div>

                <!-- 5. API Endpoints -->
                <div class="item-card border-l-4 border-cyan-500 bg-white p-4 rounded-lg shadow-sm">
                    <label class="checkbox-wrapper">
                        <input type="checkbox" class="text-cyan-600 rounded">
                        <div class="flex-1">
                            <h3 class="font-bold text-gray-900 mb-1 flex items-center gap-2">
                                <i class="fas fa-plug text-cyan-500"></i>
                                REST API Endpoints (Frontend için)
                            </h3>
                            <p class="text-sm text-gray-600 mb-2">
                                /api/songs, /api/albums, /api/playlists - Frontend müzik player için
                            </p>
                            <div class="mt-2 bg-gray-50 p-3 rounded text-xs font-mono">
GET /api/songs?genre_id=1&limit=20<br>
GET /api/playlists/{id}/songs<br>
POST /api/songs/{id}/play (analytics)
                            </div>
                        </div>
                    </label>
                </div>

                <!-- 6. Seed Data -->
                <div class="item-card border-l-4 border-pink-500 bg-white p-4 rounded-lg shadow-sm">
                    <label class="checkbox-wrapper">
                        <input type="checkbox" class="text-pink-600 rounded">
                        <div class="flex-1">
                            <h3 class="font-bold text-gray-900 mb-1 flex items-center gap-2">
                                <i class="fas fa-seedling text-pink-500"></i>
                                Seeder'lar (Test Verileri)
                            </h3>
                            <p class="text-sm text-gray-600 mb-2">
                                GenreSeeder, ArtistSeeder, SongSeeder - demo müzik verileri
                            </p>
                            <ul class="text-xs text-gray-600 ml-6 mt-2 space-y-1">
                                <li>• 5-10 Genre (Pop, Rock, Jazz, Klasik)</li>
                                <li>• 20-30 Artist (demo sanatçılar)</li>
                                <li>• 50-100 Song (demo şarkılar)</li>
                                <li>• 10-15 Playlist (Çalışma Müzikleri, Chill, Workout)</li>
                            </ul>
                        </div>
                    </label>
                </div>

                <!-- 7. Duration Format -->
                <div class="item-card border-l-4 border-teal-500 bg-white p-4 rounded-lg shadow-sm">
                    <label class="checkbox-wrapper">
                        <input type="checkbox" class="text-teal-600 rounded">
                        <div class="flex-1">
                            <h3 class="font-bold text-gray-900 mb-1 flex items-center gap-2">
                                <i class="fas fa-clock text-teal-500"></i>
                                Duration Formatting (Accessor)
                            </h3>
                            <p class="text-sm text-gray-600 mb-2">
                                Şarkı süresi integer (saniye) → formatted string (3:45)
                            </p>
                            <div class="mt-2 bg-gray-50 p-3 rounded text-xs font-mono">
public function getFormattedDurationAttribute() {<br>
&nbsp;&nbsp;$minutes = floor($this->duration / 60);<br>
&nbsp;&nbsp;$seconds = $this->duration % 60;<br>
&nbsp;&nbsp;return sprintf('%d:%02d', $minutes, $seconds);<br>
}
                            </div>
                        </div>
                    </label>
                </div>

                <!-- 8. Scope Methods -->
                <div class="item-card border-l-4 border-lime-500 bg-white p-4 rounded-lg shadow-sm">
                    <label class="checkbox-wrapper">
                        <input type="checkbox" class="text-lime-600 rounded">
                        <div class="flex-1">
                            <h3 class="font-bold text-gray-900 mb-1 flex items-center gap-2">
                                <i class="fas fa-filter text-lime-500"></i>
                                Query Scope'lar (Filtreleme)
                            </h3>
                            <p class="text-sm text-gray-600 mb-2">
                                scopeActive, scopeByArtist, scopeByGenre, scopePopular
                            </p>
                            <div class="mt-2 bg-gray-50 p-3 rounded text-xs font-mono">
Song::active()->byGenre(1)->orderBy('title')->get();<br>
Album::byArtist($artistId)->with('songs')->get();
                            </div>
                        </div>
                    </label>
                </div>

                <!-- 9. Eager Loading -->
                <div class="item-card border-l-4 border-amber-500 bg-white p-4 rounded-lg shadow-sm">
                    <label class="checkbox-wrapper">
                        <input type="checkbox" class="text-amber-600 rounded">
                        <div class="flex-1">
                            <h3 class="font-bold text-gray-900 mb-1 flex items-center gap-2">
                                <i class="fas fa-rocket text-amber-500"></i>
                                Eager Loading Strategy (N+1 Önleme)
                            </h3>
                            <p class="text-sm text-gray-600 mb-2">
                                İlişkileri önceden yükle - performans optimizasyonu
                            </p>
                            <div class="mt-2 bg-gray-50 p-3 rounded text-xs font-mono">
Song::with(['artist', 'album', 'genre'])->get();<br>
Playlist::with('songs.artist')->find($id);
                            </div>
                        </div>
                    </label>
                </div>

                <!-- 10. Permission System -->
                <div class="item-card border-l-4 border-red-500 bg-white p-4 rounded-lg shadow-sm">
                    <label class="checkbox-wrapper">
                        <input type="checkbox" class="text-red-600 rounded">
                        <div class="flex-1">
                            <h3 class="font-bold text-gray-900 mb-1 flex items-center gap-2">
                                <i class="fas fa-lock text-red-500"></i>
                                Permission'lar (Admin Yetkileri)
                            </h3>
                            <p class="text-sm text-gray-600 mb-2">
                                muzibu.songs.*, muzibu.albums.*, muzibu.artists.* permissions
                            </p>
                            <ul class="text-xs text-gray-600 ml-6 mt-2 space-y-1">
                                <li>• muzibu.songs.view, create, update, delete</li>
                                <li>• muzibu.albums.view, create, update, delete</li>
                                <li>• muzibu.artists.view, create, update, delete</li>
                                <li>• muzibu.playlists.view, create, update, delete</li>
                            </ul>
                        </div>
                    </label>
                </div>

                <!-- 11. Frontend Pages -->
                <div class="item-card border-l-4 border-violet-500 bg-white p-4 rounded-lg shadow-sm">
                    <label class="checkbox-wrapper">
                        <input type="checkbox" class="text-violet-600 rounded">
                        <div class="flex-1">
                            <h3 class="font-bold text-gray-900 mb-1 flex items-center gap-2">
                                <i class="fas fa-desktop text-violet-500"></i>
                                Frontend Sayfalar (Müzik Player)
                            </h3>
                            <p class="text-sm text-gray-600 mb-2">
                                Public-facing müzik player interface
                            </p>
                            <ul class="text-xs text-gray-600 ml-6 mt-2 space-y-1">
                                <li>• /music - Ana müzik sayfası (song listesi)</li>
                                <li>• /music/song/{slug} - Şarkı detay</li>
                                <li>• /music/album/{slug} - Albüm detay</li>
                                <li>• /music/artist/{slug} - Sanatçı profil</li>
                                <li>• /music/playlists - Playlist listesi</li>
                            </ul>
                        </div>
                    </label>
                </div>

                <!-- 12. Music Player Component -->
                <div class="item-card border-l-4 border-fuchsia-500 bg-white p-4 rounded-lg shadow-sm">
                    <label class="checkbox-wrapper">
                        <input type="checkbox" class="text-fuchsia-600 rounded">
                        <div class="flex-1">
                            <h3 class="font-bold text-gray-900 mb-1 flex items-center gap-2">
                                <i class="fas fa-play-circle text-fuchsia-500"></i>
                                Audio Player Component (Alpine.js)
                            </h3>
                            <p class="text-sm text-gray-600 mb-2">
                                Frontend audio player - play/pause, progress bar, volume
                            </p>
                            <ul class="text-xs text-gray-600 ml-6 mt-2 space-y-1">
                                <li>• HTML5 Audio API kullan</li>
                                <li>• Alpine.js reactive state</li>
                                <li>• Playlist queue sistemi</li>
                                <li>• Keyboard shortcuts (space, arrow keys)</li>
                                <li>• LocalStorage kayıt (last played, volume)</li>
                            </ul>
                        </div>
                    </label>
                </div>
            </div>
        </div>

        <!-- CRITICAL PRIORITIES -->
        <div class="glass rounded-3xl shadow-xl p-8">
            <h2 class="text-2xl font-bold text-gray-900 mb-6 flex items-center gap-3">
                <div class="w-10 h-10 bg-critical rounded-xl flex items-center justify-center text-white">
                    <i class="fas fa-fire text-white"></i>
                </div>
                Kritik Öncelikler (İlk Yapılacaklar - 5)
            </h2>

            <div class="space-y-4">
                <div class="bg-red-50 border-l-4 border-red-500 p-4 rounded-lg">
                    <h3 class="font-bold text-red-900 mb-2 flex items-center gap-2">
                        <span class="bg-red-500 text-white w-6 h-6 rounded-full flex items-center justify-center text-sm">1</span>
                        Media Management Entegrasyonu
                    </h3>
                    <p class="text-sm text-red-800">
                        HasMediaManagement trait ekle, thumb kolonlarını kaldır → Media morph relationship
                    </p>
                </div>

                <div class="bg-orange-50 border-l-4 border-orange-500 p-4 rounded-lg">
                    <h3 class="font-bold text-orange-900 mb-2 flex items-center gap-2">
                        <span class="bg-orange-500 text-white w-6 h-6 rounded-full flex items-center justify-center text-sm">2</span>
                        SEO Management Entegrasyonu
                    </h3>
                    <p class="text-sm text-orange-800">
                        HasSeo trait ekle, meta_* kolonlarını kaldır → SEO morph relationship
                    </p>
                </div>

                <div class="bg-yellow-50 border-l-4 border-yellow-500 p-4 rounded-lg">
                    <h3 class="font-bold text-yellow-900 mb-2 flex items-center gap-2">
                        <span class="bg-yellow-500 text-white w-6 h-6 rounded-full flex items-center justify-center text-sm">3</span>
                        Çoklu Dil JSON Yapısı
                    </h3>
                    <p class="text-sm text-yellow-800">
                        title_tr → title JSON, description_tr → description JSON (İngilizce + Arapça desteği ekle)
                    </p>
                </div>

                <div class="bg-blue-50 border-l-4 border-blue-500 p-4 rounded-lg">
                    <h3 class="font-bold text-blue-900 mb-2 flex items-center gap-2">
                        <span class="bg-blue-500 text-white w-6 h-6 rounded-full flex items-center justify-center text-sm">4</span>
                        Migration Dosyalarını Oluştur (12 adet)
                    </h3>
                    <p class="text-sm text-blue-800">
                        Foreign key'ler, index'ler, JSON kolonlar, softDeletes ekle
                    </p>
                </div>

                <div class="bg-purple-50 border-l-4 border-purple-500 p-4 rounded-lg">
                    <h3 class="font-bold text-purple-900 mb-2 flex items-center gap-2">
                        <span class="bg-purple-500 text-white w-6 h-6 rounded-full flex items-center justify-center text-sm">5</span>
                        Model'leri Oluştur + Observer'lar
                    </h3>
                    <p class="text-sm text-purple-800">
                        Song, Album, Artist, Genre, Playlist modelleri + ilişkiler + SongObserver (auto slug)
                    </p>
                </div>
            </div>

            <!-- Next Steps -->
            <div class="mt-8 bg-gradient-to-r from-purple-50 to-blue-50 p-6 rounded-xl border-2 border-purple-200">
                <h3 class="font-bold text-purple-900 mb-3 flex items-center gap-2 text-lg">
                    <i class="fas fa-route text-purple-600"></i>
                    Önerilen Geliştirme Rotası
                </h3>
                <ol class="space-y-2 text-sm text-gray-700">
                    <li class="flex items-start gap-3">
                        <span class="bg-purple-500 text-white px-2 py-1 rounded text-xs font-bold">1</span>
                        <span><strong>Migration'ları oluştur</strong> (12 tablo, doğru sıralama, foreign key'ler)</span>
                    </li>
                    <li class="flex items-start gap-3">
                        <span class="bg-purple-500 text-white px-2 py-1 rounded text-xs font-bold">2</span>
                        <span><strong>Model'leri yaz</strong> (traits: HasTranslations, HasSeo, HasMediaManagement)</span>
                    </li>
                    <li class="flex items-start gap-3">
                        <span class="bg-purple-500 text-white px-2 py-1 rounded text-xs font-bold">3</span>
                        <span><strong>Observer'ları ekle</strong> (auto slug, cache clear)</span>
                    </li>
                    <li class="flex items-start gap-3">
                        <span class="bg-purple-500 text-white px-2 py-1 rounded text-xs font-bold">4</span>
                        <span><strong>Repository'leri oluştur</strong> (SongRepository, AlbumRepository)</span>
                    </li>
                    <li class="flex items-start gap-3">
                        <span class="bg-purple-500 text-white px-2 py-1 rounded text-xs font-bold">5</span>
                        <span><strong>Seeder'ları hazırla</strong> (demo genre, artist, song verileri)</span>
                    </li>
                    <li class="flex items-start gap-3">
                        <span class="bg-purple-500 text-white px-2 py-1 rounded text-xs font-bold">6</span>
                        <span><strong>Admin Livewire component'ler</strong> (SongIndex, SongEdit, AlbumManage)</span>
                    </li>
                    <li class="flex items-start gap-3">
                        <span class="bg-purple-500 text-white px-2 py-1 rounded text-xs font-bold">7</span>
                        <span><strong>Permission'ları ekle</strong> (muzibu.songs.*, muzibu.albums.*)</span>
                    </li>
                    <li class="flex items-start gap-3">
                        <span class="bg-purple-500 text-white px-2 py-1 rounded text-xs font-bold">8</span>
                        <span><strong>Frontend sayfalar</strong> (müzik listesi, detay sayfaları)</span>
                    </li>
                    <li class="flex items-start gap-3">
                        <span class="bg-purple-500 text-white px-2 py-1 rounded text-xs font-bold">9</span>
                        <span><strong>Audio Player component</strong> (Alpine.js, HTML5 Audio API)</span>
                    </li>
                    <li class="flex items-start gap-3">
                        <span class="bg-purple-500 text-white px-2 py-1 rounded text-xs font-bold">10</span>
                        <span><strong>API Endpoints</strong> (frontend için /api/songs, /api/playlists)</span>
                    </li>
                </ol>
            </div>
        </div>

        <!-- Footer -->
        <div class="text-center mt-8 text-white">
            <p class="text-sm opacity-75">
                <i class="fas fa-code mr-2"></i>
                Generated with Claude Code | Muzibu Music Platform Analysis
            </p>
            <p class="text-xs opacity-60 mt-2">
                Tüm önerileri işaretle ve geri bildirim ver → Sonraki adım: Migration oluşturma
            </p>
        </div>
    </div>

    <script>
        // Checkbox tıklama tracking
        document.querySelectorAll('input[type="checkbox"]').forEach(checkbox => {
            checkbox.addEventListener('change', function() {
                const card = this.closest('.item-card');
                if (this.checked) {
                    card.classList.add('selected');
                } else {
                    card.classList.remove('selected');
                }
            });
        });

        // Seçili öğeleri sayma
        function updateStats() {
            const total = document.querySelectorAll('input[type="checkbox"]').length;
            const checked = document.querySelectorAll('input[type="checkbox"]:checked').length;
            console.log(`${checked}/${total} öğe seçildi`);
        }

        document.querySelectorAll('input[type="checkbox"]').forEach(cb => {
            cb.addEventListener('change', updateStats);
        });
    </script>
</body>
</html>

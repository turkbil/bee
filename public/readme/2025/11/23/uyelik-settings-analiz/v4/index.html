<!DOCTYPE html>
<html lang="tr">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Ãœyelik Sistemi - Kararlar & Final Plan</title>
    <style>
        * { margin: 0; padding: 0; box-sizing: border-box; }
        body {
            background: linear-gradient(135deg, #0f172a 0%, #1e293b 100%);
            color: #e2e8f0;
            font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', system-ui, sans-serif;
            line-height: 1.8;
            min-height: 100vh;
        }
        .container { max-width: 1000px; margin: 0 auto; padding: 40px 20px; }
        header { margin-bottom: 40px; padding-bottom: 30px; border-bottom: 2px solid #334155; }
        h1 { font-size: 2.2rem; font-weight: 700; margin-bottom: 15px; background: linear-gradient(135deg, #60a5fa, #a78bfa); -webkit-background-clip: text; -webkit-text-fill-color: transparent; }
        .meta { color: #94a3b8; font-size: 0.95rem; }
        h2 { font-size: 1.5rem; margin: 40px 0 20px; color: #60a5fa; border-bottom: 1px solid #334155; padding-bottom: 10px; }

        /* Decision Card */
        .decision-card {
            background: rgba(30, 41, 59, 0.6);
            border-radius: 12px;
            padding: 25px;
            margin-bottom: 25px;
            border-left: 4px solid #f59e0b;
        }

        .decision-question {
            font-size: 1.1rem;
            font-weight: 600;
            color: #fcd34d;
            margin-bottom: 15px;
        }

        .decision-answer {
            background: rgba(16, 185, 129, 0.1);
            border: 1px solid rgba(16, 185, 129, 0.3);
            border-radius: 8px;
            padding: 15px;
            margin-bottom: 15px;
        }

        .decision-answer h4 {
            color: #6ee7b7;
            margin-bottom: 8px;
            font-size: 1rem;
        }

        .decision-reason {
            color: #94a3b8;
            font-size: 0.9rem;
            padding-left: 15px;
            border-left: 2px solid #334155;
        }

        /* Final Settings Table */
        .settings-table {
            width: 100%;
            border-collapse: collapse;
            margin-bottom: 20px;
            font-size: 0.9rem;
        }

        .settings-table th {
            background: rgba(59, 130, 246, 0.2);
            padding: 12px;
            text-align: left;
            font-weight: 600;
            color: #93c5fd;
        }

        .settings-table td {
            padding: 12px;
            border-bottom: 1px solid #334155;
        }

        .settings-table tr:hover {
            background: rgba(30, 41, 59, 0.5);
        }

        .badge {
            display: inline-block;
            padding: 3px 10px;
            border-radius: 12px;
            font-size: 0.75rem;
            font-weight: 600;
        }

        .badge-keep { background: #10b981; color: white; }
        .badge-new { background: #f59e0b; color: white; }
        .badge-remove { background: #dc2626; color: white; }
        .badge-change { background: #8b5cf6; color: white; }

        /* Group Header */
        .group-header {
            background: linear-gradient(135deg, rgba(59, 130, 246, 0.2), rgba(139, 92, 246, 0.1));
            padding: 15px 20px;
            border-radius: 10px;
            margin: 30px 0 20px;
        }

        .group-title {
            font-size: 1.2rem;
            font-weight: 600;
            color: #f1f5f9;
        }

        /* Summary Box */
        .summary-box {
            background: linear-gradient(135deg, rgba(16, 185, 129, 0.1), rgba(59, 130, 246, 0.1));
            border: 2px solid #10b981;
            border-radius: 16px;
            padding: 25px;
            margin-bottom: 30px;
        }

        .summary-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(120px, 1fr));
            gap: 15px;
            margin-top: 15px;
        }

        .summary-item {
            text-align: center;
        }

        .summary-number {
            font-size: 2rem;
            font-weight: 700;
        }

        .summary-label {
            color: #94a3b8;
            font-size: 0.85rem;
        }

        footer {
            margin-top: 50px;
            padding-top: 30px;
            border-top: 1px solid #334155;
            color: #64748b;
            font-size: 0.85rem;
            text-align: center;
        }

        .removed {
            text-decoration: line-through;
            opacity: 0.5;
        }
    </style>
</head>
<body>
    <div class="container">
        <header>
            <h1>âœ… Ãœyelik Sistemi - Kararlar</h1>
            <div class="meta">
                SorularÄ±na cevaplar ve final ayar listesi
            </div>
        </header>

        <!-- Ã–zet -->
        <div class="summary-box">
            <h3 style="color: #6ee7b7; margin-bottom: 10px;">ğŸ“Š Final Ã–zet</h3>
            <div class="summary-grid">
                <div class="summary-item">
                    <div class="summary-number" style="color: #10b981;">15</div>
                    <div class="summary-label">Kalacak</div>
                </div>
                <div class="summary-item">
                    <div class="summary-number" style="color: #f59e0b;">10</div>
                    <div class="summary-label">Yeni</div>
                </div>
                <div class="summary-item">
                    <div class="summary-number" style="color: #dc2626;">2</div>
                    <div class="summary-label">KaldÄ±rÄ±lacak</div>
                </div>
                <div class="summary-item">
                    <div class="summary-number" style="color: #8b5cf6;">1</div>
                    <div class="summary-label">DeÄŸiÅŸecek</div>
                </div>
            </div>
        </div>

        <h2>â“ Kararlar</h2>

        <!-- Karar 1: Deneme SÃ¼resi -->
        <div class="decision-card">
            <div class="decision-question">1. Deneme SÃ¼resi - Otomatik mi Manuel mi?</div>
            <div class="decision-answer">
                <h4>âœ… Karar: Ä°kisi de (Hybrid)</h4>
                <ul style="padding-left: 20px; color: #cbd5e1;">
                    <li><strong>Settings'ten:</strong> VarsayÄ±lan sÃ¼re belirlenir (Ã¶rn: 7 gÃ¼n)</li>
                    <li><strong>Admin panelden:</strong> Ä°sterse bir kullanÄ±cÄ±ya Ã¶zel sÃ¼re verebilir</li>
                </ul>
            </div>
            <div class="decision-reason">
                <strong>Neden?</strong> Ã‡oÄŸu kullanÄ±cÄ± otomatik alsÄ±n, ama VIP mÃ¼ÅŸteriye 30 gÃ¼n vermek istersen admin yapabilsin.
            </div>
        </div>

        <!-- Karar 2: Tema Fallback -->
        <div class="decision-card">
            <div class="decision-question">2. GiriÅŸ/KayÄ±t TemasÄ± - Fallback olmalÄ± mÄ±?</div>
            <div class="decision-answer">
                <h4>âœ… Karar: Evet, varsayÄ±lan tema 'minimal'</h4>
                <p style="color: #cbd5e1;">Tenant tema seÃ§mediyse otomatik olarak minimal tema kullanÄ±lÄ±r.</p>
            </div>
            <div class="decision-reason">
                <strong>Kod:</strong> setting('auth_theme') ?? 'minimal'
            </div>
        </div>

        <!-- Karar 3: Telefon -->
        <div class="decision-card">
            <div class="decision-question">3. Telefon numarasÄ± nerede tutulacak?</div>
            <div class="decision-answer">
                <h4>âœ… Karar: AyrÄ± kolon (users.phone)</h4>
                <p style="color: #cbd5e1;">JSON'da deÄŸil, veritabanÄ±nda ayrÄ± sÃ¼tun olarak.</p>
            </div>
            <div class="decision-reason">
                <strong>Neden?</strong>
                <ul style="padding-left: 20px; margin-top: 5px;">
                    <li>Sorgu yapmak kolay</li>
                    <li>SMS servisi direkt eriÅŸebilir</li>
                    <li>Validasyon basit</li>
                </ul>
                <strong>Not:</strong> users tablosunda zaten phone kolonu var, onu kullanacaÄŸÄ±z.
            </div>
        </div>

        <!-- Karar 4: KullanÄ±m ÅartlarÄ± -->
        <div class="decision-card">
            <div class="decision-question">4. KullanÄ±m ÅartlarÄ± - Her site farklÄ± yazÄ± isterse?</div>
            <div class="decision-answer">
                <h4>âœ… Karar: 2 yeni ayar eklenecek</h4>
                <ul style="padding-left: 20px; color: #cbd5e1;">
                    <li><strong>auth_terms_text:</strong> Checkbox yanÄ±ndaki yazÄ±</li>
                    <li><strong>auth_terms_url:</strong> TÄ±klanÄ±nca aÃ§Ä±lacak sayfa linki</li>
                </ul>
            </div>
            <div class="decision-reason">
                <strong>Ã–rnek:</strong><br>
                â€¢ <strong>Muzibu:</strong> "KullanÄ±m ÅartlarÄ±nÄ± kabul ediyorum" â†’ /kullanim-sartlari<br>
                â€¢ <strong>Ä°xtif:</strong> "KVKK AydÄ±nlatma Metnini okudum" â†’ /kvkk
            </div>
        </div>

        <!-- Karar 5: Cihaz HatÄ±rlama -->
        <div class="decision-card">
            <div class="decision-question">5. Cihaz hatÄ±rlama sÃ¼resi ne kadar olsun?</div>
            <div class="decision-answer">
                <h4>âœ… Karar: VarsayÄ±lan 90 gÃ¼n</h4>
                <p style="color: #cbd5e1;">30 gÃ¼n Ã§ok kÄ±sa, kullanÄ±cÄ±larÄ± yormamak lazÄ±m.</p>
            </div>
            <div class="decision-reason">
                <strong>Not:</strong> Banka uygulamalarÄ± bile 90 gÃ¼n veriyor. Ä°steyen tenant 180 gÃ¼ne Ã§Ä±karabilir.
            </div>
        </div>

        <!-- Karar 6: Otomatik Yenileme -->
        <div class="decision-card">
            <div class="decision-question">6. Otomatik yenileme - PayTR'de kart saklama var mÄ±?</div>
            <div class="decision-answer">
                <h4>âœ… Karar: HatÄ±rlatma + Manuel Ã¶deme</h4>
                <p style="color: #cbd5e1;">Kart saklamayacaÄŸÄ±z, kullanÄ±cÄ± kendisi Ã¶deme yapacak.</p>
            </div>
            <div class="decision-reason">
                <strong>NasÄ±l Ã§alÄ±ÅŸacak:</strong>
                <ol style="padding-left: 20px; margin-top: 5px;">
                    <li>Abonelik bitmeden 7 gÃ¼n Ã¶nce email gÃ¶nder</li>
                    <li>KullanÄ±cÄ± siteye girip Ã¶deme yapar</li>
                    <li>Abonelik uzar</li>
                </ol>
                <strong>Neden?</strong> Kart saklama = PCI-DSS uyumluluk = bÃ¼yÃ¼k sorumluluk. Åimdilik basit tutalÄ±m.
            </div>
        </div>

        <!-- Karar 7: Kurumsal Ayarlar -->
        <div class="decision-card">
            <div class="decision-question">7. Kurumsal ayarlar gerekli mi?</div>
            <div class="decision-answer">
                <h4>âœ… Karar: KaldÄ±rÄ±lacak</h4>
                <p style="color: #cbd5e1;">Bu ayarlar sadece Muzibu'ya Ã¶zel, genel settings'te olmasÄ± kafa karÄ±ÅŸtÄ±rÄ±r.</p>
            </div>
            <div class="decision-reason">
                <strong>KaldÄ±rÄ±lacak ayarlar:</strong>
                <ul style="padding-left: 20px; margin-top: 5px;">
                    <li><span class="removed">corporate_enabled</span></li>
                    <li><span class="removed">corporate_max_users</span></li>
                </ul>
                <strong>Not:</strong> Muzibu'ya ihtiyaÃ§ olursa Ã¶zel modÃ¼l olarak ekleriz.
            </div>
        </div>

        <h2>ğŸ“‹ Final Ayar Listesi</h2>

        <!-- KayÄ±t AyarlarÄ± -->
        <div class="group-header">
            <span class="group-title">ğŸ“ KayÄ±t AyarlarÄ±</span>
        </div>

        <table class="settings-table">
            <tr>
                <th>Ayar</th>
                <th>AÃ§Ä±klama</th>
                <th>VarsayÄ±lan</th>
                <th>Durum</th>
            </tr>
            <tr>
                <td>auth_registration_enabled</td>
                <td>Siteye kayÄ±t aÃ§Ä±k mÄ±?</td>
                <td>Evet</td>
                <td><span class="badge badge-keep">KALACAK</span></td>
            </tr>
            <tr>
                <td>auth_registration_email_verify</td>
                <td>Email doÄŸrulama gerekli mi?</td>
                <td>Evet</td>
                <td><span class="badge badge-keep">KALACAK</span></td>
            </tr>
            <tr>
                <td>auth_registration_approval</td>
                <td>Admin onayÄ± gerekli mi?</td>
                <td>HayÄ±r</td>
                <td><span class="badge badge-keep">KALACAK</span></td>
            </tr>
            <tr>
                <td>auth_registration_trial_days</td>
                <td>Deneme sÃ¼resi (gÃ¼n)</td>
                <td>7</td>
                <td><span class="badge badge-keep">KALACAK</span></td>
            </tr>
            <tr>
                <td>auth_theme</td>
                <td>Login/KayÄ±t temasÄ±</td>
                <td>minimal</td>
                <td><span class="badge badge-keep">KALACAK</span></td>
            </tr>
            <tr>
                <td>auth_registration_phone_required</td>
                <td>Telefon zorunlu mu?</td>
                <td>HayÄ±r</td>
                <td><span class="badge badge-new">YENÄ°</span></td>
            </tr>
            <tr>
                <td>auth_terms_required</td>
                <td>Åartlar onayÄ± zorunlu mu?</td>
                <td>Evet</td>
                <td><span class="badge badge-new">YENÄ°</span></td>
            </tr>
            <tr>
                <td>auth_terms_text</td>
                <td>Åartlar checkbox yazÄ±sÄ±</td>
                <td>"KullanÄ±m ÅŸartlarÄ±nÄ± kabul ediyorum"</td>
                <td><span class="badge badge-new">YENÄ°</span></td>
            </tr>
            <tr>
                <td>auth_terms_url</td>
                <td>Åartlar sayfasÄ± linki</td>
                <td>/kullanim-sartlari</td>
                <td><span class="badge badge-new">YENÄ°</span></td>
            </tr>
        </table>

        <!-- Oturum AyarlarÄ± -->
        <div class="group-header">
            <span class="group-title">ğŸ”„ Oturum AyarlarÄ±</span>
        </div>

        <table class="settings-table">
            <tr>
                <th>Ayar</th>
                <th>AÃ§Ä±klama</th>
                <th>VarsayÄ±lan</th>
                <th>Durum</th>
            </tr>
            <tr>
                <td>auth_session_lifetime</td>
                <td>Oturum sÃ¼resi (dakika)</td>
                <td>525600 (1 yÄ±l)</td>
                <td><span class="badge badge-keep">KALACAK</span></td>
            </tr>
            <tr>
                <td>auth_session_device_limit</td>
                <td>AynÄ± anda kaÃ§ cihaz?</td>
                <td>1</td>
                <td><span class="badge badge-keep">KALACAK</span></td>
            </tr>
        </table>

        <!-- GÃ¼venlik AyarlarÄ± -->
        <div class="group-header">
            <span class="group-title">ğŸ”’ GÃ¼venlik AyarlarÄ±</span>
        </div>

        <table class="settings-table">
            <tr>
                <th>Ayar</th>
                <th>AÃ§Ä±klama</th>
                <th>VarsayÄ±lan</th>
                <th>Durum</th>
            </tr>
            <tr>
                <td>auth_security_max_attempts</td>
                <td>Max yanlÄ±ÅŸ ÅŸifre denemesi</td>
                <td>5</td>
                <td><span class="badge badge-keep">KALACAK</span></td>
            </tr>
            <tr>
                <td>auth_security_lockout</td>
                <td>Kilitleme sÃ¼resi (dakika)</td>
                <td>30</td>
                <td><span class="badge badge-keep">KALACAK</span></td>
            </tr>
            <tr>
                <td>auth_security_2fa_expiry</td>
                <td>SMS kod sÃ¼resi (dakika)</td>
                <td>5</td>
                <td><span class="badge badge-keep">KALACAK</span></td>
            </tr>
            <tr>
                <td>auth_security_2fa_mode</td>
                <td>2FA modu (zorunlu/opsiyonel/kapalÄ±)</td>
                <td>optional</td>
                <td><span class="badge badge-new">YENÄ°</span></td>
            </tr>
            <tr>
                <td>auth_security_2fa_method</td>
                <td>2FA yÃ¶ntemi (SMS/Email)</td>
                <td>sms</td>
                <td><span class="badge badge-new">YENÄ°</span></td>
            </tr>
            <tr>
                <td>auth_security_remember_device</td>
                <td>"Bu cihazÄ± hatÄ±rla" gÃ¶sterilsin mi?</td>
                <td>Evet</td>
                <td><span class="badge badge-new">YENÄ°</span></td>
            </tr>
            <tr>
                <td>auth_security_remember_days</td>
                <td>Cihaz hatÄ±rlama sÃ¼resi (gÃ¼n)</td>
                <td>90</td>
                <td><span class="badge badge-change">DEÄÄ°ÅTÄ°</span></td>
            </tr>
        </table>

        <!-- Abonelik AyarlarÄ± -->
        <div class="group-header">
            <span class="group-title">ğŸ’³ Abonelik AyarlarÄ±</span>
        </div>

        <table class="settings-table">
            <tr>
                <th>Ayar</th>
                <th>AÃ§Ä±klama</th>
                <th>VarsayÄ±lan</th>
                <th>Durum</th>
            </tr>
            <tr>
                <td>auth_subscription_paid_enabled</td>
                <td>Ãœcretli Ã¼yelik aktif mi?</td>
                <td>HayÄ±r</td>
                <td><span class="badge badge-keep">KALACAK</span></td>
            </tr>
            <tr>
                <td>auth_subscription_auto_renewal</td>
                <td>Yenileme hatÄ±rlatmasÄ± gÃ¶nder</td>
                <td>Evet</td>
                <td><span class="badge badge-change">DEÄÄ°ÅTÄ°</span></td>
            </tr>
            <tr>
                <td>auth_subscription_reminder_days</td>
                <td>KaÃ§ gÃ¼n Ã¶nce hatÄ±rlat?</td>
                <td>7</td>
                <td><span class="badge badge-keep">KALACAK</span></td>
            </tr>
            <tr>
                <td>auth_subscription_grace_days</td>
                <td>Tolerans sÃ¼resi (gÃ¼n)</td>
                <td>3</td>
                <td><span class="badge badge-keep">KALACAK</span></td>
            </tr>
        </table>

        <!-- SMS AyarlarÄ± -->
        <div class="group-header">
            <span class="group-title">ğŸ“± SMS AyarlarÄ± (Yeni Grup)</span>
        </div>

        <table class="settings-table">
            <tr>
                <th>Ayar</th>
                <th>AÃ§Ä±klama</th>
                <th>VarsayÄ±lan</th>
                <th>Durum</th>
            </tr>
            <tr>
                <td>sms_provider</td>
                <td>SMS firmasÄ±</td>
                <td>netgsm</td>
                <td><span class="badge badge-new">YENÄ°</span></td>
            </tr>
            <tr>
                <td>sms_api_key</td>
                <td>API anahtarÄ±</td>
                <td>-</td>
                <td><span class="badge badge-new">YENÄ°</span></td>
            </tr>
            <tr>
                <td>sms_api_secret</td>
                <td>API ÅŸifresi</td>
                <td>-</td>
                <td><span class="badge badge-new">YENÄ°</span></td>
            </tr>
            <tr>
                <td>sms_sender_id</td>
                <td>GÃ¶nderici adÄ±</td>
                <td>-</td>
                <td><span class="badge badge-new">YENÄ°</span></td>
            </tr>
        </table>

        <!-- KaldÄ±rÄ±lanlar -->
        <div class="group-header" style="background: rgba(220, 38, 38, 0.2);">
            <span class="group-title">ğŸ—‘ï¸ KaldÄ±rÄ±lacak Ayarlar</span>
        </div>

        <table class="settings-table">
            <tr>
                <th>Ayar</th>
                <th>Neden?</th>
                <th>Durum</th>
            </tr>
            <tr>
                <td class="removed">corporate_enabled</td>
                <td>Sadece Muzibu'ya Ã¶zel, genel ayarlarda olmamalÄ±</td>
                <td><span class="badge badge-remove">KALDIRILACAK</span></td>
            </tr>
            <tr>
                <td class="removed">corporate_max_users</td>
                <td>Sadece Muzibu'ya Ã¶zel, genel ayarlarda olmamalÄ±</td>
                <td><span class="badge badge-remove">KALDIRILACAK</span></td>
            </tr>
            <tr>
                <td class="removed">auth_security_2fa_enabled</td>
                <td>auth_security_2fa_mode ile deÄŸiÅŸtirildi</td>
                <td><span class="badge badge-remove">KALDIRILACAK</span></td>
            </tr>
        </table>

        <footer>
            ğŸ¤– Claude AI | Ãœyelik Sistemi Kararlar v4<br>
            ğŸ“… 2025-11-23 | Onay bekliyor
        </footer>
    </div>
</body>
</html>

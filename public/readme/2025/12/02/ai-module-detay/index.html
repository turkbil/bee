<!DOCTYPE html>
<html lang="tr">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Modules/AI DetaylÄ± Ä°nceleme - Workflow, Chat, Blog, SEO</title>
    <style>
        * { margin: 0; padding: 0; box-sizing: border-box; }

        body {
            background: linear-gradient(135deg, #0f172a 0%, #1e293b 100%);
            color: #e2e8f0;
            font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', system-ui, sans-serif;
            line-height: 1.8;
            padding: 40px 20px;
        }

        .container {
            max-width: 1200px;
            margin: 0 auto;
        }

        header {
            margin-bottom: 50px;
            padding-bottom: 30px;
            border-bottom: 2px solid #334155;
        }

        h1 {
            font-size: 2.8rem;
            font-weight: 700;
            margin-bottom: 15px;
            background: linear-gradient(135deg, #60a5fa, #3b82f6);
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
        }

        h2 {
            font-size: 2rem;
            margin-top: 50px;
            margin-bottom: 25px;
            color: #60a5fa;
            border-left: 4px solid #3b82f6;
            padding-left: 15px;
        }

        h3 {
            font-size: 1.4rem;
            color: #93c5fd;
            margin-top: 30px;
            margin-bottom: 15px;
        }

        .meta {
            color: #94a3b8;
            font-size: 0.95rem;
        }

        section {
            margin-bottom: 50px;
        }

        .feature-box {
            background: rgba(30, 41, 59, 0.6);
            padding: 25px;
            margin-bottom: 20px;
            border-radius: 12px;
            border-left: 4px solid #3b82f6;
            backdrop-filter: blur(10px);
            transition: all 0.3s ease;
        }

        .feature-box:hover {
            transform: translateX(5px);
            background: rgba(30, 41, 59, 0.8);
            border-left-color: #60a5fa;
        }

        .feature-box h4 {
            color: #60a5fa;
            margin-bottom: 12px;
            font-size: 1.2rem;
        }

        .feature-box p {
            color: #cbd5e1;
            line-height: 1.8;
            margin-bottom: 10px;
        }

        .tech-term {
            color: #fbbf24;
            font-weight: 600;
        }

        .code-block {
            background: #1e293b;
            border: 1px solid #334155;
            padding: 15px;
            border-radius: 8px;
            margin: 15px 0;
            font-family: 'Monaco', 'Courier New', monospace;
            font-size: 0.9rem;
            color: #d1d5db;
            overflow-x: auto;
            line-height: 1.6;
        }

        .badge {
            display: inline-block;
            padding: 4px 10px;
            border-radius: 20px;
            font-size: 0.85rem;
            font-weight: 600;
            margin-right: 8px;
            margin-bottom: 10px;
        }

        .badge-core {
            background: #3b82f6;
            color: white;
        }

        .badge-service {
            background: #10b981;
            color: white;
        }

        .badge-controller {
            background: #f59e0b;
            color: white;
        }

        .badge-job {
            background: #8b5cf6;
            color: white;
        }

        .badge-model {
            background: #ec4899;
            color: white;
        }

        .badge-config {
            background: #06b6d4;
            color: white;
        }

        .structure-tree {
            background: #1e293b;
            border: 1px solid #334155;
            padding: 20px;
            border-radius: 8px;
            margin: 20px 0;
            font-family: 'Monaco', 'Courier New', monospace;
            font-size: 0.9rem;
            color: #d1d5db;
            line-height: 1.8;
        }

        .feature-list {
            list-style: none;
            padding: 0;
        }

        .feature-list li {
            padding: 12px;
            margin-bottom: 10px;
            background: rgba(147, 197, 253, 0.1);
            border-left: 3px solid #60a5fa;
            border-radius: 4px;
            color: #cbd5e1;
        }

        .feature-list li strong {
            color: #60a5fa;
        }

        .workflow-step {
            background: rgba(59, 130, 246, 0.1);
            border: 1px solid #3b82f6;
            padding: 15px;
            border-radius: 8px;
            margin: 15px 0;
            color: #cbd5e1;
        }

        .workflow-step strong {
            color: #60a5fa;
            display: block;
            margin-bottom: 8px;
        }

        .golden-rules {
            background: linear-gradient(135deg, rgba(217, 119, 6, 0.2), rgba(245, 158, 11, 0.2));
            border: 2px solid #f59e0b;
            padding: 25px;
            border-radius: 12px;
            margin: 30px 0;
        }

        .golden-rules h3 {
            color: #fbbf24;
            margin-top: 0;
        }

        .golden-rules ol {
            padding-left: 25px;
            color: #cbd5e1;
        }

        .golden-rules li {
            margin-bottom: 12px;
            line-height: 1.8;
        }

        .golden-rules strong {
            color: #fef08a;
        }

        .architecture-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(300px, 1fr));
            gap: 20px;
            margin: 30px 0;
        }

        .arch-card {
            background: rgba(30, 41, 59, 0.6);
            border: 1px solid #334155;
            padding: 20px;
            border-radius: 12px;
            border-top: 3px solid #3b82f6;
        }

        .arch-card h4 {
            color: #60a5fa;
            margin-bottom: 15px;
            font-size: 1.1rem;
        }

        .arch-card ul {
            list-style: none;
            padding: 0;
        }

        .arch-card li {
            padding: 6px 0;
            color: #cbd5e1;
            border-bottom: 1px solid #334155;
            padding-bottom: 6px;
        }

        .arch-card li:last-child {
            border-bottom: none;
        }

        .comparison-table {
            width: 100%;
            border-collapse: collapse;
            margin: 20px 0;
            background: #1e293b;
            border: 1px solid #334155;
            border-radius: 8px;
            overflow: hidden;
        }

        .comparison-table th {
            background: #334155;
            color: #60a5fa;
            padding: 15px;
            text-align: left;
            font-weight: 600;
            border-bottom: 2px solid #475569;
        }

        .comparison-table td {
            padding: 15px;
            color: #cbd5e1;
            border-bottom: 1px solid #334155;
        }

        .comparison-table tr:last-child td {
            border-bottom: none;
        }

        .comparison-table tr:hover {
            background: #334155;
        }

        .emoji-icon {
            font-size: 1.3em;
            margin-right: 8px;
        }

        footer {
            margin-top: 60px;
            padding-top: 30px;
            border-top: 1px solid #334155;
            color: #64748b;
            font-size: 0.9rem;
            text-align: center;
        }

        .warning-box {
            background: rgba(239, 68, 68, 0.1);
            border-left: 4px solid #ef4444;
            padding: 15px;
            border-radius: 4px;
            margin: 20px 0;
            color: #fecaca;
        }

        .success-box {
            background: rgba(16, 185, 129, 0.1);
            border-left: 4px solid #10b981;
            padding: 15px;
            border-radius: 4px;
            margin: 20px 0;
            color: #a7f3d0;
        }

        @media (max-width: 768px) {
            h1 { font-size: 2rem; }
            h2 { font-size: 1.5rem; }
            .container { padding: 0; }
        }
    </style>
</head>
<body>
    <div class="container">
        <header>
            <h1><span class="emoji-icon">ğŸ¤–</span>Modules/AI - DetaylÄ± Sistem Ä°ncelemesi</h1>
            <div class="meta">
                ğŸ“… Tarih: 2025-12-02 |
                ğŸ¯ Tenant: Multi-Tenant (tuufi.com, ixtif.com, muzibu.com) |
                ğŸ“Š Boyut: 240+ servis, 25+ model, 50+ controller
            </div>
        </header>

        <!-- ============================================ SISTEM MIMARISÃ ============================================ -->
        <section>
            <h2><span class="emoji-icon">ğŸ—ï¸</span>Sistem Mimarisi & YapÄ±sÄ±</h2>

            <h3>Temel TasarÄ±m Ä°lkeleri</h3>
            <div class="feature-box">
                <h4>ğŸ¯ Module-Agnostic GLOBAL Sistem</h4>
                <p>AI Modules, tÃ¼m modÃ¼ller iÃ§in <span class="tech-term">GLOBAL AI Content Generation</span> desteÄŸi saÄŸlar:</p>
                <ul class="feature-list">
                    <li><strong>Herhangi bir modÃ¼l</strong> AI Ã¶zellikleri kullanabilir (Blog, Shop, Portfolio vb.)</li>
                    <li><strong>Standart Interface:</strong> AIContentGeneratable contract ile tutarlÄ± implementasyon</li>
                    <li><strong>Trait Sistemi:</strong> HasAIContentGeneration trait ile plug-and-play entegrasyon</li>
                    <li><strong>Multi-Provider:</strong> DeepSeek, Claude, OpenAI destek</li>
                    <li><strong>Credit Management:</strong> Otomatik kredi takibi ve hesaplama</li>
                    <li><strong>Queue Support:</strong> Asenkron iÅŸlemler iÃ§in AIContentGenerationJob</li>
                </ul>
            </div>

            <div class="architecture-grid">
                <div class="arch-card">
                    <h4>ğŸ“¦ Services (240+)</h4>
                    <ul>
                        <li>AIService (Ana servis)</li>
                        <li>AIImageGenerationService</li>
                        <li>AdvancedSeoIntegrationService</li>
                        <li>AITranslationService</li>
                        <li>ContentGeneratorService</li>
                        <li>AssistantTypeResolver</li>
                        <li>FlowExecutor (Workflow)</li>
                        <li>ve daha pek Ã§ok...</li>
                    </ul>
                </div>

                <div class="arch-card">
                    <h4>ğŸ® Controllers (50+)</h4>
                    <ul>
                        <li>AIChatController</li>
                        <li>AIFeaturesController</li>
                        <li>AIImageController</li>
                        <li>TranslationController</li>
                        <li>AnalyticsController</li>
                        <li>BulkOperationController</li>
                        <li>WorkflowController</li>
                        <li>ve daha pek Ã§ok...</li>
                    </ul>
                </div>

                <div class="arch-card">
                    <h4>ğŸ“Š Models (25)</h4>
                    <ul>
                        <li>AIConversation</li>
                        <li>AIFeature</li>
                        <li>AICreditUsage</li>
                        <li>Flow (Workflow)</li>
                        <li>AITenantProfile</li>
                        <li>AIProvider</li>
                        <li>Prompt</li>
                        <li>ve daha pek Ã§ok...</li>
                    </ul>
                </div>

                <div class="arch-card">
                    <h4>ğŸ’¼ Jobs (15+)</h4>
                    <ul>
                        <li>AIContentGenerationJob</li>
                        <li>TranslateContentJob</li>
                        <li>FileAnalysisJob</li>
                        <li>BulkOperationJob</li>
                        <li>TranslationChunkJob</li>
                        <li>ProcessBulkOperation</li>
                        <li>ve daha pek Ã§ok...</li>
                    </ul>
                </div>
            </div>
        </section>

        <!-- ============================================ WORKFLOW SÄ°STEMÄ° ============================================ -->
        <section>
            <h2><span class="emoji-icon">ğŸ”„</span>Workflow Sistemi (AI Chat & Shop Assistant)</h2>

            <h3>Workflow Mimarisi</h3>
            <div class="success-box">
                <strong>ğŸ’¡ Bilgi:</strong> Chat Assistant ve Shop Assistant workflow-based mimarisinde Ã§alÄ±ÅŸÄ±rlar. Node-based visual editor ile akÄ±ÅŸlar tasarlanabilir.
            </div>

            <div class="feature-box">
                <h4>ğŸ“‹ Flow Executor - Temel Ã‡alÄ±ÅŸma MekanizmasÄ±</h4>
                <p><span class="tech-term">FlowExecutor</span>, workflow tanÄ±mÄ±nÄ± okur ve adÄ±m adÄ±m node'larÄ± Ã§alÄ±ÅŸtÄ±rÄ±r:</p>
                <div class="workflow-step">
                    <strong>1. Flow YÃ¼kleme</strong>
                    Flow tanÄ±mÄ±ndan baÅŸlangÄ±Ã§ node'unu bulur (start_node)
                </div>
                <div class="workflow-step">
                    <strong>2. Paralel Grup Tespiti</strong>
                    Flow'daki paralel node gruplarÄ±nÄ± keÅŸfeder (performans iÃ§in)
                </div>
                <div class="workflow-step">
                    <strong>3. Node Ã‡alÄ±ÅŸtÄ±rma</strong>
                    Her node'u NodeExecutor ile Ã§alÄ±ÅŸtÄ±rÄ±r ve sonuÃ§larÄ± context'e ekler
                </div>
                <div class="workflow-step">
                    <strong>4. Paralel Ã‡alÄ±ÅŸtÄ±rma</strong>
                    EÄŸer paralel grup varsa ParallelNodeExecutor ile aynÄ± anda Ã§alÄ±ÅŸtÄ±rÄ±r
                </div>
                <div class="workflow-step">
                    <strong>5. Edge (BaÄŸlantÄ±) Takibi</strong>
                    edges dizisinde next node'u belirler (from â†’ to veya source â†’ target)
                </div>
                <div class="workflow-step">
                    <strong>6. BitiriÅŸ</strong>
                    End node'a ulaÅŸÄ±ncaya veya circular reference'a kadar devam eder
                </div>
            </div>

            <h3>Node TÃ¼rleri</h3>
            <div class="code-block">
â”œâ”€â”€ AIResponseNode (AI yanÄ±t Ã¼retir)
â”œâ”€â”€ WelcomeNode (HoÅŸgeldin mesajÄ±)
â”œâ”€â”€ MessageSaverNode (KonuÅŸma kayÄ±t eder)
â”œâ”€â”€ CategoryDetectionNode (KullanÄ±cÄ± intentini tespit eder)
â”œâ”€â”€ ProductSearchNode (ÃœrÃ¼n arama)
â”œâ”€â”€ StockSorterNode (Stok sÄ±ralama)
â”œâ”€â”€ MeilisearchSettingsNode (Arama ayarlarÄ±)
â”œâ”€â”€ ContextBuilderNode (Context oluÅŸturma)
â””â”€â”€ EndNode (AkÄ±ÅŸ sonu)
            </div>

            <h3>Shop Assistant Workflow Ã–rneÄŸi</h3>
            <div class="workflow-step">
                <strong>Tipik Shop Assistant AkÄ±ÅŸÄ±:</strong>
                <br>Welcome Node â†’ Category Detection â†’ Product Search â†’ Stock Sorter â†’ AI Response â†’ Message Saver â†’ End
            </div>

            <div class="success-box">
                <strong>ğŸ¯ Avantajlar:</strong>
                <ul style="margin: 10px 0 0 20px;">
                    <li>Visual editor ile kolay tasarÄ±m (no-code)</li>
                    <li>Paralel iÅŸlem desteÄŸi (verimlilik)</li>
                    <li>Tenant-aware context (multi-tenant)</li>
                    <li>Streaming support (real-time yanÄ±tlar)</li>
                    <li>Hata yÃ¶netimi ve fallback mekanizmasÄ±</li>
                </ul>
            </div>
        </section>

        <!-- ============================================ SHOP ASSISTANT ============================================ -->
        <section>
            <h2><span class="emoji-icon">ğŸ›’</span>Shop Assistant - E-ticaret AI Chatbot</h2>

            <h3>Temel Ã–zellikler</h3>
            <div class="feature-box">
                <h4>ğŸ” Smart Product Search</h4>
                <ul class="feature-list">
                    <li><strong>Meilisearch entegrasyonu:</strong> HÄ±zlÄ± ve akÄ±llÄ± Ã¼rÃ¼n aramasÄ±</li>
                    <li><strong>Fallback database arama:</strong> Meilisearch yoksa LIKE sorgusu</li>
                    <li><strong>Category filtresi:</strong> Kategori bazÄ±nda arama</li>
                    <li><strong>Tenant-aware:</strong> Her tenant'Ä±n kendi Ã¼rÃ¼nleri</li>
                    <li><strong>Multilingual:</strong> ÃœrÃ¼n baÅŸlÄ±klarÄ± ve aÃ§Ä±klamalarÄ± Ã§evirili</li>
                </ul>
            </div>

            <div class="feature-box">
                <h4>ğŸ“ Telefon NumarasÄ± Tespiti & Telegram Bildirimleri</h4>
                <p>Chat'te telefon numarasÄ± toplandÄ±ÄŸÄ±nda otomatik Telegram'a bildirim gÃ¶nderir:</p>
                <div class="code-block">
ğŸ”„ Ä°ÅŸ AkÄ±ÅŸÄ±:
1. User: "Beni ara: 0212 123 45 67"
2. PhoneNumberDetectionService: NumarayÄ± tespit eder
3. TelegramNotificationService: Admine bildirim gÃ¶nderir
4. Bildirim iÃ§eriÄŸi:
   - Telefon numarasÄ± (formatlanmÄ±ÅŸ)
   - KonuÅŸma Ã¶zeti
   - Admin panele direkt link
                </div>
            </div>

            <h3>AssistantTypeResolver - Modul Tespiti</h3>
            <div class="feature-box">
                <h4>ğŸ¯ Intent TabanlÄ± ModÃ¼l SeÃ§imi</h4>
                <p>KullanÄ±cÄ± mesajÄ±ndan intent tespit ederek doÄŸru arama servisi seÃ§er:</p>
                <ul class="feature-list">
                    <li><strong>ShopSearchService:</strong> ÃœrÃ¼n aramasÄ±, fiyat, stok sorgularÄ±</li>
                    <li><strong>MusicSearchService:</strong> ÅarkÄ±, sanatÃ§Ä±, albÃ¼m (Muzibu)</li>
                    <li><strong>ContentSearchService:</strong> Blog yazÄ±larÄ±, makaleler</li>
                    <li><strong>BookingSearchService:</strong> Rezervasyon, randevu</li>
                    <li><strong>GenericSearchService:</strong> VarsayÄ±lan (fallback)</li>
                </ul>
            </div>

            <div class="warning-box">
                <strong>âš ï¸ Dikkat:</strong> ShopSearchService sadece Tenant 2 ve 3 iÃ§in Ã¶zel arama kullanÄ±r (Tenant2ProductSearchService). DiÄŸer tenant'lar generic database aramasÄ± yapar.
            </div>
        </section>

        <!-- ============================================ AI BLOG WRITER ============================================ -->
        <section>
            <h2><span class="emoji-icon">ğŸ“</span>AI Blog Writer - Blog AI & SEO Entegrasyonu</h2>

            <h3>Blog YazÄ±sÄ± Ãœretim SÃ¼reci</h3>
            <div class="feature-box">
                <h4>ğŸš€ Modern Blog Content Generation</h4>
                <p><span class="tech-term">AIContentGeneratorService</span>, makine Ã¶ÄŸrenmesi ile optimize edilmiÅŸ blog iÃ§eriÄŸi Ã¼retir:</p>
                <ul class="feature-list">
                    <li><strong>Template-based prompting:</strong> Kalite kontrollÃ¼ content</li>
                    <li><strong>SEO-aware:</strong> Advanced SEO Integration ile optimize</li>
                    <li><strong>Unlimited token:</strong> Ultra-long content desteÄŸi</li>
                    <li><strong>Editorial brief extraction:</strong> Prompt'tan terim haritasÄ± Ã§eker</li>
                    <li><strong>Pattern-based content:</strong> Mevcut blog stili analiz eder</li>
                    <li><strong>PDF entegrasyonu:</strong> PDF'den iÃ§erik extract edip AI'ye geÃ§er</li>
                </ul>
            </div>

            <h3>SEO Entegrasyonu - AdvancedSeoIntegrationService</h3>
            <div class="feature-box">
                <h4>ğŸ“Š 15+ SEO Metrik Analizi</h4>
                <div class="code-block">
SEO Analiz AÄŸÄ±rlÄ±klarÄ±:
- Content Quality (18%) - Ä°Ã§erik kalitesi, uzunluk
- Title Optimization (15%) - BaÅŸlÄ±k etiket optimizasyonu
- Meta Description (12%) - Meta aÃ§Ä±klama
- Heading Structure (13%) - H1-H6 hiyerarÅŸisi
- Keyword Density (10%) - Anahtar kelime yoÄŸunluÄŸu
- Internal Links (8%) - Ä°Ã§ baÄŸlantÄ±lar
- Image Optimization (6%) - Alt tag'ler, boyutlar
- Mobile Optimization (6%) - Mobil uyumlu
- Schema Markup (7%) - YapÄ±landÄ±rÄ±lmÄ±ÅŸ veriler
- URL Structure (5%) - Temiz URL'ler
                </div>
            </div>

            <h3>Content Optimization Templates</h3>
            <table class="comparison-table">
                <thead>
                    <tr>
                        <th>Content Type</th>
                        <th>Min Word Count</th>
                        <th>Max Keyword Density</th>
                        <th>Min Headings</th>
                        <th>Recommended Images</th>
                    </tr>
                </thead>
                <tbody>
                    <tr>
                        <td>Blog Post</td>
                        <td>800 kelime</td>
                        <td>2.5%</td>
                        <td>3+</td>
                        <td>2+</td>
                    </tr>
                    <tr>
                        <td>Product Page</td>
                        <td>300 kelime</td>
                        <td>3.0%</td>
                        <td>2+</td>
                        <td>5+</td>
                    </tr>
                    <tr>
                        <td>Landing Page</td>
                        <td>600 kelime</td>
                        <td>2.0%</td>
                        <td>4+</td>
                        <td>3+</td>
                    </tr>
                    <tr>
                        <td>Category Page</td>
                        <td>400 kelime</td>
                        <td>2.8%</td>
                        <td>3+</td>
                        <td>4+</td>
                    </tr>
                </tbody>
            </table>

            <div class="success-box">
                <strong>âœ… SEO Ã–zellikleri:</strong>
                <ul style="margin: 10px 0 0 20px;">
                    <li>Real-time SEO scoring (0-100)</li>
                    <li>Competitive analysis ve benchmarking</li>
                    <li>Automated improvement suggestions</li>
                    <li>Keyword density analysis</li>
                    <li>Schema.org markup recommendations</li>
                </ul>
            </div>
        </section>

        <!-- ============================================ AI IMAGE GENERATION ============================================ -->
        <section>
            <h2><span class="emoji-icon">ğŸ–¼ï¸</span>AI Image Generation - DALL-E 3 Entegrasyonu</h2>

            <div class="golden-rules">
                <h3><span class="emoji-icon">âœ¨</span>11 AltÄ±n Kural (Sistem TasarÄ±mÄ±ndan Ã‡Ä±karÄ±lan)</h3>
                <ol>
                    <li><strong>Credit-aware generation:</strong> Her gÃ¶rsel Ã¼retiminden Ã¶nce credit bakiyesi kontrol edilir</li>
                    <li><strong>HD vs Standard:</strong> HD (1024x1024) = 1 credit, Standard = 0.5 credit</li>
                    <li><strong>Automatic usage:</strong> Blog, Product, Portfolio AI otomatik gÃ¶rsel Ã¼retir</li>
                    <li><strong>Manual generation:</strong> Admin panelinden manuel Ã¼rÃ¼n gÃ¶rsel isteyebilir</li>
                    <li><strong>Revised prompt tracking:</strong> DALL-E'nin revize ettiÄŸi prompt kaydedilir</li>
                    <li><strong>MediaLibraryItem creation:</strong> Ãœretilen gÃ¶rseller MediaLibraryItem modelinde saklanÄ±r</li>
                    <li><strong>Tenant disk force config:</strong> Queue job'unda tenant context null olabilir â†’ disk config'i force eder</li>
                    <li><strong>Generation source tracking:</strong> 'ai_generated' iÅŸareti ile AI tarafÄ±ndan Ã¼retilen gÃ¶rseller tespit edilir</li>
                    <li><strong>OCR integration:</strong> PDF'deki gÃ¶rsellerin OCR metni AI prompt'una eklenir</li>
                    <li><strong>Generation history:</strong> Ãœretim geÃ§miÅŸi (son 10 gÃ¶rsel) gÃ¶rÃ¼ntÃ¼lenebilir</li>
                    <li><strong>Silent error handling:</strong> GÃ¶rsel Ã¼retimi baÅŸarÄ±sÄ±z olsa da sistem Ã§alÄ±ÅŸmaya devam eder (fallback)</li>
                </ol>
            </div>

            <h3>GÃ¶rsel Ãœretim AkÄ±ÅŸÄ±</h3>
            <div class="workflow-step">
                <strong>Manual (Admin Panel):</strong>
                <br>Admin â†’ Prompt gir â†’ generate() â†’ DALL-E API â†’ MediaLibraryItem oluÅŸtur â†’ Credit dÃ¼ÅŸ
            </div>

            <div class="workflow-step">
                <strong>Automatic (Blog/Product/Portfolio):</strong>
                <br>Content created â†’ generateForBlog/Product/Portfolio() â†’ generateAutomatic() â†’ DALL-E API â†’ MediaLibraryItem oluÅŸtur â†’ Credit dÃ¼ÅŸ
            </div>

            <h3>Metodlar</h3>
            <div class="feature-box">
                <h4>ğŸ”§ Temel Metodlar</h4>
                <ul class="feature-list">
                    <li><strong>generate(prompt, options):</strong> Basit gÃ¶rsel Ã¼retimi</li>
                    <li><strong>generateWithRevision(prompt, options):</strong> DALL-E'nin revize prompt'unu dÃ¶ndÃ¼r</li>
                    <li><strong>generateForBlog(title, content):</strong> Blog baÅŸlÄ±ÄŸÄ±ndan otomatik</li>
                    <li><strong>generateForProduct(name, category):</strong> ÃœrÃ¼n isminden otomatik</li>
                    <li><strong>generateForPortfolio(name, desc):</strong> Portfolio projesinden otomatik</li>
                    <li><strong>getHistory(limit):</strong> Ãœretim geÃ§miÅŸini gÃ¶ster</li>
                </ul>
            </div>

            <div class="warning-box">
                <strong>âš ï¸ Tenant Context Sorunu:</strong> Queue job'unda tenant() fonksiyonu null dÃ¶nebilir. Ã‡Ã¶zÃ¼m: MediaLibraryItem oluÅŸturmadan Ã¶nce tenant disk config'i force edilir.
            </div>
        </section>

        <!-- ============================================ Ã‡EVÄ°RÄ° SÄ°STEMÄ° ============================================ -->
        <section>
            <h2><span class="emoji-icon">ğŸŒ</span>Ã‡oklu Dil Ã‡evirisi - AI Translation Service</h2>

            <h3>Ã‡evirinin Temel MekanizmasÄ±</h3>
            <div class="feature-box">
                <h4>ğŸš€ Ultra Assertive Translation</h4>
                <p><span class="tech-term">AITranslationService</span>, Ã§eviriyi garantiye almak iÃ§in Ã¶zel tasarlanmÄ±ÅŸtÄ±r:</p>
                <div class="code-block">
translateText(text, fromLang, toLang, options):
1. BoÅŸ metin kontrolÃ¼ (skip)
2. AynÄ± dil kontrolÃ¼ (skip)
3. Fast HTML modu seÃ§eneÄŸi (opsiyonel)
4. Ultra Assertive Prompt oluÅŸturma
   - Ã‡eviri MUTLAKA yapÄ±lacak (zero refusal)
   - Context (genel, teknik, ticari vb.)
   - Preserve HTML seÃ§eneÄŸi
5. AI Service Ã§aÄŸrÄ±sÄ±
6. Response parsing ve validation
7. Fallback: EÄŸer boÅŸ gelirse orijinal text dÃ¶n
                </div>
            </div>

            <h3>Ã‡evirinin Ã–zellikleri</h3>
            <ul class="feature-list">
                <li><strong>Context-aware:</strong> Genel, teknik, ticari, medical vb. context seÃ§ilebilir</li>
                <li><strong>HTML preservation:</strong> HTML tag'leri korunabilir</li>
                <li><strong>Chunk-based:</strong> Uzun iÃ§erik parÃ§alar halinde Ã§eviriliyor</li>
                <li><strong>Streaming translation:</strong> Real-time Ã§eviri feedbackÄ±</li>
                <li><strong>Multi-language:</strong> TÃ¼m dil kombinasyonlarÄ± destekleniyor</li>
                <li><strong>Temperature control:</strong> 0.3 (Ã§ok dÃ¼ÅŸÃ¼k) â†’ tutarlÄ±, deterministik Ã§eviri</li>
            </ul>

            <h3>Ã‡evirinin KullanÄ±ldÄ±ÄŸÄ± Yerler</h3>
            <div class="code-block">
âœ… Shop Assistant - ÃœrÃ¼n aÃ§Ä±klamalarÄ±nÄ± dile Ã§evirir
âœ… Blog Writer - Blog baÅŸlÄ±klarÄ±nÄ± Ã§evirir
âœ… GlobalAIMonitoringService - Log metinlerini Ã§evirir
âœ… SmartProfileBuilder - Tenant profil bilgisini Ã§evirir
âœ… ContentBuilder - Sayfa iÃ§eriÄŸini Ã§evirir
âœ… Bulk operations - Toplu Ã§eviriler (100+ sayfa)
            </div>

            <div class="warning-box">
                <strong>âš ï¸ Dikkat:</strong> Ã‡eviri very resource-intensive iÅŸlemdir. Bulk Ã§eviriler iÃ§in job queue'da Ã§alÄ±ÅŸÄ±r.
            </div>
        </section>

        <!-- ============================================ TELEGRAM ENTEGRASYONU ============================================ -->
        <section>
            <h2><span class="emoji-icon">ğŸ“¢</span>Telegram Entegrasyonu - Real-time Bildirimler</h2>

            <h3>Telefon NumarasÄ± ToplamasÄ± & Alerting</h3>
            <div class="feature-box">
                <h4>ğŸ”” Real-time Telegram Notifications</h4>
                <p>AI chatbot'ta telefon numarasÄ± toplandÄ±ÄŸÄ±nda Telegram'a instant alert gÃ¶nderilir:</p>
                <ul class="feature-list">
                    <li><strong>PhoneNumberDetectionService:</strong> Regex ile telefon numarasÄ± tespit eder</li>
                    <li><strong>TelegramNotificationService:</strong> Telegram Bot API'yi Ã§aÄŸÄ±rÄ±r</li>
                    <li><strong>HTML formatting:</strong> Telegram mesajlarÄ± HTML format'da (daha okunabilir)</li>
                    <li><strong>Conversation summary:</strong> KonuÅŸmanÄ±n Ã¶zetini ekler</li>
                    <li><strong>Admin panel link:</strong> DoÄŸrudan admin panel'e eriÅŸim linki</li>
                </ul>
            </div>

            <h3>Telegram MesajÄ± Ã–rneÄŸi</h3>
            <div class="code-block">
ğŸ“ YENÄ° TELEFON NUMARASI TOPLANDI!

Telefon: +90 212 123 45 67, +90 531 234 56 78
KonuÅŸma ID: conv_abc123def456
Mesaj SayÄ±sÄ±: 12
Tenant: 2 (ixtif.com)

Ä°lk Mesaj: "Merhaba, depo lift alabilir misiniz..."

Admin Panel: https://ixtif.com/admin/conversations/conv_abc123def456
â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”
KonuÅŸma Ã–zeti:
- MÃ¼ÅŸteri: Depo liftine ilgi duyuyor
- Kampanya: Black Friday specials
- Ä°htiyaÃ§: 2 adet forklift...
            </div>

            <h3>KonfigÃ¼rasyon (Config)</h3>
            <div class="code-block">
.env dosyasÄ±:
TELEGRAM_BOT_TOKEN=123456:ABCDEF...
TELEGRAM_CHAT_ID=987654321

config/services.php:
'telegram-bot-api' => [
    'token' => env('TELEGRAM_BOT_TOKEN'),
    'chat_id' => env('TELEGRAM_CHAT_ID'),
]

Test: TelegramNotificationService->testConnection()
            </div>

            <div class="success-box">
                <strong>âœ… Avantajlar:</strong>
                <ul style="margin: 10px 0 0 20px;">
                    <li>Instant notifications (< 1 saniye)</li>
                    <li>KonuÅŸma konteksti hemen gÃ¶rÃ¼lÃ¼r</li>
                    <li>Admin linki sayesinde quick action</li>
                    <li>Multi-tenant support (tenant ID gÃ¶sterilir)</li>
                    <li>Test connection komutu var</li>
                </ul>
            </div>
        </section>

        <!-- ============================================ UNIVERSAL INPUT SYSTEM ============================================ -->
        <section>
            <h2><span class="emoji-icon">ğŸ“‹</span>Universal Input System V3 - Dynamic Form Processing</h2>

            <h3>Ne Nedir?</h3>
            <div class="feature-box">
                <h4>ğŸ¯ AI-Powered Form Builder & Processing</h4>
                <p>Herhangi bir prompt'dan otomatik form oluÅŸturan sistem. Blog Writer, Shop Assistant gibi kompleks formlarÄ± dinamik ÅŸekilde oluÅŸturur:</p>
                <ul class="feature-list">
                    <li><strong>Config-based:</strong> 24KB+ configuration file</li>
                    <li><strong>Input groups:</strong> Related inputs gruplama (advanced organization)</li>
                    <li><strong>Smart defaults:</strong> Ã–nceki deÄŸerleri hatÄ±rlar</li>
                    <li><strong>Dynamic options:</strong> VeritabanÄ±ndan dinamik dropdown'lar</li>
                    <li><strong>Validation rules:</strong> Otomatik validation</li>
                    <li><strong>Performance monitoring:</strong> Response time, memory tracking</li>
                    <li><strong>Caching system:</strong> Form structure, defaults, options cache'lenir</li>
                </ul>
            </div>

            <h3>KonfigÃ¼rasyon Sistem</h3>
            <div class="code-block">
Dosya: Modules/AI/config/universal-input-system.php (24.4 KB)

Temel BÃ¶lÃ¼mler:
- performance (max submissions, timeouts, memory limits)
- cache (TTL, tags, auto-clear, warming)
- database (soft deletes, audit, indexes, pooling)
- ai (provider config, rate limiting)
- validation (max length, rules, custom)
- ui (themes, layout, fields, icons)
- features (form types, input groups)
            </div>

            <h3>Performance Ã–zellikleri</h3>
            <table class="comparison-table">
                <thead>
                    <tr>
                        <th>Setting</th>
                        <th>DeÄŸer</th>
                        <th>AÃ§Ä±klama</th>
                    </tr>
                </thead>
                <tbody>
                    <tr>
                        <td>Max concurrent submissions</td>
                        <td>10</td>
                        <td>AynÄ± anda iÅŸlenebilecek form</td>
                    </tr>
                    <tr>
                        <td>Request timeout</td>
                        <td>30 sec</td>
                        <td>Form iÅŸlem timeout'u</td>
                    </tr>
                    <tr>
                        <td>Memory limit</td>
                        <td>256 MB</td>
                        <td>Form processing memory</td>
                    </tr>
                    <tr>
                        <td>Max input size</td>
                        <td>1 MB</td>
                        <td>Tek field max boyutu</td>
                    </tr>
                    <tr>
                        <td>Cache warming</td>
                        <td>Disabled</td>
                        <td>Popular forms pre-cache</td>
                    </tr>
                </tbody>
            </table>

            <div class="success-box">
                <strong>âœ… Avantajlar:</strong>
                <ul style="margin: 10px 0 0 20px;">
                    <li>No-code form building</li>
                    <li>AI integration (smart defaults, validation)</li>
                    <li>Multi-tenant support (tenant-aware)</li>
                    <li>Extensive caching (performance)</li>
                    <li>Audit trail (compliance)</li>
                </ul>
            </div>
        </section>

        <!-- ============================================ KREDÄ°T SÄ°STEMÄ° ============================================ -->
        <section>
            <h2><span class="emoji-icon">ğŸ’°</span>Credit Management & Pricing</h2>

            <h3>Credit YapÄ±sÄ±</h3>
            <div class="feature-box">
                <h4>ğŸ’³ Flexible Credit System</h4>
                <ul class="feature-list">
                    <li><strong>AICreditPackage:</strong> SatÄ±n alÄ±nabilir paketler</li>
                    <li><strong>AICreditPurchase:</strong> SatÄ±n alma geÃ§miÅŸi</li>
                    <li><strong>AICreditUsage:</strong> DetaylÄ± credit tÃ¼ketim log'u</li>
                    <li><strong>ModelBasedCreditService:</strong> Model-specific credit pricing</li>
                    <li><strong>AICreditService:</strong> Credit balance management</li>
                    <li><strong>CreditWarningService:</strong> Low balance alerts</li>
                </ul>
            </div>

            <h3>Credit Maliyetleri</h3>
            <div class="code-block">
Image Generation:
- HD (1024x1024): 1 credit
- Standard: 0.5 credit

Content Generation:
- Simple: 3 credits
- Moderate: 5 credits
- Complex: 10 credits
- Template-based: 2 credits
- PDF enhanced: 8 credits (was 15 - 47% savings)

Translation:
- Per 1000 chars: 1 credit
            </div>

            <div class="warning-box">
                <strong>âš ï¸ Dikkat:</strong> PDF enhanced content generation maliyeti 15'ten 8'e dÃ¼ÅŸÃ¼rÃ¼ldÃ¼ (%47 tasarruf).
            </div>
        </section>

        <!-- ============================================ VERITABANI & MODELLER ============================================ -->
        <section>
            <h2><span class="emoji-icon">ğŸ—„ï¸</span>VeritabanÄ± YapÄ±sÄ± & Modeller</h2>

            <h3>Tablolar (30+)</h3>
            <div class="structure-tree">
CENTRAL & TENANT MIGRATIONS:

Central (tuufi_4ekim):
â”œâ”€â”€ ai_providers - AI provider tanÄ±mlarÄ±
â”œâ”€â”€ ai_provider_models - Provider modeleri
â”œâ”€â”€ ai_credit_packages - Credit paketleri
â”œâ”€â”€ ai_credit_purchases - SatÄ±n alma kayÄ±tlarÄ±
â”œâ”€â”€ ai_credit_usages - Credit tÃ¼ketim detaylarÄ±
â”œâ”€â”€ ai_model_credit_rates - Model fiyatlandÄ±rmasÄ±
â””â”€â”€ ai_conversations - Merkezi konuÅŸma kaydÄ±

Tenant (her tenant'Ä±n kendi DB'si):
â”œâ”€â”€ ai_features - AI Ã¶zellikleri
â”œâ”€â”€ ai_feature_categories - Kategori gruplamasÄ±
â”œâ”€â”€ ai_feature_inputs - Form input tanÄ±mlarÄ±
â”œâ”€â”€ ai_feature_prompts - Feature-specific promptlar
â”œâ”€â”€ ai_input_groups - Input grouplamasÄ±
â”œâ”€â”€ ai_input_options - Dropdown options
â”œâ”€â”€ ai_prompts - Prompt library
â”œâ”€â”€ ai_messages - Chat mesajlarÄ±
â”œâ”€â”€ ai_flows - Workflow tanÄ±mlarÄ±
â”œâ”€â”€ ai_tenant_profiles - Tenant AI profile
â”œâ”€â”€ ai_profile_questions - Profil sorularÄ±
â”œâ”€â”€ ai_profile_sectors - Sektor bilgisi
â”œâ”€â”€ ai_dynamic_data_sources - Dinamik data kaynaklarÄ±
â”œâ”€â”€ ai_module_integrations - ModÃ¼l integrasyonlarÄ±
â”œâ”€â”€ ai_context_rules - Context engine rules
â”œâ”€â”€ ai_bulk_operations - Toplu iÅŸlemler
â”œâ”€â”€ ai_translation_mappings - Ã‡eviri eÅŸlemeleri
â”œâ”€â”€ ai_usage_analytics - Analytics data
â”œâ”€â”€ ai_prompt_cache - Prompt caching
â””â”€â”€ ai_tenant_debug_logs - Debug logu
            </div>
        </section>

        <!-- ============================================ PROVIDERS & SERVÄ°S SEÃ‡Ä°MÄ° ============================================ -->
        <section>
            <h2><span class="emoji-icon">ğŸ”Œ</span>AI Providers & Service Selection</h2>

            <h3>Desteklenen Providerlar</h3>
            <table class="comparison-table">
                <thead>
                    <tr>
                        <th>Provider</th>
                        <th>Service Class</th>
                        <th>Models</th>
                        <th>Status</th>
                    </tr>
                </thead>
                <tbody>
                    <tr>
                        <td>DeepSeek</td>
                        <td>DeepSeekService</td>
                        <td>deepseek-chat</td>
                        <td>âœ… Aktif</td>
                    </tr>
                    <tr>
                        <td>OpenAI</td>
                        <td>OpenAIService</td>
                        <td>gpt-4, gpt-3.5</td>
                        <td>âœ… Aktif</td>
                    </tr>
                    <tr>
                        <td>Anthropic</td>
                        <td>ClaudeService</td>
                        <td>claude-3-sonnet</td>
                        <td>âœ… Aktif</td>
                    </tr>
                    <tr>
                        <td>DALL-E 3</td>
                        <td>DallE3Provider</td>
                        <td>dall-e-3</td>
                        <td>âœ… Image gen</td>
                    </tr>
                </tbody>
            </table>

            <h3>Silent Fallback Sistemi</h3>
            <div class="feature-box">
                <h4>ğŸ”„ Automatic Failover</h4>
                <p>EÄŸer primary provider fail olursa otomatik fallback provider'a geÃ§er:</p>
                <div class="code-block">
SilentFallbackService -> Tries:
1. Primary provider (config'de belirtilen)
2. Fallback provider (automatic)
3. Cloud fallback (if available)

Ã–rnek: DeepSeek fail â†’ Otomatik OpenAI'ya geÃ§er
                </div>
            </div>

            <div class="success-box">
                <strong>âœ… Avantajlar:</strong>
                <ul style="margin: 10px 0 0 20px;">
                    <li>Sistem asla down olmaz (provider faili durumunda)</li>
                    <li>User deneyimi kesintisiz</li>
                    <li>Automatic provider selection</li>
                    <li>Model-based credit calculation</li>
                </ul>
            </div>
        </section>

        <!-- ============================================ PERFORMANCE & OPTÄ°MÄ°ZASYON ============================================ -->
        <section>
            <h2><span class="emoji-icon">âš¡</span>Performance & Optimizasyonlar</h2>

            <h3>Sistem OptimizasyonlarÄ±</h3>
            <div class="feature-box">
                <h4>ğŸš€ Cache & Query Optimization</h4>
                <ul class="feature-list">
                    <li><strong>Tenant-aware caching:</strong> Her tenant'Ä±n kendi cache'i</li>
                    <li><strong>Prompt caching:</strong> SÄ±k kullanÄ±lan promptlar cache'lenir</li>
                    <li><strong>Analytics caching:</strong> 5 minute TTL</li>
                    <li><strong>Settings global cache:</strong> Site settings global cache'de (2 query limit)</li>
                    <li><strong>Database indexes:</strong> shop_products_optimized_idx vb.</li>
                    <li><strong>Smart chunking:</strong> Uzun metinler parÃ§alara bÃ¶lÃ¼nÃ¼r</li>
                    <li><strong>Parallel execution:</strong> Workflow'da paralel node'lar aynÄ± anda Ã§alÄ±ÅŸÄ±r</li>
                    <li><strong>Queue optimization:</strong> AÄŸÄ±r iÅŸlemler background queue'da</li>
                </ul>
            </div>

            <div class="success-box">
                <strong>âœ… BaÅŸarÄ± Metrikleri (2025-11-30):</strong>
                <ul style="margin: 10px 0 0 20px;">
                    <li>Currency N+1 fixed (1,440 query â†’ 0)</li>
                    <li>Settings global cache (700+ query â†’ 2)</li>
                    <li>CPU Load: 18.44 â†’ 7.09 (%61 azalma)</li>
                    <li>Horizon Process: 112 â†’ 38 (%66 azalma)</li>
                    <li>Site HÄ±zÄ±: 45s â†’ 2-3s (15-22x hÄ±zlanma)</li>
                </ul>
            </div>
        </section>

        <!-- ============================================ Ã–NEMLÄ° NOTLAR ============================================ -->
        <section>
            <h2><span class="emoji-icon">âš ï¸</span>Ã–nemli Notlar & Best Practices</h2>

            <div class="warning-box">
                <strong>ğŸš¨ KRÄ°TÄ°K KURALLAR:</strong>
                <ol style="margin: 10px 0 0 20px;">
                    <li><strong>Multi-tenant aware:</strong> TÃ¼m servislerde tenant() kontrol et</li>
                    <li><strong>Queue job'larda context:</strong> tenant() null dÃ¶nebilir â†’ manual tenant_id geÃ§ir</li>
                    <li><strong>Fallback gerekli:</strong> HiÃ§bir zaman AI provider fail'inde crash yapma</li>
                    <li><strong>Credit checks:</strong> AÄŸÄ±r iÅŸlemlerde credit bakiyesi kontrol et</li>
                    <li><strong>Streaming support:</strong> Large content iÃ§in streaming kullan</li>
                    <li><strong>Error logging:</strong> TÃ¼m AI iÅŸlemlerinde hata log'la</li>
                </ol>
            </div>

            <div class="feature-box">
                <h4>ğŸ“š Best Practices</h4>
                <ul class="feature-list">
                    <li><strong>Use cache wisely:</strong> Cache invalidation carefully</li>
                    <li><strong>Prompt engineering:</strong> System message'Ä± Ã¶zelleÅŸtir</li>
                    <li><strong>Context building:</strong> ContextEngine ile detaylÄ± context oluÅŸtur</li>
                    <li><strong>Testing:</strong> AITestPanel ile prompt'larÄ± test et</li>
                    <li><strong>Monitoring:</strong> GlobalAIMonitoringService ile oversight</li>
                    <li><strong>Analytics:</strong> ConversationAnalyticsController ile metrikler izle</li>
                </ul>
            </div>
        </section>

        <!-- ============================================ FOOTER ============================================ -->
        <footer>
            <p>ğŸ¤– AI Module DetaylÄ± Ä°nceleme - 2025-12-02</p>
            <p>Sistem: Multi-Tenant Laravel 11 | Providers: DeepSeek, OpenAI, Claude | Database: Central + Tenant DBs</p>
        </footer>

    </div>
</body>
</html>

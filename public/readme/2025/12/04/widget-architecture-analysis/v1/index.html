<!DOCTYPE html>
<html lang="tr">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Widget Management - Mimari Analiz & Ä°yileÅŸtirme Ã–nerileri</title>
    <style>
        * { margin: 0; padding: 0; box-sizing: border-box; }
        body {
            background: linear-gradient(135deg, #6366f1 0%, #4f46e5 50%, #4338ca 100%);
            color: #e2e8f0;
            font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', system-ui, sans-serif;
            line-height: 1.8;
            padding: 40px 20px;
        }
        .container { max-width: 1400px; margin: 0 auto; }
        h1 {
            font-size: 3.5rem;
            background: linear-gradient(135deg, #fbbf24, #f59e0b, #d97706);
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
            margin-bottom: 20px;
            font-weight: 900;
        }
        h2 {
            color: #fbbf24;
            font-size: 2.2rem;
            margin: 60px 0 30px;
            padding-bottom: 15px;
            border-bottom: 3px solid #334155;
        }
        h3 {
            color: #fcd34d;
            font-size: 1.7rem;
            margin: 40px 0 20px;
        }
        h4 {
            color: #fde68a;
            font-size: 1.3rem;
            margin: 25px 0 15px;
        }
        .meta {
            color: #94a3b8;
            font-size: 1rem;
            margin-bottom: 50px;
            padding: 20px;
            background: rgba(15,23,42,0.5);
            border-radius: 8px;
        }
        .summary {
            background: linear-gradient(135deg, rgba(251,191,36,0.15), rgba(245,158,11,0.1));
            border-left: 5px solid #fbbf24;
            padding: 30px;
            border-radius: 12px;
            margin: 30px 0;
            font-size: 1.1rem;
        }
        .current-system {
            background: rgba(59,130,246,0.1);
            border-left: 4px solid #3b82f6;
            padding: 25px;
            border-radius: 8px;
            margin: 20px 0;
        }
        .problem {
            background: rgba(239,68,68,0.1);
            border-left: 4px solid #ef4444;
            padding: 25px;
            border-radius: 8px;
            margin: 20px 0;
        }
        .solution {
            background: rgba(16,185,129,0.1);
            border-left: 4px solid #10b981;
            padding: 25px;
            border-radius: 8px;
            margin: 20px 0;
        }
        .recommendation {
            background: rgba(168,85,247,0.1);
            border-left: 4px solid #a855f7;
            padding: 25px;
            border-radius: 8px;
            margin: 20px 0;
        }
        .comparison {
            display: grid;
            grid-template-columns: 1fr 1fr;
            gap: 25px;
            margin: 25px 0;
        }
        .compare-box {
            padding: 25px;
            border-radius: 10px;
            border: 2px solid;
        }
        .compare-current {
            background: rgba(59,130,246,0.05);
            border-color: #3b82f6;
        }
        .compare-proposed {
            background: rgba(16,185,129,0.05);
            border-color: #10b981;
        }
        table {
            width: 100%;
            border-collapse: collapse;
            margin: 25px 0;
            background: rgba(15,23,42,0.4);
            border-radius: 10px;
            overflow: hidden;
        }
        th, td {
            padding: 15px;
            text-align: left;
            border-bottom: 1px solid #334155;
        }
        th {
            background: rgba(251,191,36,0.2);
            color: #fbbf24;
            font-weight: 700;
            font-size: 1.05rem;
        }
        tr:hover {
            background: rgba(251,191,36,0.05);
        }
        .tag {
            display: inline-block;
            padding: 5px 14px;
            border-radius: 15px;
            font-size: 0.85rem;
            font-weight: 700;
            margin: 0 5px;
        }
        .tag-current { background: #3b82f6; color: white; }
        .tag-missing { background: #ef4444; color: white; }
        .tag-proposed { background: #10b981; color: white; }
        .tag-optional { background: #8b5cf6; color: white; }
        .feature-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(300px, 1fr));
            gap: 20px;
            margin: 25px 0;
        }
        .feature-card {
            background: rgba(30,41,59,0.5);
            padding: 25px;
            border-radius: 10px;
            border-left: 4px solid #fbbf24;
        }
        .feature-card h4 {
            margin-top: 0;
            color: #fbbf24;
        }
        ul, ol { margin: 15px 0 15px 30px; }
        li { margin: 10px 0; }
        .highlight { color: #fbbf24; font-weight: 600; }
        .code {
            background: #0f172a;
            padding: 20px;
            border-radius: 8px;
            margin: 15px 0;
            font-family: 'Courier New', monospace;
            font-size: 0.9rem;
            border: 1px solid #334155;
            overflow-x: auto;
        }
        .architecture-diagram {
            background: rgba(15,23,42,0.5);
            padding: 30px;
            border-radius: 10px;
            margin: 30px 0;
            border: 2px solid #334155;
        }
        .priority-high { color: #ef4444; font-weight: 700; }
        .priority-medium { color: #f59e0b; font-weight: 700; }
        .priority-low { color: #10b981; font-weight: 700; }
    </style>
</head>
<body>
    <div class="container">
        <h1>ğŸ—ï¸ Widget Management Sistemi</h1>
        <h2 style="margin-top: 0; color: #fde68a; font-size: 2rem;">Mimari Analiz & Ä°yileÅŸtirme Ã–nerileri</h2>
        
        <div class="meta">
            ğŸ“… Tarih: 2025-12-04<br>
            ğŸ¯ Kapsam: Widget Management Mimarisi (Tenant-agnostic)<br>
            ğŸ“Š Analiz Tipi: Mimari Eksiklikler & Ã–neriler<br>
            ğŸ” Odak: Widget TÃ¼rleri, Schema Sistemi, Lifecycle Management
        </div>

        <div class="summary">
            <h3 style="margin-top: 0;">ğŸ“‹ YÃ¶netici Ã–zeti</h3>
            <p>Mevcut Widget Management sistemi <strong>3 widget tÃ¼rÃ¼</strong> (MODULE, FILE, CUSTOM) ve <strong>2 schema tipi</strong> (settings, items) ile Ã§alÄ±ÅŸÄ±yor. Temel iÅŸlevsellik var ancak <span class="highlight">7 kritik eksiklik</span> tespit edildi:</p>
            <ol style="margin-top: 15px;">
                <li><strong>Widget Versioning</strong> yok (gÃ¼ncelleme riski)</li>
                <li><strong>Preview/Draft</strong> sistemi yok (production'da test)</li>
                <li><strong>Conditional Logic</strong> yok (dinamik davranÄ±ÅŸ eksik)</li>
                <li><strong>Widget Dependencies</strong> yok (Ã§akÄ±ÅŸma riski)</li>
                <li><strong>Validation</strong> zayÄ±f (hatalÄ± veri giriÅŸi)</li>
                <li><strong>Widget Variants</strong> yok (responsive yetersiz)</li>
                <li><strong>Analytics</strong> yok (kullanÄ±m takibi yok)</li>
            </ol>
        </div>

        <h2>1ï¸âƒ£ Mevcut Sistem Analizi</h2>

        <h3>1.1. Widget TÃ¼rleri (Mevcut: 3)</h3>

        <table>
            <thead>
                <tr>
                    <th>TÃ¼r</th>
                    <th>AÃ§Ä±klama</th>
                    <th>Veri KaynaÄŸÄ±</th>
                    <th>KullanÄ±m</th>
                    <th>Durum</th>
                </tr>
            </thead>
            <tbody>
                <tr>
                    <td><strong>MODULE</strong></td>
                    <td>Backend modÃ¼lden veri Ã§eker</td>
                    <td>Database (Blog, Product vb.)</td>
                    <td>Blog listesi, ÃœrÃ¼n kartlarÄ±</td>
                    <td><span class="tag tag-current">Mevcut</span></td>
                </tr>
                <tr>
                    <td><strong>FILE</strong></td>
                    <td>Blade view dosyasÄ±ndan render</td>
                    <td>View file + schema</td>
                    <td>Hero, Form, Layout</td>
                    <td><span class="tag tag-current">Mevcut</span></td>
                </tr>
                <tr>
                    <td><strong>CUSTOM</strong></td>
                    <td>KullanÄ±cÄ± HTML/CSS/JS</td>
                    <td>Widget iÃ§i kod</td>
                    <td>Ã–zel banner, Embed</td>
                    <td><span class="tag tag-current">Mevcut</span></td>
                </tr>
            </tbody>
        </table>

        <div class="current-system">
            <h4>âœ… Mevcut Sistemin GÃ¼Ã§lÃ¼ YanlarÄ±</h4>
            <ul>
                <li><strong>Esneklik:</strong> 3 farklÄ± tÃ¼rle Ã§oÄŸu ihtiyaÃ§ karÅŸÄ±lanÄ±yor</li>
                <li><strong>ModÃ¼lerlik:</strong> MODULE tÃ¼rÃ¼ ile backend entegrasyonu kolay</li>
                <li><strong>Ã–zelleÅŸtirme:</strong> CUSTOM ile sÄ±nÄ±rsÄ±z esneklik</li>
                <li><strong>FILE tÃ¼rÃ¼:</strong> Yeniden kullanÄ±labilir component mantÄ±ÄŸÄ±</li>
            </ul>
        </div>

        <h3>1.2. Schema Sistemi (Mevcut: 2)</h3>

        <table>
            <thead>
                <tr>
                    <th>Schema Tipi</th>
                    <th>KullanÄ±m</th>
                    <th>has_items</th>
                    <th>Ã–rnek</th>
                </tr>
            </thead>
            <tbody>
                <tr>
                    <td><strong>Settings</strong></td>
                    <td>Widget genel ayarlarÄ±</td>
                    <td>0 veya 1</td>
                    <td>Renk, baÅŸlÄ±k, buton metni</td>
                </tr>
                <tr>
                    <td><strong>Items</strong></td>
                    <td>DÃ¶ngÃ¼de render edilecek veriler</td>
                    <td>1 (zorunlu)</td>
                    <td>Slider slides, Gallery images</td>
                </tr>
            </tbody>
        </table>

        <div class="current-system">
            <h4>âœ… Schema Sisteminin GÃ¼Ã§lÃ¼ YanlarÄ±</h4>
            <ul>
                <li><strong>Basit:</strong> Sadece 2 schema tipi, anlaÅŸÄ±lÄ±r</li>
                <li><strong>Yeterli:</strong> Ã‡oÄŸu widget ihtiyacÄ±nÄ± karÅŸÄ±lÄ±yor</li>
                <li><strong>Form Builder uyumlu:</strong> JSON schema ile form oluÅŸturulabiliyor</li>
            </ul>
        </div>

        <h2>2ï¸âƒ£ Kritik Eksiklikler</h2>

        <h3>2.1. Widget Versioning Sistemi YOK</h3>

        <div class="problem">
            <h4>âŒ Sorun</h4>
            <p>Widget gÃ¼ncellendiÄŸinde:</p>
            <ul>
                <li>Ã–nceki versiyon kaybolur</li>
                <li>HatalÄ± gÃ¼ncelleme geri alÄ±namaz</li>
                <li>Widget kullanan sayfalar aniden bozulabilir</li>
                <li>A/B test yapÄ±lamaz</li>
            </ul>
        </div>

        <div class="solution">
            <h4>âœ… Ã–nerilen Ã‡Ã¶zÃ¼m: Semantic Versioning</h4>
            <div class="code">
widgets tablosu:<br>
- version (string): "1.2.3"<br>
- is_published (boolean)<br>
- published_at (timestamp)<br>
<br>
widget_versions tablosu:<br>
- id<br>
- widget_id<br>
- version<br>
- settings_schema (snapshot)<br>
- item_schema (snapshot)<br>
- content_html/css/js (snapshot)<br>
- created_at<br>
- created_by<br>
<br>
MantÄ±k:<br>
- Major (1.x.x): Breaking changes<br>
- Minor (x.1.x): Yeni Ã¶zellikler<br>
- Patch (x.x.1): Bug fixes
            </div>
            <p><strong>FaydasÄ±:</strong> Rollback, version history, gÃ¼venli gÃ¼ncelleme</p>
        </div>

        <h3>2.2. Preview/Draft Sistemi YOK</h3>

        <div class="problem">
            <h4>âŒ Sorun</h4>
            <p>Widget deÄŸiÅŸikliÄŸi yaparken:</p>
            <ul>
                <li>DeÄŸiÅŸiklikler <strong>direkt production'da</strong> yayÄ±nlanÄ±yor</li>
                <li>Test etmeden Ã¶nce canlÄ±ya gidiyor</li>
                <li>HatalÄ± widget tÃ¼m siteyi etkileyebilir</li>
                <li>Ekip arkadaÅŸÄ± onayÄ± alamÄ±yorsun</li>
            </ul>
        </div>

        <div class="solution">
            <h4>âœ… Ã–nerilen Ã‡Ã¶zÃ¼m: Draft/Published Workflow</h4>
            <div class="code">
Durum makinesi:<br>
<br>
DRAFT â†’ REVIEW â†’ PUBLISHED â†’ ARCHIVED<br>
&nbsp;&nbsp;â†“&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;â†“&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;â†“<br>
&nbsp;&nbsp;â†â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â†’<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(Geri Ã§ekme)<br>
<br>
widgets tablosu:<br>
- status: enum('draft', 'review', 'published', 'archived')<br>
- draft_data (JSON): Taslak deÄŸiÅŸiklikler<br>
- published_data (JSON): CanlÄ± versiyon<br>
- preview_url: Ã–nizleme linki<br>
<br>
Ã–zellikler:<br>
- Draft modda deÄŸiÅŸiklikler sadece editÃ¶r gÃ¶rÃ¼r<br>
- Preview URL ile paylaÅŸÄ±labilir Ã¶nizleme<br>
- Review sÃ¼reci (approval workflow)<br>
- Publish butonu ile canlÄ±ya alma
            </div>
            <p><strong>FaydasÄ±:</strong> GÃ¼venli geliÅŸtirme, test ortamÄ±, approval sÃ¼reci</p>
        </div>

        <h3>2.3. Conditional Logic (KoÅŸullu GÃ¶rÃ¼nÃ¼m) YOK</h3>

        <div class="problem">
            <h4>âŒ Sorun</h4>
            <p>Widget'lar her zaman aynÄ± gÃ¶rÃ¼nÃ¼yor:</p>
            <ul>
                <li>KullanÄ±cÄ± tipine gÃ¶re farklÄ± iÃ§erik gÃ¶sterilemiyor</li>
                <li>Saate gÃ¶re deÄŸiÅŸen banner yapÄ±lamÄ±yor</li>
                <li>Form field'larÄ± conditional olamÄ±yor (biri seÃ§ilince diÄŸeri gÃ¶rÃ¼nsÃ¼n gibi)</li>
                <li>Device-based rendering zayÄ±f</li>
            </ul>
        </div>

        <div class="solution">
            <h4>âœ… Ã–nerilen Ã‡Ã¶zÃ¼m: Display Rules</h4>
            <div class="code">
widget_display_rules tablosu:<br>
- widget_id<br>
- rule_type: enum('user', 'time', 'device', 'url', 'custom')<br>
- conditions (JSON):<br>
&nbsp;&nbsp;{<br>
&nbsp;&nbsp;&nbsp;&nbsp;"user_logged_in": true,<br>
&nbsp;&nbsp;&nbsp;&nbsp;"user_role": ["admin", "editor"],<br>
&nbsp;&nbsp;&nbsp;&nbsp;"time_range": {"start": "09:00", "end": "17:00"},<br>
&nbsp;&nbsp;&nbsp;&nbsp;"device": ["desktop", "tablet"],<br>
&nbsp;&nbsp;&nbsp;&nbsp;"url_contains": "/products"<br>
&nbsp;&nbsp;}<br>
- action: enum('show', 'hide', 'replace')<br>
<br>
Settings Schema iÃ§inde:<br>
{<br>
&nbsp;&nbsp;"field_name": {<br>
&nbsp;&nbsp;&nbsp;&nbsp;"type": "text",<br>
&nbsp;&nbsp;&nbsp;&nbsp;"show_if": {<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;"another_field": "value"<br>
&nbsp;&nbsp;&nbsp;&nbsp;}<br>
&nbsp;&nbsp;}<br>
}
            </div>
            <p><strong>FaydasÄ±:</strong> Dinamik iÃ§erik, personalization, better UX</p>
        </div>

        <h3>2.4. Widget Dependencies (BaÄŸÄ±mlÄ±lÄ±klar) YOK</h3>

        <div class="problem">
            <h4>âŒ Sorun</h4>
            <p>Widget'lar arasÄ± baÄŸÄ±mlÄ±lÄ±klar yÃ¶netilmiyor:</p>
            <ul>
                <li>Slider widget jQuery gerektiriyor ama yÃ¼klenmiÅŸ mi bilinmiyor</li>
                <li>Ä°ki widget aynÄ± CSS/JS dosyasÄ±nÄ± yÃ¼klÃ¼yor (duplicate)</li>
                <li>Widget silmek istediÄŸinde baÅŸka widget'Ä±n ona baÄŸlÄ± olduÄŸu bilinmiyor</li>
                <li>Widget sÄ±ralamasÄ± Ã¶nemli ama kontrol yok</li>
            </ul>
        </div>

        <div class="solution">
            <h4>âœ… Ã–nerilen Ã‡Ã¶zÃ¼m: Dependency Management</h4>
            <div class="code">
widget_dependencies tablosu:<br>
- widget_id<br>
- dependency_type: enum('widget', 'library', 'css', 'js')<br>
- dependency_name: string<br>
- version: string (opsiyonel)<br>
- is_required: boolean<br>
<br>
Ã–rnek:<br>
Widget: "Advanced Slider"<br>
Dependencies:<br>
- library: "jQuery" (>= 3.6.0)<br>
- library: "Swiper.js" (>= 8.0.0)<br>
- css: "swiper.min.css"<br>
<br>
Sistem kontrol eder:<br>
1. Gerekli kÃ¼tÃ¼phaneler yÃ¼klÃ¼ mÃ¼?<br>
2. Versiyon uyumlu mu?<br>
3. Ã‡akÄ±ÅŸan dependency var mÄ±?<br>
4. Asset'larÄ± sadece 1 kez yÃ¼kle (deduplication)
            </div>
            <p><strong>FaydasÄ±:</strong> Hata Ã¶nleme, performans, gÃ¼venli silme</p>
        </div>

        <h3>2.5. Validation Sistemi ZayÄ±f</h3>

        <div class="problem">
            <h4>âŒ Sorun</h4>
            <p>Schema validation yetersiz:</p>
            <ul>
                <li>Email field'Ä±na text girilebiliyor</li>
                <li>Required field'lar boÅŸ geÃ§ilebiliyor</li>
                <li>Min/max deÄŸer kontrolÃ¼ yok</li>
                <li>Custom validation rule eklenemiyor</li>
                <li>Regex pattern desteÄŸi yok</li>
            </ul>
        </div>

        <div class="solution">
            <h4>âœ… Ã–nerilen Ã‡Ã¶zÃ¼m: Advanced Validation</h4>
            <div class="code">
Settings Schema Ã¶rneÄŸi:<br>
{<br>
&nbsp;&nbsp;"email": {<br>
&nbsp;&nbsp;&nbsp;&nbsp;"type": "email",<br>
&nbsp;&nbsp;&nbsp;&nbsp;"label": "Email Adresi",<br>
&nbsp;&nbsp;&nbsp;&nbsp;"required": true,<br>
&nbsp;&nbsp;&nbsp;&nbsp;"validation": {<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;"format": "email",<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;"error_message": "GeÃ§erli email girin"<br>
&nbsp;&nbsp;&nbsp;&nbsp;}<br>
&nbsp;&nbsp;},<br>
&nbsp;&nbsp;"age": {<br>
&nbsp;&nbsp;&nbsp;&nbsp;"type": "number",<br>
&nbsp;&nbsp;&nbsp;&nbsp;"validation": {<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;"min": 18,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;"max": 100,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;"error_message": "YaÅŸ 18-100 arasÄ±nda olmalÄ±"<br>
&nbsp;&nbsp;&nbsp;&nbsp;}<br>
&nbsp;&nbsp;},<br>
&nbsp;&nbsp;"phone": {<br>
&nbsp;&nbsp;&nbsp;&nbsp;"type": "text",<br>
&nbsp;&nbsp;&nbsp;&nbsp;"validation": {<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;"pattern": "^\\+90[0-9]{10}$",<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;"error_message": "Format: +905xxxxxxxxx"<br>
&nbsp;&nbsp;&nbsp;&nbsp;}<br>
&nbsp;&nbsp;},<br>
&nbsp;&nbsp;"url": {<br>
&nbsp;&nbsp;&nbsp;&nbsp;"type": "url",<br>
&nbsp;&nbsp;&nbsp;&nbsp;"validation": {<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;"allowed_domains": ["example.com", "test.com"],<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;"protocol": "https"<br>
&nbsp;&nbsp;&nbsp;&nbsp;}<br>
&nbsp;&nbsp;}<br>
}
            </div>
            <p><strong>FaydasÄ±:</strong> Veri kalitesi, gÃ¼venlik, better UX</p>
        </div>

        <h3>2.6. Widget Variants (Varyantlar) YOK</h3>

        <div class="problem">
            <h4>âŒ Sorun</h4>
            <p>AynÄ± widget'Ä±n farklÄ± gÃ¶rÃ¼nÃ¼mleri yok:</p>
            <ul>
                <li>Hero widget mobile/desktop iÃ§in ayrÄ± ayarlanamÄ±yor</li>
                <li>Dark/Light mode varyantÄ± yok</li>
                <li>Language-based variant yok</li>
                <li>Seasonal variant (yÄ±lbaÅŸÄ± temasÄ±) yok</li>
            </ul>
        </div>

        <div class="solution">
            <h4>âœ… Ã–nerilen Ã‡Ã¶zÃ¼m: Widget Variants System</h4>
            <div class="code">
widget_variants tablosu:<br>
- widget_id<br>
- variant_name: string (Ã¶rn: "mobile", "dark-mode", "christmas")<br>
- variant_type: enum('device', 'theme', 'locale', 'season')<br>
- settings_override (JSON): Sadece farklÄ± olan ayarlar<br>
- is_default: boolean<br>
<br>
KullanÄ±m:<br>
// Base widget settings<br>
{<br>
&nbsp;&nbsp;"title": "Welcome",<br>
&nbsp;&nbsp;"font_size": "32px",<br>
&nbsp;&nbsp;"color": "#000"<br>
}<br>
<br>
// Mobile variant (override)<br>
{<br>
&nbsp;&nbsp;"font_size": "24px"  // Sadece deÄŸiÅŸen<br>
}<br>
<br>
// Dark mode variant<br>
{<br>
&nbsp;&nbsp;"color": "#fff",<br>
&nbsp;&nbsp;"background": "#000"<br>
}<br>
<br>
Sistem otomatik birleÅŸtirir (merge)
            </div>
            <p><strong>FaydasÄ±:</strong> Responsive design, theming, localization</p>
        </div>

        <h3>2.7. Analytics & Usage Tracking YOK</h3>

        <div class="problem">
            <h4>âŒ Sorun</h4>
            <p>Widget kullanÄ±m istatistikleri yok:</p>
            <ul>
                <li>Hangi widget ne kadar kullanÄ±lÄ±yor bilinmiyor</li>
                <li>Widget performance metrikleri yok</li>
                <li>Hangi widget daha Ã§ok tÄ±klanÄ±yor takip edilmiyor</li>
                <li>Unused widget'larÄ± temizleyemiyorsun</li>
            </ul>
        </div>

        <div class="solution">
            <h4>âœ… Ã–nerilen Ã‡Ã¶zÃ¼m: Widget Analytics</h4>
            <div class="code">
widget_analytics tablosu:<br>
- widget_id<br>
- metric_type: enum('view', 'click', 'conversion', 'error')<br>
- metric_value: integer<br>
- context (JSON): {page_url, user_id, device, etc.}<br>
- created_at<br>
<br>
widget_usage tablosu:<br>
- widget_id<br>
- used_in_pages: integer<br>
- total_views: integer<br>
- total_clicks: integer<br>
- avg_render_time: float (ms)<br>
- last_used_at: timestamp<br>
<br>
Dashboard metrikleri:<br>
- En Ã§ok kullanÄ±lan widget'lar<br>
- En iyi performans gÃ¶steren widget'lar<br>
- HiÃ§ kullanÄ±lmayan widget'lar (silinebilir)<br>
- Widget render sÃ¼releri (performance)
            </div>
            <p><strong>FaydasÄ±:</strong> Data-driven decisions, optimization, cleanup</p>
        </div>

        <h2>3ï¸âƒ£ Ã–nerilen Yeni Widget TÃ¼rleri</h2>

        <div class="comparison">
            <div class="compare-box compare-current">
                <h4>Mevcut (3 tÃ¼r)</h4>
                <ul>
                    <li>MODULE</li>
                    <li>FILE</li>
                    <li>CUSTOM</li>
                </ul>
            </div>
            <div class="compare-box compare-proposed">
                <h4>Ã–nerilen (7 tÃ¼r)</h4>
                <ul>
                    <li>MODULE <span class="tag tag-current">Mevcut</span></li>
                    <li>FILE <span class="tag tag-current">Mevcut</span></li>
                    <li>CUSTOM <span class="tag tag-current">Mevcut</span></li>
                    <li>API <span class="tag tag-proposed">Yeni</span></li>
                    <li>IFRAME <span class="tag tag-proposed">Yeni</span></li>
                    <li>DYNAMIC <span class="tag tag-proposed">Yeni</span></li>
                    <li>LAYOUT <span class="tag tag-proposed">Yeni</span></li>
                </ul>
            </div>
        </div>

        <div class="feature-grid">
            <div class="feature-card">
                <h4>API Widget <span class="tag tag-proposed">Yeni</span></h4>
                <p><strong>KullanÄ±m:</strong> External API'den veri Ã§ekip render eder</p>
                <p><strong>Ã–rnek:</strong></p>
                <ul>
                    <li>Weather widget (OpenWeather API)</li>
                    <li>Currency rates (Exchange rate API)</li>
                    <li>Social media feed (Twitter/Instagram API)</li>
                    <li>Stock prices</li>
                </ul>
                <p><strong>Schema:</strong></p>
                <div class="code" style="font-size: 0.8rem;">
{<br>
&nbsp;&nbsp;"api_url": "https://api.example.com",<br>
&nbsp;&nbsp;"api_key": "...",<br>
&nbsp;&nbsp;"method": "GET",<br>
&nbsp;&nbsp;"cache_duration": 300,<br>
&nbsp;&nbsp;"response_mapping": {...}<br>
}
                </div>
            </div>

            <div class="feature-card">
                <h4>IFRAME Widget <span class="tag tag-proposed">Yeni</span></h4>
                <p><strong>KullanÄ±m:</strong> GÃ¼venli iframe embed</p>
                <p><strong>Ã–rnek:</strong></p>
                <ul>
                    <li>YouTube video</li>
                    <li>Google Maps</li>
                    <li>Typeform embed</li>
                    <li>3rd party tools</li>
                </ul>
                <p><strong>Schema:</strong></p>
                <div class="code" style="font-size: 0.8rem;">
{<br>
&nbsp;&nbsp;"iframe_url": "...",<br>
&nbsp;&nbsp;"width": "100%",<br>
&nbsp;&nbsp;"height": "400px",<br>
&nbsp;&nbsp;"sandbox": ["allow-scripts"],<br>
&nbsp;&nbsp;"allow": ["autoplay"]<br>
}
                </div>
            </div>

            <div class="feature-card">
                <h4>DYNAMIC Widget <span class="tag tag-proposed">Yeni</span></h4>
                <p><strong>KullanÄ±m:</strong> Real-time veri (WebSocket/SSE)</p>
                <p><strong>Ã–rnek:</strong></p>
                <ul>
                    <li>Live chat widget</li>
                    <li>Real-time notifications</li>
                    <li>Live stock ticker</li>
                    <li>User activity feed</li>
                </ul>
                <p><strong>Schema:</strong></p>
                <div class="code" style="font-size: 0.8rem;">
{<br>
&nbsp;&nbsp;"websocket_url": "wss://...",<br>
&nbsp;&nbsp;"event_name": "new_message",<br>
&nbsp;&nbsp;"auto_update": true,<br>
&nbsp;&nbsp;"update_interval": null<br>
}
                </div>
            </div>

            <div class="feature-card">
                <h4>LAYOUT Widget <span class="tag tag-proposed">Yeni</span></h4>
                <p><strong>KullanÄ±m:</strong> Container widget (iÃ§inde widget barÄ±ndÄ±rÄ±r)</p>
                <p><strong>Ã–rnek:</strong></p>
                <ul>
                    <li>Tabs (her tab iÃ§inde widget)</li>
                    <li>Accordion (her panel iÃ§inde widget)</li>
                    <li>Grid layout (her cell widget)</li>
                    <li>Modal (iÃ§inde widget)</li>
                </ul>
                <p><strong>Schema:</strong></p>
                <div class="code" style="font-size: 0.8rem;">
{<br>
&nbsp;&nbsp;"layout_type": "tabs",<br>
&nbsp;&nbsp;"children": [<br>
&nbsp;&nbsp;&nbsp;&nbsp;{<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;"tab_name": "Tab 1",<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;"widget_id": 123<br>
&nbsp;&nbsp;&nbsp;&nbsp;}<br>
&nbsp;&nbsp;]<br>
}
                </div>
            </div>
        </div>

        <h2>4ï¸âƒ£ Ã–nerilen Yeni Schema Tipleri</h2>

        <div class="comparison">
            <div class="compare-box compare-current">
                <h4>Mevcut (2 schema)</h4>
                <ul>
                    <li><strong>Settings:</strong> Widget ayarlarÄ±</li>
                    <li><strong>Items:</strong> DÃ¶ngÃ¼ verileri</li>
                </ul>
            </div>
            <div class="compare-box compare-proposed">
                <h4>Ã–nerilen (5 schema)</h4>
                <ul>
                    <li>Settings <span class="tag tag-current">Mevcut</span></li>
                    <li>Items <span class="tag tag-current">Mevcut</span></li>
                    <li>Actions <span class="tag tag-proposed">Yeni</span></li>
                    <li>Events <span class="tag tag-proposed">Yeni</span></li>
                    <li>State <span class="tag tag-proposed">Yeni</span></li>
                </ul>
            </div>
        </div>

        <h3>4.1. Actions Schema (EtkileÅŸimler)</h3>

        <div class="recommendation">
            <h4>Actions: Widget'Ä±n yapabileceÄŸi iÅŸlemler</h4>
            <div class="code">
{<br>
&nbsp;&nbsp;"on_click": {<br>
&nbsp;&nbsp;&nbsp;&nbsp;"action": "navigate",<br>
&nbsp;&nbsp;&nbsp;&nbsp;"url": "/products",<br>
&nbsp;&nbsp;&nbsp;&nbsp;"target": "_blank"<br>
&nbsp;&nbsp;},<br>
&nbsp;&nbsp;"on_submit": {<br>
&nbsp;&nbsp;&nbsp;&nbsp;"action": "ajax_submit",<br>
&nbsp;&nbsp;&nbsp;&nbsp;"endpoint": "/api/contact",<br>
&nbsp;&nbsp;&nbsp;&nbsp;"method": "POST",<br>
&nbsp;&nbsp;&nbsp;&nbsp;"success_message": "GÃ¶nderildi!"<br>
&nbsp;&nbsp;},<br>
&nbsp;&nbsp;"on_error": {<br>
&nbsp;&nbsp;&nbsp;&nbsp;"action": "show_notification",<br>
&nbsp;&nbsp;&nbsp;&nbsp;"message": "Hata oluÅŸtu",<br>
&nbsp;&nbsp;&nbsp;&nbsp;"type": "error"<br>
&nbsp;&nbsp;}<br>
}
            </div>
            <p><strong>KullanÄ±m:</strong> Button click, form submit, image click, hover vb.</p>
        </div>

        <h3>4.2. Events Schema (Olaylar)</h3>

        <div class="recommendation">
            <h4>Events: Widget'Ä±n tetikleyeceÄŸi/dinleyeceÄŸi olaylar</h4>
            <div class="code">
{<br>
&nbsp;&nbsp;"emit_events": [<br>
&nbsp;&nbsp;&nbsp;&nbsp;{<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;"event_name": "product_added_to_cart",<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;"trigger": "on_button_click",<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;"payload": {<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;"product_id": "{{item.id}}",<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;"quantity": 1<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}<br>
&nbsp;&nbsp;&nbsp;&nbsp;}<br>
&nbsp;&nbsp;],<br>
&nbsp;&nbsp;"listen_events": [<br>
&nbsp;&nbsp;&nbsp;&nbsp;{<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;"event_name": "cart_updated",<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;"action": "refresh_widget"<br>
&nbsp;&nbsp;&nbsp;&nbsp;}<br>
&nbsp;&nbsp;]<br>
}
            </div>
            <p><strong>KullanÄ±m:</strong> Widget'lar arasÄ± iletiÅŸim (Shopping cart + Product card)</p>
        </div>

        <h3>4.3. State Schema (Durum YÃ¶netimi)</h3>

        <div class="recommendation">
            <h4>State: Widget'Ä±n runtime durumu</h4>
            <div class="code">
{<br>
&nbsp;&nbsp;"initial_state": {<br>
&nbsp;&nbsp;&nbsp;&nbsp;"is_open": false,<br>
&nbsp;&nbsp;&nbsp;&nbsp;"current_slide": 0,<br>
&nbsp;&nbsp;&nbsp;&nbsp;"items_loaded": false<br>
&nbsp;&nbsp;},<br>
&nbsp;&nbsp;"state_persistence": "session",  // none, session, local<br>
&nbsp;&nbsp;"state_sync": true  // TÃ¼m widget instance'larÄ± sync olsun mu?<br>
}
            </div>
            <p><strong>KullanÄ±m:</strong> Accordion aÃ§Ä±k/kapalÄ±, Slider pozisyonu, Form doldurulmuÅŸ mu</p>
        </div>

        <h2>5ï¸âƒ£ Ã–ncelik SÄ±ralamasÄ±</h2>

        <table>
            <thead>
                <tr>
                    <th>Ã–zellik</th>
                    <th>Ã–ncelik</th>
                    <th>Etki</th>
                    <th>Zorluk</th>
                    <th>SÃ¼re</th>
                </tr>
            </thead>
            <tbody>
                <tr>
                    <td><strong>Validation Sistemi</strong></td>
                    <td><span class="priority-high">YÃœKSEK</span></td>
                    <td>Veri kalitesi, gÃ¼venlik</td>
                    <td>DÃ¼ÅŸÃ¼k</td>
                    <td>2-3 gÃ¼n</td>
                </tr>
                <tr>
                    <td><strong>Preview/Draft</strong></td>
                    <td><span class="priority-high">YÃœKSEK</span></td>
                    <td>GÃ¼venli geliÅŸtirme</td>
                    <td>Orta</td>
                    <td>4-5 gÃ¼n</td>
                </tr>
                <tr>
                    <td><strong>Widget Versioning</strong></td>
                    <td><span class="priority-medium">ORTA</span></td>
                    <td>Rollback, gÃ¼venlik</td>
                    <td>Orta</td>
                    <td>5-7 gÃ¼n</td>
                </tr>
                <tr>
                    <td><strong>Actions Schema</strong></td>
                    <td><span class="priority-medium">ORTA</span></td>
                    <td>EtkileÅŸim zenginliÄŸi</td>
                    <td>Orta</td>
                    <td>3-4 gÃ¼n</td>
                </tr>
                <tr>
                    <td><strong>Widget Variants</strong></td>
                    <td><span class="priority-medium">ORTA</span></td>
                    <td>Responsive, theming</td>
                    <td>Orta-YÃ¼ksek</td>
                    <td>1 hafta</td>
                </tr>
                <tr>
                    <td><strong>API Widget Type</strong></td>
                    <td><span class="priority-low">DÃœÅÃœK</span></td>
                    <td>External entegrasyon</td>
                    <td>DÃ¼ÅŸÃ¼k</td>
                    <td>2-3 gÃ¼n</td>
                </tr>
                <tr>
                    <td><strong>Conditional Logic</strong></td>
                    <td><span class="priority-low">DÃœÅÃœK</span></td>
                    <td>Dinamik davranÄ±ÅŸ</td>
                    <td>YÃ¼ksek</td>
                    <td>1-2 hafta</td>
                </tr>
                <tr>
                    <td><strong>Analytics</strong></td>
                    <td><span class="priority-low">DÃœÅÃœK</span></td>
                    <td>Data-driven decisions</td>
                    <td>Orta</td>
                    <td>4-5 gÃ¼n</td>
                </tr>
                <tr>
                    <td><strong>Widget Dependencies</strong></td>
                    <td><span class="priority-low">DÃœÅÃœK</span></td>
                    <td>Hata Ã¶nleme</td>
                    <td>Orta</td>
                    <td>3-4 gÃ¼n</td>
                </tr>
            </tbody>
        </table>

        <h2>6ï¸âƒ£ KÄ±yaslama: DiÄŸer Sistemler</h2>

        <h3>WordPress (Gutenberg Blocks)</h3>
        <div class="current-system">
            <h4>âœ… GÃ¼Ã§lÃ¼ YanlarÄ±</h4>
            <ul>
                <li><strong>Block Patterns:</strong> HazÄ±r kombinasyonlar</li>
                <li><strong>Block Variations:</strong> AynÄ± block, farklÄ± stillerde</li>
                <li><strong>InnerBlocks:</strong> Block iÃ§inde block (nested)</li>
                <li><strong>Block Transforms:</strong> Bir block diÄŸerine dÃ¶nÃ¼ÅŸebilir</li>
            </ul>
        </div>

        <h3>Webflow</h3>
        <div class="current-system">
            <h4>âœ… GÃ¼Ã§lÃ¼ YanlarÄ±</h4>
            <ul>
                <li><strong>Components:</strong> Master component + instances</li>
                <li><strong>Overrides:</strong> Instance'larda deÄŸiÅŸiklik yapabilme</li>
                <li><strong>Responsive:</strong> Breakpoint baÅŸÄ±na ayar</li>
                <li><strong>Interactions:</strong> GÃ¶rsel animation builder</li>
            </ul>
        </div>

        <h3>Notion (Blocks)</h3>
        <div class="current-system">
            <h4>âœ… GÃ¼Ã§lÃ¼ YanlarÄ±</h4>
            <ul>
                <li><strong>Simplicity:</strong> Her ÅŸey bir block</li>
                <li><strong>Drag & Drop:</strong> Kolay sÄ±ralama</li>
                <li><strong>Inline Editing:</strong> Direkt iÃ§erikte dÃ¼zenleme</li>
                <li><strong>Block Menu:</strong> "/" ile hÄ±zlÄ± ekleme</li>
            </ul>
        </div>

        <h2>7ï¸âƒ£ SonuÃ§ & Ã–neriler</h2>

        <div class="summary">
            <h3>ğŸ¯ Hemen YapÄ±lmasÄ± Gerekenler</h3>
            <ol>
                <li><strong>Validation Sistemi:</strong> Schema validation rules ekle (hÄ±zlÄ±, etkili)</li>
                <li><strong>Preview Modu:</strong> Draft/Published ayrÄ±mÄ± (gÃ¼venlik iÃ§in kritik)</li>
                <li><strong>Actions Schema:</strong> on_click, on_submit gibi temel etkileÅŸimler</li>
            </ol>

            <h3>ğŸ“… Orta Vadede YapÄ±labilir</h3>
            <ol>
                <li><strong>Widget Versioning:</strong> GÃ¼venli gÃ¼ncelleme iÃ§in</li>
                <li><strong>Widget Variants:</strong> Responsive ve theming iÃ§in</li>
                <li><strong>API Widget Type:</strong> External data iÃ§in</li>
            </ol>

            <h3>ğŸ”® Gelecek Ä°Ã§in</h3>
            <ol>
                <li><strong>Conditional Logic:</strong> KarmaÅŸÄ±k ama gÃ¼Ã§lÃ¼</li>
                <li><strong>Analytics:</strong> Data-driven optimizasyon</li>
                <li><strong>Widget Marketplace:</strong> Community widgets</li>
            </ol>
        </div>

        <div style="margin-top: 80px; padding-top: 40px; border-top: 2px solid #334155; text-align: center; color: #64748b;">
            <p style="font-size: 1.1rem;">ğŸ¤– Claude AI - Widget Management Mimari Analizi</p>
            <p style="margin-top: 10px;">2025-12-04</p>
        </div>
    </div>
</body>
</html>

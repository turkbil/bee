<!DOCTYPE html>
<html lang="tr">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Widget FILE Sistemi Analiz & Plan</title>
    <style>
        * { margin: 0; padding: 0; box-sizing: border-box; }
        body {
            background: linear-gradient(135deg, #1e3a8a 0%, #1e293b 100%);
            color: #e2e8f0;
            font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', system-ui, sans-serif;
            line-height: 1.8;
            padding: 40px 20px;
        }
        .container { max-width: 1200px; margin: 0 auto; }
        h1 {
            font-size: 3rem;
            background: linear-gradient(135deg, #60a5fa, #3b82f6);
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
            margin-bottom: 30px;
        }
        h2 {
            color: #60a5fa;
            font-size: 2rem;
            margin: 50px 0 25px;
            padding-bottom: 10px;
            border-bottom: 2px solid #334155;
        }
        h3 {
            color: #93c5fd;
            font-size: 1.5rem;
            margin: 30px 0 15px;
        }
        .summary {
            background: rgba(59,130,246,0.1);
            border-left: 4px solid #3b82f6;
            padding: 25px;
            border-radius: 8px;
            margin: 30px 0;
        }
        .problem {
            background: rgba(239,68,68,0.1);
            border-left: 4px solid #ef4444;
            padding: 25px;
            border-radius: 8px;
            margin: 20px 0;
        }
        .solution {
            background: rgba(16,185,129,0.1);
            border-left: 4px solid #10b981;
            padding: 25px;
            border-radius: 8px;
            margin: 20px 0;
        }
        .code {
            background: #0f172a;
            padding: 20px;
            border-radius: 8px;
            overflow-x: auto;
            margin: 15px 0;
            font-family: 'Courier New', monospace;
            font-size: 0.9rem;
            border: 1px solid #334155;
        }
        .step {
            background: rgba(30,41,59,0.5);
            padding: 20px;
            margin: 15px 0;
            border-radius: 8px;
            border-left: 4px solid #22d3ee;
        }
        .step h4 {
            color: #22d3ee;
            margin-bottom: 10px;
        }
        table {
            width: 100%;
            border-collapse: collapse;
            margin: 20px 0;
            background: rgba(30,41,59,0.3);
            border-radius: 8px;
            overflow: hidden;
        }
        th, td {
            padding: 12px;
            text-align: left;
            border-bottom: 1px solid #334155;
        }
        th {
            background: rgba(59,130,246,0.2);
            color: #60a5fa;
            font-weight: 600;
        }
        .tag {
            display: inline-block;
            padding: 4px 12px;
            border-radius: 12px;
            font-size: 0.85rem;
            font-weight: 600;
            margin: 0 5px;
        }
        .tag-static { background: #dc2626; color: white; }
        .tag-dynamic { background: #10b981; color: white; }
        .tag-empty { background: #f59e0b; color: white; }
        .tag-ready { background: #3b82f6; color: white; }
        ul, ol { margin: 15px 0 15px 25px; }
        li { margin: 8px 0; }
        .highlight { color: #fbbf24; font-weight: 600; }
        .meta {
            color: #94a3b8;
            font-size: 0.95rem;
            margin-bottom: 40px;
        }
    </style>
</head>
<body>
    <div class="container">
        <h1>ğŸ¨ Widget FILE Sistemi Analiz & Planlama</h1>
        
        <div class="meta">
            ğŸ“… Tarih: 2025-12-04 | ğŸ¯ Tenant: ixtif.com | ğŸ‘¨â€ğŸ’» Analiz: Widget Sistem Mimarisi
        </div>

        <div class="summary">
            <h3>ğŸ“‹ Analiz Ã–zeti</h3>
            <p>Widget Management sisteminde <span class="highlight">FILE type widget'lar</span> iÃ§in ÅŸema sisteminin eksik olduÄŸu tespit edildi. Mevcut widget'lar statik HTML iÃ§eriyor, ayarlanabilir deÄŸil. Hero ve Form Builder widget'larÄ± iÃ§in dinamik ÅŸema sistemi kurulacak.</p>
        </div>

        <h2>ğŸ—ï¸ Mevcut Sistem Mimarisi</h2>

        <h3>1. Widget Tipleri</h3>
        <table>
            <thead>
                <tr>
                    <th>Tip</th>
                    <th>AÃ§Ä±klama</th>
                    <th>Veri KaynaÄŸÄ±</th>
                    <th>Ã–rnek</th>
                </tr>
            </thead>
            <tbody>
                <tr>
                    <td><strong>MODULE</strong></td>
                    <td>Backend modÃ¼llerden veri Ã§eker</td>
                    <td>Database (Blog, Product vb.)</td>
                    <td>Blog Listesi, ÃœrÃ¼n KartlarÄ±</td>
                </tr>
                <tr>
                    <td><strong>FILE</strong></td>
                    <td>Blade view dosyasÄ±ndan render</td>
                    <td>Static view dosyasÄ±</td>
                    <td>Hero, Contact Form, Layout'lar</td>
                </tr>
                <tr>
                    <td><strong>CUSTOM</strong></td>
                    <td>KullanÄ±cÄ± tanÄ±mlÄ± HTML/CSS/JS</td>
                    <td>Widget iÃ§inde saklanan kod</td>
                    <td>Ã–zel banner, embed kod</td>
                </tr>
            </tbody>
        </table>

        <h3>2. FILE Widget Sistemi NasÄ±l Ã‡alÄ±ÅŸÄ±yor?</h3>

        <div class="step">
            <h4>AdÄ±m 1: Widget TanÄ±mÄ± (Database)</h4>
            <div class="code">
id: 69<br>
name: "Hero - Ana Banner"<br>
type: "file"<br>
file_path: "hero.ixtif-hero.view"<br>
has_items: 1<br>
settings_schema: NULL  <span style="color: #ef4444;">â† SORUN!</span><br>
item_schema: NULL      <span style="color: #ef4444;">â† SORUN!</span>
            </div>
        </div>

        <div class="step">
            <h4>AdÄ±m 2: View DosyasÄ±</h4>
            <div class="code">
ğŸ“ Modules/WidgetManagement/resources/views/blocks/<br>
&nbsp;&nbsp;&nbsp;&nbsp;hero/<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;ixtif-hero/<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;view.blade.php  <span style="color: #10b981;">â† Render edilen dosya</span><br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;settings.json   <span style="color: #ef4444;">â† YOK! (OlmalÄ±)</span><br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;items.json      <span style="color: #ef4444;">â† YOK! (OlmalÄ±)</span>
            </div>
        </div>

        <div class="step">
            <h4>AdÄ±m 3: Render Ä°ÅŸlemi (WidgetService.php)</h4>
            <ol>
                <li>file_path parse edilir â†’ "hero.ixtif-hero.view"</li>
                <li>Blade view bulunur â†’ blocks/hero/ixtif-hero/view.blade.php</li>
                <li>Settings ve Items verileri ile render edilir</li>
                <li>HTML output dÃ¶ner</li>
            </ol>
        </div>

        <h2>ğŸš¨ Tespit Edilen Problemler</h2>

        <div class="problem">
            <h3>Problem 1: Statik Widget'lar</h3>
            <p><strong>Durum:</strong> Mevcut FILE widget'larÄ± sadece hardcoded HTML iÃ§eriyor.</p>
            <div class="code">
&lt;!-- Mevcut: contact-form/view.blade.php --&gt;<br>
&lt;form&gt;<br>
&nbsp;&nbsp;&nbsp;&nbsp;&lt;input type="text" placeholder="AdÄ±nÄ±z"&gt;  <span style="color: #ef4444;">â† Sabit deÄŸer!</span><br>
&nbsp;&nbsp;&nbsp;&nbsp;&lt;input type="email" placeholder="Email"&gt;   <span style="color: #ef4444;">â† DeÄŸiÅŸtirilemez!</span><br>
&lt;/form&gt;
            </div>
            <p><strong>SonuÃ§:</strong> Tenant'lar widget'Ä± Ã¶zelleÅŸtiremez. Form alanlarÄ±nÄ± deÄŸiÅŸtiremez.</p>
        </div>

        <div class="problem">
            <h3>Problem 2: Schema Sisteminin EksikliÄŸi</h3>
            <p><strong>Durum:</strong> settings.json ve items.json dosyalarÄ± YOK.</p>
            <p><strong>SonuÃ§:</strong></p>
            <ul>
                <li>Form Builder kullanÄ±lamÄ±yor (schema boÅŸ)</li>
                <li>Widget ayarlarÄ± manuel kod ile deÄŸiÅŸtiriliyor</li>
                <li>Tenant'lar baÄŸÄ±msÄ±z customization yapamÄ±yor</li>
            </ul>
        </div>

        <div class="problem">
            <h3>Problem 3: Hero Widget YarÄ±m KaldÄ±</h3>
            <p><strong>Durum:</strong> ixtif-hero widget'Ä± <code>has_items=1</code> ama item_schema tanÄ±mlÄ± deÄŸil.</p>
            <p><strong>SonuÃ§:</strong> Items eklenemiyor, sadece settings kullanÄ±labiliyor.</p>
        </div>

        <h2>âœ… Ã‡Ã¶zÃ¼m PlanÄ±</h2>

        <div class="solution">
            <h3>Hedef</h3>
            <p>FILE type widget'larÄ± iÃ§in <span class="highlight">tam dinamik schema sistemi</span> kurmak:</p>
            <ol>
                <li><strong>settings.json</strong> â†’ Widget ayarlarÄ± (renkler, baÅŸlÄ±klar, buttonlar)</li>
                <li><strong>items.json</strong> â†’ Dinamik iÃ§erik elemanlarÄ± (slider items, form fields)</li>
                <li><strong>Form Builder entegrasyonu</strong> â†’ Admin panelden drag&drop ile dÃ¼zenleme</li>
            </ol>
        </div>

        <h2>ğŸ“ Ä°mplementasyon PlanÄ±</h2>

        <h3>Faz 1: Hero Widget Tamamlama (Ã–ncelik: YÃœKSEK)</h3>

        <div class="step">
            <h4>1.1. Hero Settings Schema (settings.json)</h4>
            <p><strong>Dosya:</strong> <code>blocks/hero/ixtif-hero/settings.json</code></p>
            <p><strong>Ä°Ã§erik:</strong> BaÅŸlÄ±k, alt baÅŸlÄ±k, buton metni, renkler, arka plan</p>
            <div class="code">
{<br>
&nbsp;&nbsp;"title_line1": { "type": "text", "label": "Ana BaÅŸlÄ±k (1. SatÄ±r)" },<br>
&nbsp;&nbsp;"title_line2": { "type": "text", "label": "Ana BaÅŸlÄ±k (2. SatÄ±r)" },<br>
&nbsp;&nbsp;"description": { "type": "textarea", "label": "AÃ§Ä±klama" },<br>
&nbsp;&nbsp;"cta_text": { "type": "text", "label": "Buton Metni" },<br>
&nbsp;&nbsp;"cta_url": { "type": "text", "label": "Buton URL" },<br>
&nbsp;&nbsp;"cta_icon": { "type": "text", "label": "Buton Ä°kon (FontAwesome)" },<br>
&nbsp;&nbsp;"hero_image": { "type": "media", "label": "Hero GÃ¶rseli" }<br>
}
            </div>
        </div>

        <div class="step">
            <h4>1.2. Hero Items Schema (items.json)</h4>
            <p><strong>Dosya:</strong> <code>blocks/hero/ixtif-hero/items.json</code></p>
            <p><strong>Ä°Ã§erik:</strong> Feature listesi (ikonlu Ã¶zellik kartlarÄ±)</p>
            <div class="code">
{<br>
&nbsp;&nbsp;"title": { "type": "text", "label": "Ã–zellik BaÅŸlÄ±ÄŸÄ±", "required": true },<br>
&nbsp;&nbsp;"content": {<br>
&nbsp;&nbsp;&nbsp;&nbsp;"subtitle": { "type": "text", "label": "Alt BaÅŸlÄ±k" },<br>
&nbsp;&nbsp;&nbsp;&nbsp;"icon": { "type": "text", "label": "Ä°kon (FontAwesome)" }<br>
&nbsp;&nbsp;}<br>
}
            </div>
        </div>

        <div class="step">
            <h4>1.3. View Template GÃ¼ncellemesi</h4>
            <p><strong>Dosya:</strong> <code>blocks/hero/ixtif-hero/view.blade.php</code></p>
            <p><strong>DeÄŸiÅŸiklik:</strong> Hardcoded deÄŸerler â†’ $settings ve $items kullanÄ±mÄ±</p>
            <p><strong>Durum:</strong> <span class="tag tag-ready">Zaten yapÄ±ldÄ±!</span> (View dosyasÄ± hazÄ±r)</p>
        </div>

        <div class="step">
            <h4>1.4. Database GÃ¼ncelleme</h4>
            <p><strong>Ä°ÅŸlem:</strong> Widget #69'un settings_schema ve item_schema'sÄ±nÄ± doldur</p>
            <div class="code">
UPDATE widgets SET<br>
&nbsp;&nbsp;settings_schema = <span style="color: #10b981;">/* settings.json iÃ§eriÄŸi */</span>,<br>
&nbsp;&nbsp;item_schema = <span style="color: #10b981;">/* items.json iÃ§eriÄŸi */</span><br>
WHERE id = 69;
            </div>
        </div>

        <h3>Faz 2: Contact Form Widget (Ã–ncelik: ORTA)</h3>

        <div class="step">
            <h4>2.1. Contact Form Settings Schema</h4>
            <p><strong>AmaÃ§:</strong> Form baÅŸlÄ±ÄŸÄ±, aÃ§Ä±klama, baÅŸarÄ± mesajÄ± ayarlanabilir olacak</p>
            <div class="code">
{<br>
&nbsp;&nbsp;"form_title": { "type": "text", "label": "Form BaÅŸlÄ±ÄŸÄ±" },<br>
&nbsp;&nbsp;"form_description": { "type": "textarea", "label": "AÃ§Ä±klama" },<br>
&nbsp;&nbsp;"submit_text": { "type": "text", "label": "GÃ¶nder Butonu Metni" },<br>
&nbsp;&nbsp;"success_message": { "type": "text", "label": "BaÅŸarÄ± MesajÄ±" },<br>
&nbsp;&nbsp;"notification_email": { "type": "email", "label": "Bildirim Email" }<br>
}
            </div>
        </div>

        <div class="step">
            <h4>2.2. Contact Form Items Schema (Form Builder!)</h4>
            <p><strong>AmaÃ§:</strong> Form alanlarÄ± dinamik olarak eklenebilecek</p>
            <div class="code">
{<br>
&nbsp;&nbsp;"field_type": { "type": "select", "options": ["text", "email", "tel", "textarea"] },<br>
&nbsp;&nbsp;"field_label": { "type": "text", "label": "Alan Etiketi" },<br>
&nbsp;&nbsp;"field_name": { "type": "text", "label": "Alan AdÄ± (name)" },<br>
&nbsp;&nbsp;"field_placeholder": { "type": "text", "label": "Placeholder" },<br>
&nbsp;&nbsp;"field_required": { "type": "checkbox", "label": "Zorunlu Alan?" }<br>
}
            </div>
        </div>

        <div class="step">
            <h4>2.3. Backend Form Handling</h4>
            <p><strong>Gerekli:</strong> Form submit iÅŸlemi iÃ§in Livewire component</p>
            <p><strong>Ã–zellikler:</strong></p>
            <ul>
                <li>Validation (dinamik items'a gÃ¶re)</li>
                <li>Email gÃ¶nderimi</li>
                <li>Database kayÄ±t (opsiyonel)</li>
                <li>Success/Error handling</li>
            </ul>
        </div>

        <h3>Faz 3: Form Builder UI Tamamlama (Ã–ncelik: DÃœÅÃœK)</h3>

        <div class="step">
            <h4>3.1. Drag & Drop Form Builder</h4>
            <p><strong>Durum:</strong> Mevcut Form Builder component var ama eksik</p>
            <p><strong>YapÄ±lacaklar:</strong></p>
            <ul>
                <li>Form element palette (text, email, select, checkbox, radio)</li>
                <li>Drag & drop sÄ±ralamasÄ±</li>
                <li>Element Ã¶zellikleri paneli</li>
                <li>Conditional logic (geliÅŸmiÅŸ)</li>
            </ul>
        </div>

        <div class="step">
            <h4>3.2. Schema Preview</h4>
            <p><strong>Ã–zellik:</strong> OluÅŸturulan form'un canlÄ± Ã¶nizlemesi</p>
            <p><strong>Teknoloji:</strong> Alpine.js + Livewire</p>
        </div>

        <h2>ğŸ¯ Ã–ncelik SÄ±ralamasÄ±</h2>

        <table>
            <thead>
                <tr>
                    <th>SÄ±ra</th>
                    <th>Ä°ÅŸlem</th>
                    <th>Widget</th>
                    <th>SÃ¼re</th>
                    <th>Etki</th>
                </tr>
            </thead>
            <tbody>
                <tr>
                    <td>1</td>
                    <td>Hero settings.json + items.json</td>
                    <td>ixtif-hero</td>
                    <td>2-3 saat</td>
                    <td>Ana banner Ã¶zelleÅŸtirilebilir</td>
                </tr>
                <tr>
                    <td>2</td>
                    <td>Hero DB gÃ¼ncelleme + test</td>
                    <td>ixtif-hero</td>
                    <td>1 saat</td>
                    <td>Hero widget tamamlanÄ±r</td>
                </tr>
                <tr>
                    <td>3</td>
                    <td>Contact Form schema'larÄ±</td>
                    <td>contact-form</td>
                    <td>3-4 saat</td>
                    <td>Form Ã¶zelleÅŸtirilebilir</td>
                </tr>
                <tr>
                    <td>4</td>
                    <td>Form submit backend</td>
                    <td>contact-form</td>
                    <td>4-5 saat</td>
                    <td>Form Ã§alÄ±ÅŸÄ±r hale gelir</td>
                </tr>
                <tr>
                    <td>5</td>
                    <td>Form Builder UI</td>
                    <td>Genel</td>
                    <td>1-2 gÃ¼n</td>
                    <td>Admin panelden form oluÅŸturma</td>
                </tr>
            </tbody>
        </table>

        <h2>ğŸ’¡ Ã–neriler</h2>

        <div class="solution">
            <h3>BaÅŸlangÄ±Ã§ iÃ§in</h3>
            <ul>
                <li><strong>Hero widget ile baÅŸla</strong> - Zaten view hazÄ±r, sadece schema eklenecek</li>
                <li><strong>Basit tut</strong> - Ä°lk versiyonda temel ayarlar yeterli</li>
                <li><strong>Test et</strong> - Her widget iÃ§in tenant'larda test et</li>
                <li><strong>DokÃ¼mante et</strong> - Schema formatÄ±nÄ± belge haline getir</li>
            </ul>
        </div>

        <div class="solution">
            <h3>Ä°leri AdÄ±mlar</h3>
            <ul>
                <li>DiÄŸer layout widget'larÄ± iÃ§in schema ekle</li>
                <li>Media widget iÃ§in gallery schema</li>
                <li>Testimonial widget iÃ§in review schema</li>
                <li>TÃ¼m FILE widget'larÄ± standardize et</li>
            </ul>
        </div>

        <h2>ğŸ“ SonuÃ§</h2>

        <div class="summary">
            <p>Widget FILE sistemi <span class="highlight">bÃ¼yÃ¼k potansiyele</span> sahip ama ÅŸu anda <span class="highlight">yarÄ±m kalmÄ±ÅŸ</span> durumda. Schema sistemi tamamlandÄ±ÄŸÄ±nda:</p>
            <ul>
                <li>âœ… Tenant'lar kendi widget'larÄ±nÄ± Ã¶zelleÅŸtirebilir</li>
                <li>âœ… Form Builder ile dinamik formlar oluÅŸturulabilir</li>
                <li>âœ… Hero banner tenant'a Ã¶zel olur</li>
                <li>âœ… Kod tekrarÄ± azalÄ±r, bakÄ±m kolaylaÅŸÄ±r</li>
            </ul>
            <p style="margin-top: 20px;"><strong>Ä°lk adÄ±m:</strong> Hero widget iÃ§in settings.json ve items.json oluÅŸtur!</p>
        </div>

        <div style="margin-top: 60px; padding-top: 30px; border-top: 1px solid #334155; text-align: center; color: #64748b;">
            ğŸ¤– Claude AI - Widget Sistem Analizi - 2025-12-04
        </div>
    </div>
</body>
</html>

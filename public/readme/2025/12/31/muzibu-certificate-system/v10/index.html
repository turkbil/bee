<!DOCTYPE html>
<html lang="tr">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Muzibu Sertifika Sistemi - Final v10 (ONAYLANDI)</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.1/css/all.min.css">
    <link href="https://fonts.googleapis.com/css2?family=Playfair+Display:wght@400;500;600;700&display=swap" rel="stylesheet">
    <style>
        .font-playfair { font-family: 'Playfair Display', serif; }
    </style>
</head>
<body class="bg-slate-900 text-gray-100 min-h-screen">
    <div class="max-w-5xl mx-auto px-4 py-8">

        <!-- Header -->
        <header class="text-center mb-12">
            <div class="inline-flex items-center gap-2 px-4 py-2 bg-green-600 border border-green-400 rounded-full text-white text-sm mb-4">
                <i class="fas fa-check-circle"></i>
                <span>ONAYLANDI - v10 Final</span>
            </div>
            <h1 class="text-4xl font-bold text-white mb-2">
                <i class="fas fa-certificate text-amber-400"></i> Muzibu Sertifika Sistemi
            </h1>
            <p class="text-gray-400">31 Aralık 2025 - Uygulama Aşaması</p>
        </header>

        <!-- Son Kararlar Özet -->
        <section class="bg-gradient-to-r from-green-900/50 to-emerald-900/50 border-2 border-green-500 rounded-xl p-6 mb-8">
            <h2 class="text-xl font-semibold text-green-400 mb-4">
                <i class="fas fa-clipboard-check mr-2"></i> Final Kararlar (v10)
            </h2>

            <div class="grid md:grid-cols-2 gap-4">
                <div class="bg-slate-800/60 rounded-lg p-4">
                    <h3 class="text-amber-400 font-medium mb-2"><i class="fas fa-link mr-2"></i>Doğrulama URL</h3>
                    <code class="text-white text-lg">/muzibu/certificate/{hash}</code>
                </div>
                <div class="bg-slate-800/60 rounded-lg p-4">
                    <h3 class="text-blue-400 font-medium mb-2"><i class="fas fa-calendar mr-2"></i>membership_start</h3>
                    <p class="text-white">İlk <strong class="text-green-400">ÜCRETLİ</strong> üyelik tarihi</p>
                    <p class="text-gray-500 text-xs mt-1">(Trial sayılmaz)</p>
                </div>
                <div class="bg-slate-800/60 rounded-lg p-4">
                    <h3 class="text-cyan-400 font-medium mb-2"><i class="fas fa-qrcode mr-2"></i>QR Sistemi</h3>
                    <ul class="text-gray-300 text-sm space-y-1">
                        <li><i class="fas fa-times text-red-400 mr-1"></i> DB kaydı yok</li>
                        <li><i class="fas fa-times text-red-400 mr-1"></i> URL kontrolü yok</li>
                        <li><i class="fas fa-check text-green-400 mr-1"></i> Sade, hızlı</li>
                    </ul>
                </div>
                <div class="bg-slate-800/60 rounded-lg p-4">
                    <h3 class="text-purple-400 font-medium mb-2"><i class="fas fa-magic mr-2"></i>Otomatik QR URL</h3>
                    <code class="text-gray-300 text-sm">/qr/{path}</code>
                    <p class="text-gray-500 text-xs mt-1">Tüm tenant'lar için universal</p>
                </div>
            </div>
        </section>

        <!-- Tüm Kararlar -->
        <section class="bg-slate-800/50 border border-slate-600 rounded-xl p-6 mb-8">
            <h2 class="text-xl font-semibold text-white mb-4">
                <i class="fas fa-gavel mr-2 text-amber-400"></i> Tüm Onaylanan Kararlar
            </h2>
            <div class="grid md:grid-cols-2 gap-2 text-sm">
                <div class="flex items-center gap-2"><i class="fas fa-check text-green-400"></i> Sadece aktif premium (trial YASAK)</div>
                <div class="flex items-center gap-2"><i class="fas fa-check text-green-400"></i> DB'ye kaydet</div>
                <div class="flex items-center gap-2"><i class="fas fa-check text-green-400"></i> Sadece Türkçe</div>
                <div class="flex items-center gap-2"><i class="fas fa-check text-green-400"></i> Dark + Gold tasarım</div>
                <div class="flex items-center gap-2"><i class="fas fa-check text-green-400"></i> A4 Yatay</div>
                <div class="flex items-center gap-2"><i class="fas fa-check text-green-400"></i> Tek tablo (certificates)</div>
                <div class="flex items-center gap-2"><i class="fas fa-check text-green-400"></i> view_count sayaç</div>
                <div class="flex items-center gap-2"><i class="fas fa-check text-green-400"></i> Hash bazlı URL</div>
                <div class="flex items-center gap-2"><i class="fas fa-check text-green-400"></i> Bilgiler DEĞİŞTİRİLEMEZ</div>
                <div class="flex items-center gap-2"><i class="fas fa-check text-green-400"></i> Onay + Ön izleme zorunlu</div>
                <div class="flex items-center gap-2"><i class="fas fa-check text-green-400"></i> Firma: Ad, V.D., V.No, Adres</div>
                <div class="flex items-center gap-2"><i class="fas fa-check text-green-400"></i> Geçerlilik QR'da dinamik</div>
                <div class="flex items-center gap-2"><i class="fas fa-check text-green-400"></i> İmla otomatik düzeltme</div>
                <div class="flex items-center gap-2"><i class="fas fa-check text-green-400"></i> qr($link) helper universal</div>
                <div class="flex items-center gap-2"><i class="fas fa-check text-green-400"></i> /qr/{path} URL pattern</div>
                <div class="flex items-center gap-2"><i class="fas fa-check text-green-400"></i> Sertifika sadece Muzibu'da</div>
                <div class="flex items-center gap-2 bg-amber-900/30 rounded px-2 py-1"><i class="fas fa-star text-amber-400"></i> <strong>URL: /muzibu/certificate/{hash}</strong></div>
                <div class="flex items-center gap-2 bg-blue-900/30 rounded px-2 py-1"><i class="fas fa-star text-blue-400"></i> <strong>İlk ÜCRETLİ üyelik tarihi</strong></div>
            </div>
        </section>

        <!-- Veritabanı -->
        <section class="bg-blue-900/20 border border-blue-800 rounded-xl p-6 mb-8">
            <h2 class="text-xl font-semibold text-blue-400 mb-6">
                <i class="fas fa-database mr-2"></i> Veritabanı: certificates
            </h2>

            <div class="overflow-x-auto">
                <table class="w-full text-sm">
                    <thead>
                        <tr class="text-left text-gray-400 border-b border-slate-600">
                            <th class="pb-3 pr-4">Kolon</th>
                            <th class="pb-3 pr-4">Tip</th>
                            <th class="pb-3">Açıklama</th>
                        </tr>
                    </thead>
                    <tbody class="text-gray-300">
                        <tr class="border-b border-slate-700">
                            <td class="py-2 pr-4"><code class="text-gray-500">id</code></td>
                            <td class="pr-4">bigint</td>
                            <td>Primary key</td>
                        </tr>
                        <tr class="border-b border-slate-700">
                            <td class="py-2 pr-4"><code class="text-amber-400">user_id</code></td>
                            <td class="pr-4">bigint</td>
                            <td>Sertifika sahibi</td>
                        </tr>
                        <tr class="border-b border-slate-700">
                            <td class="py-2 pr-4"><code class="text-green-400">certificate_code</code></td>
                            <td class="pr-4">varchar(32)</td>
                            <td>MZB-2025-XXXX</td>
                        </tr>
                        <tr class="border-b border-slate-700">
                            <td class="py-2 pr-4"><code class="text-purple-400">qr_hash</code></td>
                            <td class="pr-4">varchar(64)</td>
                            <td>URL hash (güvenlik)</td>
                        </tr>
                        <tr class="border-b border-slate-700 bg-amber-900/20">
                            <td class="py-2 pr-4"><code class="text-amber-400">member_name</code></td>
                            <td class="pr-4">varchar</td>
                            <td>Firma/Kişi Adı <span class="text-purple-400">(imla düzeltilmiş)</span></td>
                        </tr>
                        <tr class="border-b border-slate-700 bg-amber-900/20">
                            <td class="py-2 pr-4"><code class="text-amber-400">tax_office</code></td>
                            <td class="pr-4">varchar</td>
                            <td>Vergi Dairesi</td>
                        </tr>
                        <tr class="border-b border-slate-700 bg-amber-900/20">
                            <td class="py-2 pr-4"><code class="text-amber-400">tax_number</code></td>
                            <td class="pr-4">varchar</td>
                            <td>Vergi Numarası</td>
                        </tr>
                        <tr class="border-b border-slate-700 bg-amber-900/20">
                            <td class="py-2 pr-4"><code class="text-amber-400">address</code></td>
                            <td class="pr-4">text</td>
                            <td>Adres</td>
                        </tr>
                        <tr class="border-b border-slate-700 bg-blue-900/30">
                            <td class="py-2 pr-4"><code class="text-blue-400">membership_start</code></td>
                            <td class="pr-4">date</td>
                            <td><strong>İlk ÜCRETLİ üyelik tarihi</strong> (trial hariç)</td>
                        </tr>
                        <tr class="border-b border-slate-700 bg-green-900/20">
                            <td class="py-2 pr-4"><code class="text-green-400">view_count</code></td>
                            <td class="pr-4">int</td>
                            <td>Doğrulama sayacı</td>
                        </tr>
                        <tr class="border-b border-slate-700">
                            <td class="py-2 pr-4"><code class="text-gray-400">issued_at</code></td>
                            <td class="pr-4">datetime</td>
                            <td>Oluşturulma tarihi</td>
                        </tr>
                        <tr class="border-b border-slate-700">
                            <td class="py-2 pr-4"><code class="text-gray-400">is_valid</code></td>
                            <td class="pr-4">boolean</td>
                            <td>Geçerli mi</td>
                        </tr>
                        <tr>
                            <td class="py-2 pr-4"><code class="text-gray-500">timestamps</code></td>
                            <td class="pr-4">datetime</td>
                            <td>created_at, updated_at</td>
                        </tr>
                    </tbody>
                </table>
            </div>
        </section>

        <!-- URL Yapısı -->
        <section class="bg-cyan-900/20 border border-cyan-800 rounded-xl p-6 mb-8">
            <h2 class="text-xl font-semibold text-cyan-400 mb-4">
                <i class="fas fa-route mr-2"></i> URL Yapısı (Final)
            </h2>

            <div class="space-y-3 text-sm">
                <!-- Universal QR URL -->
                <div class="bg-gradient-to-r from-cyan-900/40 to-blue-900/40 border border-cyan-500 rounded-lg p-3">
                    <div class="flex items-center gap-2 mb-1">
                        <span class="px-2 py-0.5 bg-cyan-600 text-white text-xs rounded">GET</span>
                        <code class="text-cyan-400">/qr/{path}</code>
                        <span class="px-2 py-0.5 bg-green-600/50 text-green-300 text-xs rounded">Universal</span>
                    </div>
                    <p class="text-gray-400">Otomatik QR üret → PNG görüntü döner</p>
                </div>

                <!-- Muzibu Routes -->
                <div class="bg-slate-800 rounded-lg p-3">
                    <div class="flex items-center gap-2 mb-1">
                        <span class="px-2 py-0.5 bg-green-600 text-white text-xs rounded">GET</span>
                        <code class="text-amber-400">/my-certificate</code>
                        <span class="px-2 py-0.5 bg-red-600/50 text-red-300 text-xs rounded">Auth</span>
                    </div>
                    <p class="text-gray-400">Sertifika yok → Form | Var → İndir</p>
                </div>
                <div class="bg-slate-800 rounded-lg p-3">
                    <div class="flex items-center gap-2 mb-1">
                        <span class="px-2 py-0.5 bg-blue-600 text-white text-xs rounded">POST</span>
                        <code class="text-amber-400">/my-certificate</code>
                        <span class="px-2 py-0.5 bg-red-600/50 text-red-300 text-xs rounded">Auth</span>
                    </div>
                    <p class="text-gray-400">Form submit → Sertifika oluştur</p>
                </div>
                <div class="bg-slate-800 rounded-lg p-3">
                    <div class="flex items-center gap-2 mb-1">
                        <span class="px-2 py-0.5 bg-green-600 text-white text-xs rounded">GET</span>
                        <code class="text-amber-400">/my-certificate/download</code>
                        <span class="px-2 py-0.5 bg-red-600/50 text-red-300 text-xs rounded">Auth</span>
                    </div>
                    <p class="text-gray-400">PDF indir</p>
                </div>
                <div class="bg-gradient-to-r from-amber-900/40 to-yellow-900/40 border border-amber-500 rounded-lg p-3">
                    <div class="flex items-center gap-2 mb-1">
                        <span class="px-2 py-0.5 bg-green-600 text-white text-xs rounded">GET</span>
                        <code class="text-amber-400 text-lg font-bold">/muzibu/certificate/{hash}</code>
                        <span class="px-2 py-0.5 bg-green-600/50 text-green-300 text-xs rounded">Public</span>
                    </div>
                    <p class="text-gray-400">QR doğrulama sayfası (view_count++)</p>
                </div>
            </div>
        </section>

        <!-- Dosyalar -->
        <section class="bg-amber-900/20 border-2 border-amber-600 rounded-xl p-6 mb-8">
            <h2 class="text-xl font-semibold text-amber-400 mb-4">
                <i class="fas fa-folder-open mr-2"></i> Oluşturulacak Dosyalar
            </h2>

            <div class="space-y-4 text-sm">
                <!-- Universal QR -->
                <div class="bg-cyan-900/30 border border-cyan-600 rounded-lg p-4">
                    <p class="text-cyan-400 font-medium mb-3"><i class="fas fa-globe mr-2"></i>Universal QR Sistemi</p>
                    <div class="space-y-2 ml-4">
                        <div class="flex items-center gap-2">
                            <i class="fas fa-code text-green-400 w-4"></i>
                            <code class="text-gray-300">app/Helpers/QrHelper.php</code>
                        </div>
                        <div class="flex items-center gap-2">
                            <i class="fas fa-server text-purple-400 w-4"></i>
                            <code class="text-gray-300">app/Http/Controllers/QrController.php</code>
                        </div>
                        <div class="flex items-center gap-2">
                            <i class="fas fa-route text-amber-400 w-4"></i>
                            <code class="text-gray-300">routes/web.php</code>
                            <span class="text-gray-500 text-xs">→ Route ekle</span>
                        </div>
                    </div>
                </div>

                <!-- Muzibu Sertifika -->
                <div class="bg-blue-900/30 border border-blue-600 rounded-lg p-4">
                    <p class="text-blue-400 font-medium mb-3"><i class="fas fa-music mr-2"></i>Muzibu Sertifika Sistemi</p>
                    <div class="space-y-2 ml-4">
                        <div class="flex items-center gap-2">
                            <i class="fas fa-database text-amber-400 w-4"></i>
                            <code class="text-gray-300">Modules/Muzibu/database/migrations/2025_12_31_create_certificates_table.php</code>
                        </div>
                        <div class="flex items-center gap-2">
                            <i class="fas fa-database text-amber-400 w-4"></i>
                            <code class="text-gray-300">Modules/Muzibu/database/migrations/tenant/2025_12_31_create_certificates_table.php</code>
                        </div>
                        <div class="flex items-center gap-2">
                            <i class="fas fa-cube text-blue-400 w-4"></i>
                            <code class="text-gray-300">Modules/Muzibu/app/Models/Certificate.php</code>
                        </div>
                        <div class="flex items-center gap-2">
                            <i class="fas fa-cogs text-green-400 w-4"></i>
                            <code class="text-gray-300">Modules/Muzibu/app/Services/CertificateService.php</code>
                        </div>
                        <div class="flex items-center gap-2">
                            <i class="fas fa-code text-purple-400 w-4"></i>
                            <code class="text-gray-300">Modules/Muzibu/app/Http/Controllers/Front/CertificateController.php</code>
                        </div>
                        <div class="flex items-center gap-2">
                            <i class="fas fa-file-pdf text-red-400 w-4"></i>
                            <code class="text-gray-300">Modules/Muzibu/resources/views/certificate/pdf-template.blade.php</code>
                        </div>
                        <div class="flex items-center gap-2">
                            <i class="fas fa-wpforms text-cyan-400 w-4"></i>
                            <code class="text-gray-300">resources/views/themes/muzibu/certificate/form.blade.php</code>
                        </div>
                        <div class="flex items-center gap-2">
                            <i class="fas fa-check-circle text-green-400 w-4"></i>
                            <code class="text-gray-300">resources/views/themes/muzibu/certificate/verify.blade.php</code>
                        </div>
                    </div>
                </div>
            </div>
        </section>

        <!-- Footer -->
        <footer class="text-center text-gray-500 text-sm mt-12 pt-6 border-t border-slate-700">
            <div class="inline-flex items-center gap-2 px-4 py-2 bg-green-600 border border-green-400 rounded-full text-white mb-4">
                <i class="fas fa-rocket"></i>
                <span>Uygulama Başlıyor</span>
            </div>
            <p><i class="fas fa-robot mr-1"></i> Claude AI tarafından hazırlandı</p>
            <p class="mt-1">v10 Final (Onaylandı) - 31 Aralık 2025</p>
        </footer>

    </div>
</body>
</html>

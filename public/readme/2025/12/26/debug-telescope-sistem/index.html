<!DOCTYPE html>
<html lang="tr">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Debugbar & Telescope Sistem Yönetimi</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
</head>
<body class="bg-slate-900 text-gray-100 min-h-screen">
    <div class="max-w-5xl mx-auto px-4 py-8">

        <!-- Header -->
        <header class="text-center mb-12">
            <div class="inline-flex items-center gap-2 bg-purple-500/20 text-purple-400 px-4 py-2 rounded-full text-sm mb-4">
                <i class="fas fa-bug"></i>
                Debug Araçları
            </div>
            <h1 class="text-4xl font-bold mb-2">Debugbar & Telescope</h1>
            <p class="text-gray-400">Sistem Açma / Kapama Kılavuzu</p>
            <p class="text-gray-500 text-sm mt-2">26 Aralık 2025</p>
        </header>

        <!-- Basit Anlatım -->
        <div class="bg-green-900/20 border border-green-800 rounded-xl p-6 mb-8">
            <h2 class="text-xl font-semibold text-green-400 mb-4">
                <i class="fas fa-user mr-2"></i>Basit Anlatım (Herkes İçin)
            </h2>
            <div class="space-y-3 text-gray-300">
                <p><strong>Debugbar:</strong> Sayfanın altında çıkan, sorguları, süreleri gösteren araç çubuğu.</p>
                <p><strong>Telescope:</strong> Tüm istekleri, hataları, sorguları kaydeden detaylı izleme paneli.</p>
                <p class="text-yellow-400"><i class="fas fa-exclamation-triangle mr-1"></i> Bu araçlar performansı düşürür, sadece geliştirme/debug için açın!</p>
            </div>
        </div>

        <!-- Claude Prompt'ları -->
        <div class="bg-purple-900/20 border border-purple-800 rounded-xl p-6 mb-8">
            <h2 class="text-xl font-semibold text-purple-400 mb-4">
                <i class="fas fa-robot mr-2"></i>Claude'a Verilecek Prompt'lar
            </h2>
            <p class="text-gray-400 text-sm mb-4">Aşağıdaki prompt'ları kopyalayıp Claude'a yapıştırın:</p>

            <div class="space-y-4">
                <!-- Açma Prompt -->
                <div class="bg-slate-800/50 rounded-lg p-4 border-l-4 border-green-500">
                    <h3 class="font-medium text-green-400 mb-2">
                        <i class="fas fa-play mr-2"></i>Debug Araçlarını Aç
                    </h3>
                    <div class="bg-slate-900 rounded p-3 font-mono text-sm">
                        <p class="text-cyan-400 select-all">debugbar ve telescope'u aktifleştir</p>
                    </div>
                </div>

                <!-- Kapama Prompt -->
                <div class="bg-slate-800/50 rounded-lg p-4 border-l-4 border-red-500">
                    <h3 class="font-medium text-red-400 mb-2">
                        <i class="fas fa-power-off mr-2"></i>Debug Araçlarını Kapat
                    </h3>
                    <div class="bg-slate-900 rounded p-3 font-mono text-sm">
                        <p class="text-cyan-400 select-all">debugbar ve telescope'u kapat, production moduna dön</p>
                    </div>
                </div>

                <!-- Tenant Specific -->
                <div class="bg-slate-800/50 rounded-lg p-4 border-l-4 border-blue-500">
                    <h3 class="font-medium text-blue-400 mb-2">
                        <i class="fas fa-filter mr-2"></i>Telescope Tenant Filtresi Ayarla
                    </h3>
                    <div class="bg-slate-900 rounded p-3 font-mono text-sm space-y-2">
                        <p class="text-cyan-400 select-all">telescope'u sadece muzibu (1001) için aktif et</p>
                        <p class="text-gray-500 text-xs">veya</p>
                        <p class="text-cyan-400 select-all">telescope'u tüm tenant'lar için aktif et</p>
                        <p class="text-gray-500 text-xs">veya</p>
                        <p class="text-cyan-400 select-all">telescope tenant filtresini 1001,2 olarak ayarla</p>
                    </div>
                </div>

                <!-- Telescope Temizle -->
                <div class="bg-slate-800/50 rounded-lg p-4 border-l-4 border-yellow-500">
                    <h3 class="font-medium text-yellow-400 mb-2">
                        <i class="fas fa-trash mr-2"></i>Telescope Verilerini Temizle
                    </h3>
                    <div class="bg-slate-900 rounded p-3 font-mono text-sm">
                        <p class="text-cyan-400 select-all">telescope verilerini temizle</p>
                    </div>
                </div>

                <!-- Durum Kontrolü -->
                <div class="bg-slate-800/50 rounded-lg p-4 border-l-4 border-gray-500">
                    <h3 class="font-medium text-gray-400 mb-2">
                        <i class="fas fa-info-circle mr-2"></i>Mevcut Durumu Kontrol Et
                    </h3>
                    <div class="bg-slate-900 rounded p-3 font-mono text-sm">
                        <p class="text-cyan-400 select-all">debug araçlarının mevcut durumunu kontrol et</p>
                    </div>
                </div>
            </div>
        </div>

        <!-- Mevcut Durum -->
        <div class="bg-slate-800 rounded-xl p-6 mb-8">
            <h2 class="text-xl font-semibold text-white mb-4">
                <i class="fas fa-info-circle mr-2 text-blue-400"></i>Mevcut Durum
            </h2>
            <div class="grid md:grid-cols-2 gap-4">
                <div class="bg-slate-700/50 rounded-lg p-4">
                    <h3 class="font-medium text-green-400 mb-2">Şu An Açık</h3>
                    <ul class="text-sm space-y-1 text-gray-300">
                        <li><i class="fas fa-check text-green-500 mr-2"></i>APP_DEBUG = true</li>
                        <li><i class="fas fa-check text-green-500 mr-2"></i>APP_DEBUG_TOOLS = true</li>
                        <li><i class="fas fa-check text-green-500 mr-2"></i>Debugbar aktif</li>
                        <li><i class="fas fa-check text-green-500 mr-2"></i>Telescope aktif (sadece 1001)</li>
                    </ul>
                </div>
                <div class="bg-slate-700/50 rounded-lg p-4">
                    <h3 class="font-medium text-blue-400 mb-2">Telescope Tenant Filtre</h3>
                    <ul class="text-sm space-y-1 text-gray-300">
                        <li><i class="fas fa-filter text-blue-500 mr-2"></i>TELESCOPE_TENANT_IDS = 1001</li>
                        <li><i class="fas fa-music text-purple-500 mr-2"></i>Sadece Muzibu kaydediliyor</li>
                        <li><i class="fas fa-ban text-red-500 mr-2"></i>Diğer tenant'lar kaydedilmiyor</li>
                    </ul>
                </div>
            </div>
        </div>

        <!-- KAPAMA -->
        <div class="bg-red-900/20 border border-red-800 rounded-xl p-6 mb-8">
            <h2 class="text-2xl font-bold text-red-400 mb-6">
                <i class="fas fa-power-off mr-2"></i>KAPATMA (Production'a Dönüş)
            </h2>

            <div class="space-y-6">
                <!-- Adım 1 -->
                <div class="bg-slate-800/50 rounded-lg p-4">
                    <h3 class="font-semibold text-white mb-3">
                        <span class="bg-red-500 text-white px-2 py-1 rounded text-sm mr-2">1</span>
                        .env Düzenle
                    </h3>
                    <div class="bg-slate-900 rounded p-4 font-mono text-sm overflow-x-auto">
                        <p class="text-gray-500"># Dosya: /var/www/vhosts/tuufi.com/httpdocs/.env</p>
                        <p class="text-gray-500 mt-2"># Şu satırları bul ve değiştir:</p>
                        <p class="mt-2"><span class="text-red-400">APP_DEBUG_TOOLS=true</span> <span class="text-gray-500">→</span> <span class="text-green-400">APP_DEBUG_TOOLS=false</span></p>
                        <p class="mt-1 text-gray-500"># Opsiyonel: Telescope tenant filtresini de kaldır</p>
                        <p><span class="text-red-400">TELESCOPE_TENANT_IDS=1001</span> <span class="text-gray-500">→</span> <span class="text-green-400">TELESCOPE_TENANT_IDS=</span></p>
                    </div>
                </div>

                <!-- Adım 2 -->
                <div class="bg-slate-800/50 rounded-lg p-4">
                    <h3 class="font-semibold text-white mb-3">
                        <span class="bg-red-500 text-white px-2 py-1 rounded text-sm mr-2">2</span>
                        Cache Temizle
                    </h3>
                    <div class="bg-slate-900 rounded p-4 font-mono text-sm overflow-x-auto">
                        <p class="text-yellow-400">php artisan config:clear</p>
                        <p class="text-yellow-400">php artisan cache:clear</p>
                        <p class="text-yellow-400">curl -s -k https://ixtif.com/opcache-reset.php</p>
                    </div>
                </div>

                <!-- Tek Komut -->
                <div class="bg-slate-800/50 rounded-lg p-4 border-2 border-red-500/50">
                    <h3 class="font-semibold text-white mb-3">
                        <i class="fas fa-terminal text-red-400 mr-2"></i>Tek Komutla Kapat (Kopyala-Yapıştır)
                    </h3>
                    <div class="bg-slate-900 rounded p-4 font-mono text-xs overflow-x-auto">
                        <p class="text-green-400 select-all">sed -i 's/^APP_DEBUG_TOOLS=true/APP_DEBUG_TOOLS=false/' /var/www/vhosts/tuufi.com/httpdocs/.env && php artisan config:clear && php artisan cache:clear && curl -s -k https://ixtif.com/opcache-reset.php > /dev/null && echo "✅ Debug araçları kapatıldı"</p>
                    </div>
                </div>
            </div>
        </div>

        <!-- AÇMA -->
        <div class="bg-green-900/20 border border-green-800 rounded-xl p-6 mb-8">
            <h2 class="text-2xl font-bold text-green-400 mb-6">
                <i class="fas fa-play mr-2"></i>AÇMA (Debug Modu)
            </h2>

            <div class="space-y-6">
                <!-- Adım 1 -->
                <div class="bg-slate-800/50 rounded-lg p-4">
                    <h3 class="font-semibold text-white mb-3">
                        <span class="bg-green-500 text-white px-2 py-1 rounded text-sm mr-2">1</span>
                        .env Düzenle
                    </h3>
                    <div class="bg-slate-900 rounded p-4 font-mono text-sm overflow-x-auto">
                        <p class="text-gray-500"># Dosya: /var/www/vhosts/tuufi.com/httpdocs/.env</p>
                        <p class="mt-2"><span class="text-red-400">APP_DEBUG_TOOLS=false</span> <span class="text-gray-500">→</span> <span class="text-green-400">APP_DEBUG_TOOLS=true</span></p>
                        <p class="mt-3 text-gray-500"># Telescope için tenant filtresi (opsiyonel):</p>
                        <p><span class="text-green-400">TELESCOPE_TENANT_IDS=1001</span> <span class="text-gray-500"># Sadece Muzibu</span></p>
                        <p><span class="text-green-400">TELESCOPE_TENANT_IDS=1001,2</span> <span class="text-gray-500"># Muzibu + İxtif</span></p>
                        <p><span class="text-green-400">TELESCOPE_TENANT_IDS=</span> <span class="text-gray-500"># Tüm tenant'lar (boş)</span></p>
                    </div>
                </div>

                <!-- Adım 2 -->
                <div class="bg-slate-800/50 rounded-lg p-4">
                    <h3 class="font-semibold text-white mb-3">
                        <span class="bg-green-500 text-white px-2 py-1 rounded text-sm mr-2">2</span>
                        Cache Temizle
                    </h3>
                    <div class="bg-slate-900 rounded p-4 font-mono text-sm overflow-x-auto">
                        <p class="text-yellow-400">php artisan config:clear</p>
                        <p class="text-yellow-400">php artisan cache:clear</p>
                        <p class="text-yellow-400">curl -s -k https://ixtif.com/opcache-reset.php</p>
                    </div>
                </div>

                <!-- Tek Komut -->
                <div class="bg-slate-800/50 rounded-lg p-4 border-2 border-green-500/50">
                    <h3 class="font-semibold text-white mb-3">
                        <i class="fas fa-terminal text-green-400 mr-2"></i>Tek Komutla Aç (Kopyala-Yapıştır)
                    </h3>
                    <div class="bg-slate-900 rounded p-4 font-mono text-xs overflow-x-auto">
                        <p class="text-green-400 select-all">sed -i 's/^APP_DEBUG_TOOLS=false/APP_DEBUG_TOOLS=true/' /var/www/vhosts/tuufi.com/httpdocs/.env && php artisan config:clear && php artisan cache:clear && curl -s -k https://ixtif.com/opcache-reset.php > /dev/null && echo "✅ Debug araçları açıldı"</p>
                    </div>
                </div>
            </div>
        </div>

        <!-- Telescope Özel Ayarlar -->
        <div class="bg-blue-900/20 border border-blue-800 rounded-xl p-6 mb-8">
            <h2 class="text-xl font-semibold text-blue-400 mb-4">
                <i class="fas fa-satellite-dish mr-2"></i>Telescope Tenant Filtresi
            </h2>

            <div class="bg-slate-800/50 rounded-lg p-4 mb-4">
                <h3 class="font-medium text-white mb-3">Ayar: TELESCOPE_TENANT_IDS</h3>
                <table class="w-full text-sm">
                    <thead>
                        <tr class="text-left text-gray-400 border-b border-slate-700">
                            <th class="pb-2">Değer</th>
                            <th class="pb-2">Sonuç</th>
                        </tr>
                    </thead>
                    <tbody class="text-gray-300">
                        <tr class="border-b border-slate-700/50">
                            <td class="py-2 font-mono text-green-400">1001</td>
                            <td class="py-2">Sadece Muzibu kaydedilir</td>
                        </tr>
                        <tr class="border-b border-slate-700/50">
                            <td class="py-2 font-mono text-green-400">1001,2</td>
                            <td class="py-2">Muzibu + İxtif kaydedilir</td>
                        </tr>
                        <tr class="border-b border-slate-700/50">
                            <td class="py-2 font-mono text-green-400">2</td>
                            <td class="py-2">Sadece İxtif kaydedilir</td>
                        </tr>
                        <tr>
                            <td class="py-2 font-mono text-yellow-400">(boş)</td>
                            <td class="py-2">Tüm tenant'lar kaydedilir</td>
                        </tr>
                    </tbody>
                </table>
            </div>

            <div class="bg-slate-800/50 rounded-lg p-4">
                <h3 class="font-medium text-white mb-3">Telescope Verileri Temizleme</h3>
                <div class="bg-slate-900 rounded p-4 font-mono text-sm">
                    <p class="text-yellow-400">php artisan telescope:clear</p>
                </div>
            </div>
        </div>

        <!-- Erişim Linkleri -->
        <div class="bg-slate-800 rounded-xl p-6 mb-8">
            <h2 class="text-xl font-semibold text-white mb-4">
                <i class="fas fa-link mr-2 text-purple-400"></i>Erişim Linkleri
            </h2>
            <div class="grid md:grid-cols-2 gap-4">
                <a href="https://ixtif.com/telescope" target="_blank" class="bg-purple-600/20 hover:bg-purple-600/30 border border-purple-500/50 rounded-lg p-4 transition-colors">
                    <h3 class="font-medium text-purple-400 mb-1">
                        <i class="fas fa-satellite-dish mr-2"></i>Telescope Panel
                    </h3>
                    <p class="text-sm text-gray-400">https://ixtif.com/telescope</p>
                </a>
                <div class="bg-orange-600/20 border border-orange-500/50 rounded-lg p-4">
                    <h3 class="font-medium text-orange-400 mb-1">
                        <i class="fas fa-bug mr-2"></i>Debugbar
                    </h3>
                    <p class="text-sm text-gray-400">Sayfa altında otomatik görünür</p>
                </div>
            </div>
        </div>

        <!-- Response Cache Notu -->
        <div class="bg-yellow-900/20 border border-yellow-800 rounded-xl p-6 mb-8">
            <h2 class="text-xl font-semibold text-yellow-400 mb-4">
                <i class="fas fa-bolt mr-2"></i>Response Cache (Tenant-Aware)
            </h2>
            <div class="text-gray-300 space-y-2">
                <p>Response cache <strong>tenant bazlı</strong> çalışıyor ve <strong>.env'den bağımsız</strong>:</p>
                <ul class="list-disc list-inside text-sm space-y-1 ml-4">
                    <li><strong>Muzibu (1001):</strong> Cache <span class="text-red-400">KAPALI</span> (tenant setting = 0)</li>
                    <li><strong>İxtif (2):</strong> Cache <span class="text-green-400">AÇIK</span> (tenant setting = true)</li>
                </ul>
                <p class="text-sm text-gray-400 mt-3">
                    <i class="fas fa-info-circle mr-1"></i>
                    Ayar: Admin Panel → Settings → response_cache_enabled
                </p>
            </div>
        </div>

        <!-- Teknik Detaylar -->
        <div class="bg-slate-800/50 border border-slate-700 rounded-xl p-6 mb-8">
            <h2 class="text-xl font-semibold text-gray-300 mb-4">
                <i class="fas fa-cog mr-2"></i>Teknik Detaylar
            </h2>
            <div class="text-sm text-gray-400 space-y-2">
                <p><strong>Dosyalar:</strong></p>
                <ul class="list-disc list-inside ml-4 space-y-1 font-mono text-xs">
                    <li>.env (APP_DEBUG_TOOLS, TELESCOPE_TENANT_IDS)</li>
                    <li>config/debugbar.php (Debugbar ayarları)</li>
                    <li>config/telescope.php (Telescope ayarları)</li>
                    <li>app/Providers/TelescopeServiceProvider.php (Tenant filter)</li>
                    <li>app/Services/TenantCacheProfile.php (Response cache)</li>
                </ul>
            </div>
        </div>

        <!-- Footer -->
        <footer class="text-center text-gray-500 text-sm mt-12 pt-8 border-t border-slate-800">
            <p>Claude AI tarafından oluşturuldu</p>
            <p class="mt-1">26 Aralık 2025</p>
        </footer>

    </div>
</body>
</html>
